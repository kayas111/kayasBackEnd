{"version":3,"file":"static/js/5974.adfe7790.chunk.js","mappings":"6NAIO,SAASA,IAChB,MAAOC,IAASC,EAAAA,EAAAA,IAAW,CAAC,UACtBC,EAAMC,IAASC,EAAAA,EAAAA,UAAS,sBACxBC,EAAQC,IAAWF,EAAAA,EAAAA,UAAS,IA6B9B,OA3BJG,EAAAA,EAAAA,WAAU,MACmB,KAAtBC,EAAAA,EAAAA,IAAWR,KACVS,EAAAA,EAAAA,IAAW,cAAc,yBAAyB,KAClDC,OAAOC,MAAM,yCACbD,OAAOE,SAASC,KAAK,+BAI7BC,EAAAA,EAAAA,IAAkBd,EAAQe,KAAKC,SAASC,KAAKC,IAC7Cf,EAAQe,EAAUhB,QAGlBiB,MAAM,4BAA4BF,KAAKG,GAAMA,EAAKC,QAAQJ,KAAKG,IAC3DE,QAAQC,IAAIH,OAQd,KAMUI,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACC,QAAQ,OAAOC,UAChCC,EAAAA,EAAAA,MAAA,OAAKC,MAAM,MAAKF,SAAA,EACxBH,EAAAA,EAAAA,KAAA,OAAKK,MAAM,cACXD,EAAAA,EAAAA,MAAA,OAAKC,MAAM,WAAUF,SAAA,EACrBH,EAAAA,EAAAA,KAAA,OAAKK,MAAM,qBAAoBF,SAAC,+CAChCH,EAAAA,EAAAA,KAAA,SACAA,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACK,UAAU,SAAUC,SAAS,OAAOL,QAAQ,OAAOC,SAAC,uCACjEC,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACC,QAAQ,MAAMM,OAAO,oBAAoBL,SAAA,EACtDH,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACK,UAAU,SAASC,SAAS,OAAOE,WAAW,OAAON,SAAEzB,KAAWsB,EAAAA,EAAAA,KAAA,SAC/EA,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACK,UAAU,UAAUH,SAAC,yGAAyGH,EAAAA,EAAAA,KAAA,SAC3IA,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACS,MAAM,SAASH,SAAS,OAAOD,UAAU,SAASG,WAAW,OAAON,SAAEtB,KACnFmB,EAAAA,EAAAA,KAAA,OAAKK,MAAM,UACXM,QAASA,KACL7B,EAAU,sBACVQ,EAAAA,EAAAA,IAAkBd,EAAQe,KAAKC,SAASC,KAAKC,KAEX,IAA3BA,EAAUkB,KAAKC,UACd/B,EAAU,4DAEVa,MAAM,uBAAuB,CACzBmB,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAU,CAACJ,OAAO,kBAAkBK,QAAQ,CAACC,cAAcC,SAAS7C,EAAQe,KAAKC,SAAS8B,cAAc,sBAAsBC,YAAY,qBAGrJ9B,KAAK+B,GAAKA,EAAI3B,QAAQJ,KAAKG,IAC1Bd,EAAUc,EAAK6B,UAM7BtB,SAED,6BAIDH,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACyB,WAAW,QAAQvB,UAChCH,EAAAA,EAAAA,KAAA,OAAK2B,IAAKC,EAAYvB,MAAM,iBAAiBwB,IAAI,cAIjD7B,EAAAA,EAAAA,KAAA,OAAKK,MAAM,iBAIX,CAEA,S","sources":["pages/bnpl/CompletePromotionTransaction.js"],"sourcesContent":["import { useEffect,useState } from \"react\"\r\nimport { GetTradingDetails, IsLoggedIn, ToastAlert } from \"../Functions\"\r\nimport { useCookies } from \"react-cookie\"\r\nimport bnplImage1 from '../imgs/bnplImage1.jpg'\r\nexport function CompletePromotionTransaction(){\r\nconst [cookies]=useCookies(['user'])\r\nconst[name, setName]=useState('Please wait......')\r\nconst[status, setStatus]=useState('')\r\n\r\nuseEffect(()=>{\r\n    if(IsLoggedIn(cookies)===false){\r\n        ToastAlert('toastAlert2','You are not logged in.',4000)\r\n        window.alert('You are not logged in. Please log in.')\r\n        window.location.href=\"/pages/bnpl/bnplpromotion\"\r\n      } else{\r\n\r\n\r\nGetTradingDetails(cookies.user.contact).then(traderObj=>{\r\nsetName(traderObj.name)\r\n})\r\n\r\nfetch('/getTotalPromotionTokens').then(resp=>resp.json()).then(resp=>{\r\n    console.log(resp)\r\n})\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n},[])\r\n\r\n\r\n\r\n\r\n\r\n    return (<div style={{padding:\"5px\"}}>\r\n        <div class=\"row\">\r\n<div class=\"col-md-3\"></div>\r\n<div class=\"col-md-6\">\r\n<div class=\"blackBgOrangeColor\">Request for discount - Nalikka Restaurant</div>\r\n<p></p>\r\n<div style={{textAlign:\"center\", fontSize:\"20px\",padding:\"5px\"}}>Food promotion - 1,000/= discount</div>\r\n<div style={{padding:\"5px\",border:\"1px solid orange\"}}>\r\n<div style={{textAlign:\"center\",fontSize:\"24px\",fontWeight:\"600\"}}>{name}</div><p></p>\r\n<div style={{textAlign:\"center\"}}>Show your phone to the restaturant owner to complete the transaction and get a discount of 1,000shs</div><p></p>\r\n<div style={{color:\"orange\",fontSize:\"18px\",textAlign:\"center\",fontWeight:\"600\"}}>{status}</div>\r\n<div class=\"button1\"\r\nonClick={()=>{\r\n    setStatus('Please wait......')\r\n    GetTradingDetails(cookies.user.contact).then(traderObj=>{\r\n            \r\n        if(traderObj.bnpl.isEligibe===false){\r\n            setStatus(\"You've not registered for Kayas services. Contact Kayas.\")  \r\n        }else{\r\n            fetch('/updateTraderDetails',{\r\n                method:\"post\",\r\n                headers:{'Content-type':'application/json'},\r\n                body:JSON.stringify({method:'updateAsKayaser',argsObj:{traderContact:parseInt(cookies.user.contact),fieldToUpdate:'bnplPromotionTokens',updateValue:'notApplicable'}\r\n          \r\n                }) \r\n            }).then(res=>res.json()).then(resp=>{\r\n                setStatus(resp.msg)  \r\n            })\r\n\r\n        }\r\n        \r\n        })\r\n}}\r\n\r\n>Complete transaction</div>\r\n</div>\r\n\r\n\r\n<div style={{paddingTop:\"30px\"}}>\r\n<img src={bnplImage1} class=\" d-block w-100\" alt=\"...\"/>\r\n</div>\r\n\r\n</div>\r\n<div class=\"col-md-3\"></div>\r\n\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default CompletePromotionTransaction"],"names":["CompletePromotionTransaction","cookies","useCookies","name","setName","useState","status","setStatus","useEffect","IsLoggedIn","ToastAlert","window","alert","location","href","GetTradingDetails","user","contact","then","traderObj","fetch","resp","json","console","log","_jsx","style","padding","children","_jsxs","class","textAlign","fontSize","border","fontWeight","color","onClick","bnpl","isEligibe","method","headers","body","JSON","stringify","argsObj","traderContact","parseInt","fieldToUpdate","updateValue","res","msg","paddingTop","src","bnplImage1","alt"],"sourceRoot":""}