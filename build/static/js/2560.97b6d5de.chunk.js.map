{"version":3,"file":"static/js/2560.97b6d5de.chunk.js","mappings":"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","sources":["pages/attendanceregs/AttendanceRegsHome.js","pages/attendanceregs/MyRegisters.js","pages/attendanceregs/CreateAttendanceRegister.js"],"sourcesContent":["\nimport React, {useEffect,useState} from 'react'\nimport { Link } from \"react-router-dom\"\n\nexport function AttendenceRegisterNav(){\n  let style2={padding:\"3px\"}\n    return(\n  <div>\n      <div style={{paddingTop:\"8px\",display:\"flex\",flexWrap:\"wrap\"}}>\n       \n      <div style={style2}>\n        <Link to='/pages/attendanceregs/myregisters'>  <div class=\"button1\">\n     \n     <span class=\"fa fa-list\"></span> My registers\n</div></Link>\n     \n\n\n</div>\n      <div style={style2}>\n      <Link to='/pages/attendanceregs/createattendanceregister'>\n      <div class=\"button1\" ><span ><span class=\"fa fa-plus\"></span> New register</span></div>\n      </Link>\n       \n       \n       </div>\n\n\n  \n\n          \n\n            \n            \n            \n            \n            \n            </div>\n\n\n\n  </div>\n    )\n  }\nexport function RegistrationHome(){\n    return(\n        <div>\n            <div style={{color:\"red\",fontSize:\"25px\",textAlign:\"center\"}}>Kayas Attendance Registers</div>\n            \n            <AttendenceRegisterNav/>\n   \n        </div>\n        )\n}\n\n\n\n\n\n     ","\r\nimport React, {useState,useEffect} from 'react'\r\nimport { ToastAlert,IsLoggedIn,SuspenseComponent, MessageComponent } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nimport LoginPage from '../LoginPage';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport function MyRegisters(){\r\n  const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\n    const[status,setStatus]=useState('')\r\n    const[goToRegisterStatus,setGoToRegisterStatus]=useState('')\r\n    let [arrayOfRegisters,setArrayOfRegisters]=useState([])\r\n    const[showSuspenseComponent,setShowSuspenseComponent]=useState(true)\r\n\r\n    let data=\"\"\r\n    const[myRegisters,setMyRegisters]=useState(<SuspenseComponent/>)\r\n\r\nuseEffect(()=>{\r\n  fetch('/getMyRegisters',{\r\n    method:\"post\",\r\n    headers:{'Content-type':'application/json'},\r\n    body:JSON.stringify({\r\n      contact:parseInt(cookies.user.contact),\r\n    })\r\n  }).then(resp=>{\r\n   return resp.json()}).then(resp=>{\r\n   \r\n  if(resp.length===0){\r\n  setArrayOfRegisters([])\r\n  ToastAlert('toastAlert2',\"You don't have any contact registers. Please create one\",4000)\r\n  setTimeout(()=>{\r\n    window.location.href='/pages/attendanceregs/createattendanceregister'\r\n  },5000)\r\n  \r\n  }else{\r\n    \r\n  resp.reverse()\r\n  setArrayOfRegisters(resp)\r\n  setShowSuspenseComponent(false)\r\n  \r\n  // setMyRegisters(\r\n  // resp.map((register)=>{\r\n  // return(\r\n  //   <div class='col-sm-6 col-md-3'>\r\n  //     <Link to={`/pages/attendanceregs/${register.contact}/${register.registerId}`}\r\n  //     >\r\n  \r\n  // <div class=\"divContainer1\">\r\n  // <div  class=\"divContainer1Inner\">\r\n  // <div class=\"bold\" >{register.registerTitle}</div>\r\n  // <div class='light'>{register.attendees.length} contacts</div>\r\n  // </div>\r\n  // </div>\r\n  \r\n  \r\n  //     </Link>\r\n  //   </div>\r\n  // )\r\n  // })\r\n  \r\n  // )\r\n  \r\n  }\r\n  \r\n      \r\n     \r\n      })\r\n},[])\r\n    \r\n     \r\n    if(IsLoggedIn(cookies)==true){\r\n           \r\n          return(<div>\r\n        \r\n            <div style={{padding:\"5px\"}}>\r\n              \r\n            <div id=\"myregisters\" class=\"pageLabel\">My registers</div>\r\n            <div class=\"pageDescription\">A list of all contact registers created by you.</div>\r\n            <div style={{paddingTop:\"7px\"}}class=\"row\">\r\n              {/* {myRegisters} */}\r\n              {\r\n \r\n  \r\n (()=>{\r\n    return( arrayOfRegisters.map((register)=>{\r\n     return(\r\n       <div class='col-sm-6 col-md-3'>\r\n         <Link to={`/pages/attendanceregs/${register.contact}/${register.registerId}`}\r\n         >\r\n     <div class=\"divContainer1\">\r\n     <div  class=\"divContainer1Inner\">\r\n     <div class=\"bold\" >{register.registerTitle}</div>\r\n     <div class='light'>{register.attendees.length} contacts</div>\r\n     </div>\r\n     </div>\r\n     \r\n     \r\n         </Link>\r\n       </div>\r\n     )\r\n     \r\n     }\r\n  \r\n   \r\n     \r\n     )\r\n     \r\n     )\r\n \r\n \r\n \r\n    \r\n })()\r\n     \r\n } <p></p>\r\n              {showSuspenseComponent && <SuspenseComponent/>}\r\n   \r\n\r\n\r\n\r\n\r\n              </div>\r\n      \r\n       \r\n       </div>\r\n      \r\n      \r\n       \r\n         \r\n          \r\n                  </div>)    \r\n      \r\n      }else{\r\n      \r\n      return(<div>\r\n     <LoginPage />\r\n      </div>)\r\n      \r\n      }\r\n  \r\n            \r\n          \r\n  }\r\n\r\n  export default MyRegisters","\r\nimport React, {useEffect,useState} from 'react'\r\nimport { ToastAlert,IsLoggedIn } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nimport { AttendenceRegisterNav } from './AttendanceRegsHome';\r\nimport MyRegisters from './MyRegisters';\r\nexport function CreateAttendanceRegister(){\r\n    const[status,setStatus]=useState('')\r\n    const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\n   \r\n    return (<div class=\"componentPadding\">\r\n         \r\n<div class='row'>\r\n<div class='col-md-3'></div>\r\n<div class='col-md-6'><div>\r\n      <div class=\"pageLabel\">Send an SMS message to many contacts at once.</div>\r\n      <div class=\"pageDescription\">Create a register, save contacts in the register and send an SMS message to all the contacts at once. You can also make quick phones calls to all the contacts.</div>\r\n<AttendenceRegisterNav/>\r\n<p></p>\r\n         <form method=\"post\" id=\"attendanceRegisterCreateForm\" action=\"#\">\r\n      <div class=\"bold\">Create new contact register</div>\r\n      <div class=\"light\">Type a name to create a new register and save contacts to it.</div>\r\n      <p></p>\r\n       <div class=\"mb-3\">\r\n        <div class=\"formInputLabel\">Name of register</div>\r\n       <textarea rows=\"2\" type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"attendanceRegisterTitle\" ></textarea>\r\n  \r\n     \r\n       </div>\r\n       \r\n       <div style={{fontSize:\"17px\",paddingBottom:\"3px\"}} dangerouslySetInnerHTML={{__html:status}}/>\r\n       <div  onClick={\r\n       \r\n         ()=>{\r\n\r\nif(IsLoggedIn(cookies)===true){\r\n  \r\n          \r\n  if(Array.from(document.getElementById(\"attendanceRegisterCreateForm\").attendanceRegisterTitle.value).length<1){\r\n    ToastAlert('toastAlert2','Type a name for the register',3000)\r\n              \r\n    \r\n    }  \r\n    else{\r\n           \r\n        ToastAlert('toastAlert1','Please wait.........',3000)\r\n        fetch(`/getTradingDetails/${cookies.user.contact}`).then(resp=>{\r\n    \r\n       return resp.json()}).then(response=>{\r\n  \r\n  let traderDetailsObj=response[0]\r\n       \r\n         if(traderDetailsObj.permissionTokensObj.createAttendanceRegisterTokens>0){\r\n                             \r\n           ToastAlert('toastAlert1','Creating............',7000)\r\n      \r\n           fetch('/createAttendanceRegister',{\r\n       method:\"post\",\r\n       headers:{'Content-type':'application/json'},\r\n       body:JSON.stringify({\r\n  registerTitle:document.getElementById(\"attendanceRegisterCreateForm\").attendanceRegisterTitle.value,\r\n  institution:traderDetailsObj.institution,\r\n  name:traderDetailsObj.name,\r\n  contact:parseInt(traderDetailsObj.contact),\r\n       })\r\n   }).then(resp=>{\r\n       \r\n       return resp.json()}).then(res=>{\r\n      \r\n      if(res.registerLimitReached===1){\r\n       ToastAlert('toastAlert2','Limit reached, cant create more registers',3000)\r\n      }else{\r\n       if(res.success===1){\r\n         ToastAlert('toastAlert1','Successful, please wait......',5000)\r\n         document.getElementById(\"attendanceRegisterCreateForm\").attendanceRegisterTitle.value=\"\"\r\n     \r\n         window.location.href=`/pages/attendanceregs/${res.contact}/${res.registerId}`\r\n       }else{\r\n         \r\n         ToastAlert('toastAlert2','Not created, try again',3000)\r\n  \r\n       }\r\n      }\r\n          \r\n    \r\n       })\r\n     \r\n          }\r\n         else {\r\n  \r\n           ToastAlert('toastAlert2','Contact Kayas to create more registers',4000)\r\n         }\r\n        \r\n       })\r\n  \r\n        \r\n           \r\n        \r\n      \r\n    }\r\n           \r\n}else{}\r\n\r\n         }\r\n       } class=\"btn btn-success\" style={{width:\"100%\"}}>Create register</div><p></p>\r\n      \r\n       </form>\r\n       </div></div>\r\n<div class='col-md-3'></div>\r\n</div>\r\n    \r\n    \r\n  \r\n     </div>)\r\n}\r\n\r\nexport default CreateAttendanceRegister"],"names":["AttendenceRegisterNav","style2","padding","_jsx","children","_jsxs","style","paddingTop","display","flexWrap","Link","to","class","MyRegisters","cookies","setCookie","removeCookie","useCookies","status","setStatus","useState","goToRegisterStatus","setGoToRegisterStatus","arrayOfRegisters","setArrayOfRegisters","showSuspenseComponent","setShowSuspenseComponent","myRegisters","setMyRegisters","SuspenseComponent","useEffect","fetch","method","headers","body","JSON","stringify","contact","parseInt","user","then","resp","json","length","ToastAlert","setTimeout","window","location","href","reverse","IsLoggedIn","id","map","register","concat","registerId","registerTitle","attendees","LoginPage","CreateAttendanceRegister","action","rows","type","autoComplete","name","fontSize","paddingBottom","dangerouslySetInnerHTML","__html","onClick","Array","from","document","getElementById","attendanceRegisterTitle","value","response","traderDetailsObj","permissionTokensObj","createAttendanceRegisterTokens","institution","res","registerLimitReached","success","width"],"sourceRoot":""}