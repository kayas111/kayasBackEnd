{"version":3,"file":"static/js/6483.52576e5c.chunk.js","mappings":"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","sources":["pages/attendanceregs/AttendanceRegsHome.js","pages/attendanceregs/EditRegister.js"],"sourcesContent":["\nimport React, {useEffect,useState} from 'react'\n\nimport { Link } from \"react-router-dom\";\n\n\n\n\n\n\nexport function AttendenceRegisterNav(){\n  let style2={padding:\"3px\"}\n    return(\n  <div>\n      <div style={{paddingTop:\"8px\",display:\"flex\",flexWrap:\"wrap\"}}>\n      <div style={style2}>\n      \n       <Link to='/pages/attendanceregs/createattendanceregister'><div class=\"button1\" ><span ><span class=\"fa fa-plus\"></span> Create register</span></div></Link>\n       \n       </div>\n\n\n   \n      <div style={style2}>\n        \n        <a href=\"/pages/attendanceregs/myregisters\">\n        <div class=\"button1\">\n     \n        <span class=\"fa fa-list\"></span> My registers\n</div>\n</a>\n\n\n</div>\n\n          \n\n            \n            \n            \n            \n            \n            </div>\n\n\n\n  </div>\n    )\n  }\nexport function RegistrationHome(){\n    return(\n        <div>\n            <div style={{color:\"red\",fontSize:\"25px\",textAlign:\"center\"}}>Kayas Attendance Registers</div>\n            \n            <AttendenceRegisterNav/>\n   \n        </div>\n        )\n}\n\n\n\n\n\n     ","\r\nimport React, {useEffect,useState} from 'react'\r\nimport { ToastAlert } from '../Functions';\r\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { AttendenceRegisterNav } from './AttendanceRegsHome';\r\n\r\nexport function EditRegister(){\r\n    let componentParams=useParams()\r\n    const[status,setStatus]=useState('')\r\n    const[registerTitle,setRegisterTitle]=useState('')\r\n    const[alert,setAlert]=useState('')\r\n   \r\n    useEffect(()=>{\r\n      ToastAlert('toastAlert1','Please wait as we retrieve your Register ....',3000)\r\n      \r\n      fetch(`/attendanceregs/${componentParams.registrarContact}/${componentParams.registerId}`).then(res=>res.json()).then(resp=>{\r\n  \r\n        if(resp.presence===0){\r\n            ToastAlert('toastAlert2','Does not exist',3000)\r\n         setAlert('<div style=\"color:red;\">This Register does not exist.</div>')\r\n         setRegisterTitle('<div style=\"color:red;\"> DOES NOT EXIST</div>')\r\n        }else{\r\n         \r\n          setRegisterTitle(resp.registerTitle)\r\n          document.getElementById(\"registerEditForm\").registerTitle.value=resp.registerTitle\r\n      setAlert(`<div style=\"color:green;\">Successful. <span style=\"color:red;\">${resp.name}</span> please proceed with editing your Register. <span style=\"color:red;\">But remember</span> that editing your register will make you lose all your registered contacts.</div>`)\r\n        }\r\n      \r\n  \r\n      })\r\n    },[])\r\n    return (<div>\r\n           <AttendenceRegisterNav/>\r\n        <p></p>\r\n      <div style={{padding:\"20px\"}}><div style={{color:\"green\", fontSize:\"15px\",fontWeight:\"\"}}>Edit/clear register: <br></br><div style={{fontSize:'15px'}} dangerouslySetInnerHTML={{__html:registerTitle}}/></div>\r\n   <p></p>   <div style={{fontSize:\"15px\",paddingBottom:\"10px\"}} dangerouslySetInnerHTML={{__html:alert}}/>\r\n    <form method=\"post\" id=\"registerEditForm\" action=\"#\">\r\n     <div class=\"mb-3\">\r\n     <div class=\"row\" style={{paddingBottom:\"3px\"}}><div class=\"col-6\"><div style={{paddingBottom:\"8px\"}}><div class=\"formLabel\">Register title</div></div></div><div style={{textAlign:\"right\"}}class=\"col-6\"><div class=\"btn btn-danger btn-sm\"\r\n      onClick={()=>{document.getElementById(\"registerEditForm\").registerTitle.value=''}}>Clear Title</div></div></div>\r\n     <textarea rows=\"2\" type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"registerTitle\" placeholder='Type the New title here'></textarea>\r\n    <br></br>\r\n   \r\n    <input type=\"hidden\" class=\"form-control\" autoComplete=\"off\" name=\"contact\"defaultValue={componentParams.registrarContact}></input>\r\n   <input type=\"password\" class=\"form-control\" autoComplete=\"off\" name=\"pin\"  placeholder=\"Enter your PIN e.g. 12345 (5 digits)\" ></input>\r\n    \r\n   \r\n     </div>\r\n     \r\n     <div style={{fontSize:\"17px\",paddingBottom:\"10px\"}} dangerouslySetInnerHTML={{__html:status}}/>\r\n     <div style={{borderRadius:\"18px\"}}  onClick={\r\n     \r\n       ()=>{\r\n        \r\n         if(Array.from(document.getElementById(\"registerEditForm\").registerTitle.value).length<2||Array.from(document.getElementById(\"registerEditForm\").registerTitle.value).length>200){\r\n            ToastAlert('toastAlert2','Enter register title',3000)\r\n  \r\n  }else if(Array.from(document.getElementById(\"registerEditForm\").contact.value).length<9||Array.from(document.getElementById(\"registerEditForm\").contact.value).length>10)\r\n         {\r\n            ToastAlert('toastAlert2','Enter contact of 10 digits',3000)\r\n         }else if(Array.from(document.getElementById(\"registerEditForm\").pin.value).length<5||Array.from(document.getElementById(\"registerEditForm\").pin.value).length>5)\r\n         {\r\n            ToastAlert('toastAlert2','Enter PIN',3000)\r\n         }\r\n  \r\n  else{\r\n    ToastAlert('toastAlert1','Please wait....',3000)\r\n    fetch('/verifyUser',{\r\n        method:\"post\",\r\n        headers:{'Content-type':'application/json'},\r\n        body:JSON.stringify({\r\n  contact:document.getElementById(\"registerEditForm\").contact.value,\r\n  pin:document.getElementById(\"registerEditForm\").pin.value,\r\n        }) \r\n    }).then(res=>res.json()).then((resp)=>{\r\n       if(resp.registered===false){\r\n        ToastAlert('toastAlert2','Not registered',3000)\r\n        }\r\n         else{\r\n            if(resp.registered===true&&resp.pin===false){\r\n                ToastAlert('toastAlert2','Incorrect PIN',3000)\r\n          }else{\r\n                          \r\n            ToastAlert('toastAlert1','Please wait.....',3000)\r\n            fetch('/editAttendeeRegister',{\r\n        method:\"post\",\r\n        headers:{'Content-type':'application/json'},\r\n        body:JSON.stringify({\r\n  registerTitle:document.getElementById(\"registerEditForm\").registerTitle.value,        \r\n  registrarContact:parseInt(document.getElementById(\"registerEditForm\").contact.value),\r\n  registerId:parseInt(componentParams.registerId)\r\n  })\r\n    }).then(resp=>{\r\n     \r\n        return resp.json()}).then(response=>{\r\n        if(response.registerPresent===0){\r\n            ToastAlert('toastAlert2','Not permitted because of mismatches',3000)\r\n        }else if(response.success===1){\r\n            ToastAlert('toastAlert1','Successful',3000)\r\n            window.location.href=`/pages/attendanceregs/${document.getElementById(\"registerEditForm\").contact.value}/${componentParams.registerId}`\r\n          \r\n          document.getElementById(\"registerEditForm\").contact.value=''\r\n          document.getElementById(\"registerEditForm\").pin.value=''\r\n          document.getElementById(\"registerEditForm\").registerTitle.value=''\r\n  \r\n        }else{\r\n            ToastAlert('toastAlert2','Error, try again',3000)\r\n        }\r\n  \r\n        })\r\n  \r\n         \r\n            }\r\n            \r\n          \r\n        }\r\n       \r\n    }\r\n        \r\n  \r\n    )\r\n    \r\n  \r\n  }\r\n       }\r\n     } class=\"btn btn-success hovereffect\">Save</div><p></p>\r\n    \r\n     </form>\r\n     </div>\r\n  \r\n   \r\n  \r\n     </div>)\r\n  }\r\n  \r\nexport default EditRegister  "],"names":["AttendenceRegisterNav","style2","padding","_jsx","children","_jsxs","style","paddingTop","display","flexWrap","Link","to","class","href","EditRegister","componentParams","useParams","status","setStatus","useState","registerTitle","setRegisterTitle","alert","setAlert","useEffect","ToastAlert","fetch","concat","registrarContact","registerId","then","res","json","resp","presence","document","getElementById","value","name","color","fontSize","fontWeight","dangerouslySetInnerHTML","__html","paddingBottom","method","id","action","textAlign","onClick","rows","type","autoComplete","placeholder","defaultValue","borderRadius","Array","from","length","contact","pin","headers","body","JSON","stringify","registered","parseInt","response","registerPresent","success","window","location"],"sourceRoot":""}