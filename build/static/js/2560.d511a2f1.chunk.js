"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2560,6724],{749:(e,t,s)=>{s.d(t,{s:()=>r});s(65043);var a=s(62582),n=s(70579);function r(){let e={padding:"3px"};return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{paddingTop:"8px",display:"flex",flexWrap:"wrap"},children:[(0,n.jsx)("div",{style:e,children:(0,n.jsxs)(a.N_,{to:"/pages/attendanceregs/myregisters",children:["  ",(0,n.jsxs)("div",{class:"button1",children:[(0,n.jsx)("span",{class:"fa fa-list"})," My registers"]})]})}),(0,n.jsx)("div",{style:e,children:(0,n.jsx)(a.N_,{to:"/pages/attendanceregs/createattendanceregister",children:(0,n.jsx)("div",{class:"button1",children:(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{class:"fa fa-plus"})," New register"]})})})})]})})}},66724:(e,t,s)=>{s.r(t),s.d(t,{MyRegisters:()=>l,default:()=>o});var a=s(65043),n=s(66756),r=s(35407),c=s(9093),i=s(62582),d=s(70579);function l(){const[e,t,s]=(0,r.lT)(["user"]),[l,o]=(0,a.useState)(""),[g,h]=(0,a.useState)(""),[p,x]=(0,a.useState)([]),[j,u]=(0,a.useState)(!0);const[m,v]=(0,a.useState)((0,d.jsx)(n.aq,{}));return 1==(0,n.Qb)(e)?(fetch("/getMyRegisters",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(e.user.contact)})}).then(e=>e.json()).then(e=>{0===e.length?((0,n.yd)("toastAlert2","You have no registers. Create one",3e3),setTimeout(()=>{window.location.href="/pages/attendanceregs/createattendanceregister"},4e3)):(e.reverse(),x(e))}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{style:{padding:"5px"},children:[(0,d.jsx)("div",{id:"myregisters",class:"pageLabel",children:"My registers"}),(0,d.jsx)("div",{class:"pageDescription",children:"A list of all contact registers created by you."}),(0,d.jsx)("div",{style:{paddingTop:"7px"},class:"row",children:p.map(e=>(0,d.jsx)("div",{class:"col-sm-6 col-md-3",children:(0,d.jsx)(i.N_,{to:"/pages/attendanceregs/".concat(e.contact,"/").concat(e.registerId),children:(0,d.jsx)("div",{class:"divContainer1",children:(0,d.jsxs)("div",{class:"divContainer1Inner",children:[(0,d.jsx)("div",{class:"bold",children:e.registerTitle}),(0,d.jsxs)("div",{class:"light",children:[e.attendees.length," contacts"]})]})})})}))})]})})):(0,d.jsx)("div",{children:(0,d.jsx)(c.default,{})})}const o=l},92560:(e,t,s)=>{s.r(t),s.d(t,{CreateAttendanceRegister:()=>d,default:()=>l});var a=s(65043),n=s(66756),r=s(35407),c=s(749),i=(s(66724),s(70579));function d(){const[e,t]=(0,a.useState)(""),[s,d,l]=(0,r.lT)(["user"]);return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{class:"row",children:[(0,i.jsx)("div",{class:"col-md-3"}),(0,i.jsx)("div",{class:"col-md-6",children:(0,i.jsxs)("div",{style:{padding:"10px"},children:[(0,i.jsx)("div",{class:"pageLabel",children:"Send an SMS message to many contacts at once."}),(0,i.jsx)("div",{class:"pageDescription",children:"Create a register, save contacts in the register and send an SMS message to all the contacts at once. You can also make quick phones calls to all the contacts."}),(0,i.jsx)(c.s,{}),(0,i.jsx)("p",{}),(0,i.jsxs)("form",{method:"post",id:"attendanceRegisterCreateForm",action:"#",children:[(0,i.jsx)("div",{class:"bold",children:"New contact register"}),(0,i.jsx)("div",{class:"light",children:"Type a name to create a new register and save contacts to it."}),(0,i.jsx)("p",{}),(0,i.jsxs)("div",{class:"mb-3",children:[(0,i.jsx)("div",{class:"formInputLabel",children:"Name of register"}),(0,i.jsx)("textarea",{rows:"2",type:"text",class:"form-control",autoComplete:"off",name:"attendanceRegisterTitle"})]}),(0,i.jsx)("div",{style:{fontSize:"17px",paddingBottom:"3px"},dangerouslySetInnerHTML:{__html:e}}),(0,i.jsx)("div",{onClick:()=>{!0===(0,n.Qb)(s)&&(Array.from(document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value).length<1?(0,n.yd)("toastAlert2","Type a name for the register",3e3):((0,n.yd)("toastAlert1","Please wait.........",3e3),fetch("/getTradingDetails/".concat(s.user.contact)).then(e=>e.json()).then(e=>{let t=e[0];t.permissionTokensObj.createAttendanceRegisterTokens>0?((0,n.yd)("toastAlert1","Creating............",7e3),fetch("/createAttendanceRegister",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({registerTitle:document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value,institution:t.institution,name:t.name,contact:parseInt(t.contact)})}).then(e=>e.json()).then(e=>{1===e.registerLimitReached?(0,n.yd)("toastAlert2","Limit reached, cant create more registers",3e3):1===e.success?((0,n.yd)("toastAlert1","Successful, please wait......",5e3),document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value="",window.location.href="/pages/attendanceregs/".concat(e.contact,"/").concat(e.registerId)):(0,n.yd)("toastAlert2","Not created, try again",3e3)})):(0,n.yd)("toastAlert2","Contact Kayas to create more registers",4e3)})))},class:"btn btn-success",style:{width:"100%"},children:"Create register"}),(0,i.jsx)("p",{})]})]})}),(0,i.jsx)("div",{class:"col-md-3"})]})})}const l=d}}]);
//# sourceMappingURL=2560.d511a2f1.chunk.js.map