"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[535],{535:(e,t,d)=>{d.r(t),d.d(t,{TradersCare:()=>o,default:()=>l});var a=d(5043),r=d(6201),n=d(7638),s=d(579);function o(){const[e,t]=(0,a.useState)(""),[d,o]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[c,p]=(0,a.useState)("");let m="";(0,a.useEffect)((()=>{fetch("/collection_controls").then((e=>e.json())).then((e=>{document.getElementById("setTraderNoticeForm").msg.value=e[0].traderNotice})),fetch("/collection_traders_number").then((e=>e.json())).then((e=>{e.reverse(),e.forEach((e=>{m+="<div class='col-md-4'><div>Name: ".concat(e.name,"</div><div>Contact: 0").concat(e.contact,"</div><div>Acc bal: ").concat(e.accBal,"</div><div>Visits: ").concat(e.pagesVisitsNo,"</div><div>Institution: ").concat(e.institution,"</div><hr></hr></div>")})),i(m)}))}));return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"20px",color:"red",textAlign:"center"},children:"Traders Care"}),(0,s.jsx)(r.Ay,{}),(0,s.jsxs)("div",{class:"row",children:[(0,s.jsx)("div",{class:"col-md-6",children:(0,s.jsx)("div",{style:{padding:"5px"},children:(0,s.jsxs)("form",{id:"updateTraderDetailsForm",children:[(0,s.jsx)("div",{style:{paddingBottom:"8px"},children:(0,s.jsx)("div",{class:"formLabel",children:"Update Trader details"})}),(0,s.jsx)("div",{style:{fontSize:"12px"},children:"accBal,sendSmsTokens,createAttendanceRegisterTokens"}),(0,s.jsxs)("div",{class:"mb-3",children:[(0,s.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Enter trader's contact"}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"fieldToUpdate",placeholder:"Enter field to update"}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:(0,s.jsx)("div",{style:{padding:"3px"},children:(0,s.jsx)("div",{class:"button1",onClick:()=>{Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length<10||Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length>10?(0,n.yd)("toastAlert2","Enter correct contact of 10 digits",3e3):(t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(document.getElementById("updateTraderDetailsForm").contact.value),fieldToUpdate:"bnplEligibility",updateValue:"notApplicable"}})}).then((e=>e.json())).then((e=>{t(e[0]),(0,n.yd)("toastAlert1","".concat(e.msg),3e3)})))},children:"Turn BNPL eligibility on/off"})})}),(0,s.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"updateValue",placeholder:"Enter update value"})]}),(0,s.jsx)("div",{style:{fontSize:"15px"},dangerouslySetInnerHTML:{__html:e}}),(0,s.jsx)("div",{class:"row",children:(0,s.jsxs)("div",{class:"col-6 col-md-6",children:["  ",(0,s.jsx)("div",{style:{borderRadius:"18px",fontSize:"12px"},onClick:()=>{Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length<10||Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length>10?t('<div style="color:red;">Enter contact of 10 digits</div>'):Array.from(document.getElementById("updateTraderDetailsForm").fieldToUpdate.value).length<1?t('<div style="color:red;">Enter field to update!</div>'):Array.from(document.getElementById("updateTraderDetailsForm").updateValue.value).length<1?t('<div style="color:red;">Enter an update value!</div>'):(t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(document.getElementById("updateTraderDetailsForm").contact.value),fieldToUpdate:document.getElementById("updateTraderDetailsForm").fieldToUpdate.value,updateValue:parseInt(document.getElementById("updateTraderDetailsForm").updateValue.value)}})}).then((e=>e.json())).then((e=>{t(e[0])})))},type:"text",class:"btn btn-success hovereffect",children:"Update"})]})})]})})}),(0,s.jsx)("div",{class:"col-md-6",children:(0,s.jsx)("div",{style:{padding:"5px"},children:(0,s.jsxs)("form",{id:"setTraderNoticeForm",children:[(0,s.jsx)("div",{style:{paddingBottom:"8px"},children:(0,s.jsx)("div",{class:"formLabel",children:"Set trader notice"})}),(0,s.jsx)("div",{class:"mb-3",children:(0,s.jsx)("textArea",{type:"text",class:"form-control",autoComplete:"off",name:"msg",placeholder:"Enter message"})}),(0,s.jsx)("div",{style:{fontSize:"15px"},dangerouslySetInnerHTML:{__html:d}}),(0,s.jsx)("div",{class:"row",children:(0,s.jsx)("div",{class:"col-6 col-md-6",children:(0,s.jsx)("div",{style:{borderRadius:"18px",fontSize:"12px"},class:"btn btn-success hovereffect",onClick:()=>{Array.from(document.getElementById("setTraderNoticeForm").msg.value).length<1?o('<div style="color:red;">Enter a message</div>'):(o("Setting............"),fetch("/setTraderNotice",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({msg:document.getElementById("setTraderNoticeForm").msg.value})}).then((e=>e.json())).then((e=>{o(e[0])})))},children:"Set notice"})})})]})})})]}),(0,s.jsx)("div",{style:{fontSize:"15px",padding:"5px",paddingTop:"40px"},class:"row",dangerouslySetInnerHTML:{__html:l}})]})}const l=o}}]);
//# sourceMappingURL=535.7b044fff.chunk.js.map