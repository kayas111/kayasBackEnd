"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6890],{6890:(e,t,n)=>{n.r(t),n.d(t,{KayaserCare:()=>a,default:()=>d});var s=n(5043),l=n(6201),o=n(579);function a(){const[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)(""),[d,i]=(0,s.useState)(""),[c,r]=(0,s.useState)("");return(0,o.jsxs)("div",{children:[(0,o.jsx)(l.Ay,{}),(0,o.jsxs)("div",{class:"row",children:[(0,o.jsxs)("div",{class:"col-md-3",style:{padding:"20px"},children:[(0,o.jsx)("div",{style:{color:"red",fontSize:"15px"},children:"GET REGISTRATION DETAILS"}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}),(0,o.jsxs)("form",{id:"getRegDetailsForm",children:[(0,o.jsx)("div",{class:"mb-3",children:(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Contact"})}),(0,o.jsxs)("div",{children:[" ",(0,o.jsx)("span",{type:"submit",class:"btn btn-success",onClick:()=>{if(Array.from(document.getElementById("getRegDetailsForm").contact.value).length<9||Array.from(document.getElementById("getRegDetailsForm").contact.value).length>10)a("Enter correct contact");else{a("Please wait ...");let e="/admin_getDetails/"+document.getElementById("getRegDetailsForm").contact.value;fetch(e).then((e=>e.json())).then((e=>{1===e.length?a(e[0]):a("Name: ".concat(e[1].name,"<div>Institution: ").concat(e[1].institution,"</div><div>Email: ").concat(e[1].email,"</div><div>Contact: ").concat(e[1].contact,"</div>"))}))}},children:"GET DETAILS"})]})]})]}),(0,o.jsxs)("div",{class:"col-md-3",style:{padding:"20px"},children:[(0,o.jsx)("div",{style:{color:"red",fontSize:"15px"},children:"DELETE KAYASER"}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e}}),(0,o.jsxs)("form",{id:"deleteKayaserForm",children:[(0,o.jsx)("div",{class:"mb-3",children:(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Contact",minLength:10,required:!0})}),(0,o.jsxs)("div",{children:[" ",(0,o.jsx)("span",{type:"submit",class:"btn btn-success",onClick:()=>{if(Array.from(document.getElementById("deleteKayaserForm").contact.value).length<9||Array.from(document.getElementById("deleteKayaserForm").contact.value).length>10)t("Enter correct contact.........");else{t("Please wait ......");let e="/admin_deleteKayaser/"+document.getElementById("deleteKayaserForm").contact.value;fetch(e).then((e=>e.json())).then((e=>{t(e[0]),document.getElementById("deleteKayaserForm").contact.value=""}))}},children:"DELETE KAYASER"})]})]})]}),(0,o.jsxs)("div",{class:"col-md-3",style:{padding:"20px"},children:[(0,o.jsx)("div",{style:{color:"red",fontSize:"15px"},children:"UPDATE REGISTRATION DETAILS"}),(0,o.jsx)("div",{style:{fontSize:"9px",color:"grey"},children:"name,stdNo,email,contact,pin,institution"}),(0,o.jsxs)("form",{id:"updateDetailsForm",action:"/admin_setPin",children:[(0,o.jsxs)("div",{class:"mb-3",children:[(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"fieldToUpdate",placeholder:"Enter name of  Field to update"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"fieldValue",placeholder:"Enter Value to update with"})]}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:d}}),(0,o.jsx)("div",{type:"submit",class:"btn btn-success",onClick:()=>{i("Updating ........"),fetch("/admin_updateDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(document.getElementById("getRegDetailsForm").contact.value),fieldToUpdate:document.getElementById("updateDetailsForm").fieldToUpdate.value,fieldValue:document.getElementById("updateDetailsForm").fieldValue.value})}).then((e=>e.json())).then((e=>{0===e.presence?i("Doesn't exist as a Kayaser"):0===e.fieldPresent?i("Field is not valid"):1===e.success?i("successfull"):i("Is already up to date")}))},children:"Update"})]})]}),(0,o.jsxs)("div",{class:"col-md-3",style:{padding:"20px"},children:[(0,o.jsx)("div",{style:{color:"red",fontSize:"15px"},children:"UPDATE PERMISSION TOKEN"}),(0,o.jsx)("div",{style:{fontSize:"9px",color:"grey"},children:"editArticle,createArticle,createAttendanceRegister"}),(0,o.jsxs)("form",{id:"updatePermissionTokenForm",children:[(0,o.jsxs)("div",{class:"mb-3",children:[(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"fieldToUpdate",placeholder:"Enter permission type to grant"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"fieldValue",placeholder:"Enter Value to update with"})]}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:c}}),(0,o.jsx)("div",{type:"submit",class:"btn btn-success",onClick:()=>{Array.from(document.getElementById("getRegDetailsForm").contact.value).length<9||Array.from(document.getElementById("getRegDetailsForm").contact.value).length>10?r("Enter atleast 9 digits of the contact....."):fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(document.getElementById("getRegDetailsForm").contact.value),pin:"11111"})}).then((e=>e.json())).then((e=>{!1===e.registered?r("<div style='color:green;'><span style='color:red;'>Not registered with Kayas!</div>"):(r("Updating ........"),fetch("/admin_updatePermissionToken",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(document.getElementById("getRegDetailsForm").contact.value),fieldToUpdate:document.getElementById("updatePermissionTokenForm").fieldToUpdate.value,fieldValue:document.getElementById("updatePermissionTokenForm").fieldValue.value})}).then((e=>e.json())).then((e=>{r(e[0])})))}))},children:"Update token"})]})]})]})]})}const d=a}}]);
//# sourceMappingURL=6890.f83849e6.chunk.js.map