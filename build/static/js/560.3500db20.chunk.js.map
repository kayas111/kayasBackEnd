{"version":3,"file":"static/js/560.3500db20.chunk.js","mappings":"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","sources":["pages/attendanceregs/AttendanceRegsHome.js","pages/attendanceregs/CreateAttendanceRegister.js","pages/attendanceregs/MyRegisters.js"],"sourcesContent":["\nimport React, {useEffect,useState} from 'react'\n\n\n\n\n\n\n\nexport function AttendenceRegisterNav(){\n  let style2={padding:\"3px\"}\n    return(\n  <div>\n      <div style={{paddingTop:\"8px\",display:\"flex\",flexWrap:\"wrap\"}}>\n      <div style={style2}>\n      <a href=\"/pages/attendanceregs/createattendanceregister\">\n        \n        <div class=\"button1\" ><span ><span class=\"fa fa-plus\"></span> Create register</span></div>\n       </a>\n       \n       </div>\n\n\n   \n      <div style={style2}>\n        \n        <a href=\"/pages/attendanceregs/myregisters\">\n        <div class=\"button1\">\n     \n        <span class=\"fa fa-list\"></span> My registers\n</div>\n</a>\n\n\n</div>\n\n          \n\n            \n            \n            \n            \n            \n            </div>\n\n\n\n  </div>\n    )\n  }\nexport function RegistrationHome(){\n    return(\n        <div>\n            <div style={{color:\"red\",fontSize:\"25px\",textAlign:\"center\"}}>Kayas Attendance Registers</div>\n            \n            <AttendenceRegisterNav/>\n   \n        </div>\n        )\n}\n\n\n\n\n\n     ","\r\nimport React, {useEffect,useState} from 'react'\r\nimport { ToastAlert,IsLoggedIn } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nimport { AttendenceRegisterNav } from './AttendanceRegsHome';\r\nimport MyRegisters from './MyRegisters';\r\nexport function CreateAttendanceRegister(){\r\n    const[status,setStatus]=useState('')\r\n    const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\n   \r\n    return (<div>\r\n         \r\n<div class='row'>\r\n<div class='col-md-3'></div>\r\n<div class='col-md-6'><div style={{padding:\"10px\"}}>\r\n      <div class=\"label1\">Send an SMS message to many contacts at once.</div>\r\n      <div class=\"label2\">Create a register, save contacts in the register then send an SMS message to all the contacts at once. You can also make quick phones calls to all the contacts.</div>\r\n<AttendenceRegisterNav/>\r\n<p></p>\r\n         <form method=\"post\" id=\"attendanceRegisterCreateForm\" action=\"#\">\r\n      <div style={{paddingBottom:\"8px\"}}><div class=\"formLabel\">Create register</div></div>\r\n      \r\n       <div class=\"mb-3\">\r\n        <div class=\"formInputLabel\">Name of register</div>\r\n       <textarea rows=\"2\" type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"attendanceRegisterTitle\" ></textarea>\r\n     \r\n     <br></br>\r\n     \r\n       </div>\r\n       \r\n       <div style={{fontSize:\"17px\",paddingBottom:\"10px\"}} dangerouslySetInnerHTML={{__html:status}}/>\r\n       <div  onClick={\r\n       \r\n         ()=>{\r\n\r\nif(IsLoggedIn(cookies)===true){\r\n  \r\n          \r\n  if(Array.from(document.getElementById(\"attendanceRegisterCreateForm\").attendanceRegisterTitle.value).length<1){\r\n    ToastAlert('toastAlert2','Type a name for the register',3000)\r\n              \r\n    \r\n    }  \r\n    else{\r\n           \r\n        ToastAlert('toastAlert1','Please wait.........',3000)\r\n        fetch(`/getTradingDetails/${cookies.user.contact}`).then(resp=>{\r\n    \r\n       return resp.json()}).then(response=>{\r\n  \r\n  let traderDetailsObj=response[0]\r\n       \r\n         if(traderDetailsObj.permissionTokensObj.createAttendanceRegisterTokens>0){\r\n                             \r\n           ToastAlert('toastAlert1','Creating............',3000)\r\n      \r\n           fetch('/createAttendanceRegister',{\r\n       method:\"post\",\r\n       headers:{'Content-type':'application/json'},\r\n       body:JSON.stringify({\r\n  registerTitle:document.getElementById(\"attendanceRegisterCreateForm\").attendanceRegisterTitle.value,\r\n  institution:traderDetailsObj.institution,\r\n  name:traderDetailsObj.name,\r\n  contact:parseInt(traderDetailsObj.contact),\r\n       })\r\n   }).then(resp=>{\r\n       \r\n       return resp.json()}).then(res=>{\r\n      \r\n      if(res.registerLimitReached===1){\r\n       ToastAlert('toastAlert2','Limit reached, cant create more registers',3000)\r\n      }else{\r\n       if(res.success===1){\r\n         ToastAlert('toastAlert1','Successful, please wait......',3000)\r\n         document.getElementById(\"attendanceRegisterCreateForm\").attendanceRegisterTitle.value=\"\"\r\n     \r\n         window.location.href=`/pages/attendanceregs/${res.contact}/${res.registerId}`\r\n       }else{\r\n         \r\n         ToastAlert('toastAlert2','Not created, try again',3000)\r\n  \r\n       }\r\n      }\r\n          \r\n    \r\n       })\r\n     \r\n          }\r\n         else {\r\n  \r\n           ToastAlert('toastAlert2','Contact Kayas to create more registers',4000)\r\n         }\r\n        \r\n       })\r\n  \r\n        \r\n           \r\n        \r\n      \r\n    }\r\n           \r\n}else{}\r\n\r\n         }\r\n       } class=\"form-submit-btn button1\">Create register</div><p></p>\r\n      \r\n       </form>\r\n       </div></div>\r\n<div class='col-md-3'></div>\r\n</div>\r\n    \r\n    \r\n  \r\n     </div>)\r\n}\r\n\r\nexport default CreateAttendanceRegister","\r\nimport React, {useState,useEffect} from 'react'\r\nimport { ToastAlert,IsLoggedIn,SuspenseComponent } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nexport function MyRegisters(){\r\n  const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\n    const[status,setStatus]=useState('')\r\n    const[goToRegisterStatus,setGoToRegisterStatus]=useState('')\r\n    let data=\"\"\r\n    const[myRegisters,setMyRegisters]=useState(<SuspenseComponent/>)\r\n    useEffect(()=>{\r\nif(IsLoggedIn(cookies)==true){\r\n \r\nfetch('/getMyRegisters',{\r\n  method:\"post\",\r\n  headers:{'Content-type':'application/json'},\r\n  body:JSON.stringify({\r\n    contact:parseInt(cookies.user.contact),\r\n  })\r\n}).then(resp=>{\r\n return resp.json()}).then(resp=>{\r\nif(resp.length===0){\r\nToastAlert('toastAlert2','You have no registers. Create one',3000)\r\nsetTimeout(()=>{\r\n  window.location.href='/pages/attendanceregs/createattendanceregister'\r\n},4000)\r\n\r\n}else{\r\n  \r\nresp.reverse()\r\n\r\nsetMyRegisters(\r\nresp.map((register)=>{\r\nreturn(\r\n  <div class='col-sm-6 col-md-4'>\r\n    <div style={{padding:\"5px\"}}  onClick={()=>{\r\n      window.location.href=`/pages/attendanceregs/${register.contact}/${register.registerId}`\r\n    }}>\r\n\r\n<div style={{border:\"1px solid orange\",padding:\"5px\"}} class=\"backgroundColorHoverEffect3\">\r\n<div style={{fontWeight:\"600\",fontSize:\"15px\"}} >{register.registerTitle}</div>\r\n<div>{register.attendees.length} contacts.</div>\r\n</div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n)\r\n})\r\n\r\n)\r\nToastAlert('toastAlert1','Successful',3000)\r\n}\r\n\r\n    \r\n   \r\n    })\r\n \r\n      \r\n\r\n}else{\r\n\r\n}\r\n\r\n\r\n\r\n\r\n    },[])\r\n           \r\n\r\n    /*\r\n     <div style={{padding:\"15px\"}}>\r\n <div class=\"label1\">Go to register</div>\r\n  <div class=\"label2\">Enter your contact and register ID to open that register.</div>\r\n            \r\n      <form method=\"post\" id=\"goToRegsiterForm\" action=\"#\">\r\n      <div style={{paddingBottom:\"8px\"}}><div class=\"formLabel\">Go to register</div></div>\r\n\r\n   <div class=\"mb-3\">\r\n   <div class=\"formInputLabel\">Contact</div>\r\n  <input type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"contact\"></input>\r\n\r\n \r\n <br></br>\r\n <div class=\"formInputLabel\">ID of register</div>\r\n   <input type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"registerId\"></input>\r\n  \r\n \r\n   </div>\r\n   \r\n   <div style={{fontSize:\"17px\",paddingBottom:\"10px\"}} dangerouslySetInnerHTML={{__html:goToRegisterStatus}}/>\r\n\r\n   <div  onClick={\r\n     ()=>{\r\n  \r\n       if(Array.from(document.getElementById(\"goToRegsiterForm\").contact.value.trim()).length<10||Array.from(document.getElementById(\"goToRegsiterForm\").contact.value.trim()).length>10){\r\n        ToastAlert('toastAlert2','Enter contact of 10 digits',3000)\r\n\r\n}else if(Array.from(document.getElementById(\"goToRegsiterForm\").registerId.value).length<1)\r\n       {\r\n        ToastAlert('toastAlert2','Enter ID of register to go to',3000)\r\n       }\r\n\r\nelse{\r\nToastAlert('toastAlert1','Please wait.....',2000)\r\nwindow.location.href=`/pages/attendanceregs/${parseInt(document.getElementById(\"goToRegsiterForm\").contact.value)}/${document.getElementById(\"goToRegsiterForm\").registerId.value}`\r\n}\r\n     }\r\n   } class=\"form-submit-btn\">Go to Register</div>\r\n  \r\n   </form>\r\n   \r\n   \r\n   </div>\r\n             \r\n     */\r\n            return(<div>\r\n  \r\n      <div style={{padding:\"5px\"}}>\r\n        \r\n      <div id=\"myregisters\" class=\"blackBgOrangeColor\">My registers\r\n      <div style={{color:\"white\",textAlign:\"center\",fontSize:\"10px\"}}>A list of all registers created by you.</div> \r\n      </div>\r\n      <div style={{paddingTop:\"3px\"}}class=\"row\">{myRegisters}</div>\r\n\r\n \r\n </div>\r\n\r\n\r\n \r\n   \r\n    \r\n            </div>)\r\n          \r\n  }\r\n\r\n  export default MyRegisters"],"names":["AttendenceRegisterNav","style2","padding","_jsx","children","_jsxs","style","paddingTop","display","flexWrap","href","class","CreateAttendanceRegister","status","setStatus","useState","cookies","setCookie","removeCookie","useCookies","method","id","action","paddingBottom","rows","type","autoComplete","name","fontSize","dangerouslySetInnerHTML","__html","onClick","IsLoggedIn","Array","from","document","getElementById","attendanceRegisterTitle","value","length","ToastAlert","fetch","concat","user","contact","then","resp","json","response","traderDetailsObj","permissionTokensObj","createAttendanceRegisterTokens","headers","body","JSON","stringify","registerTitle","institution","parseInt","res","registerLimitReached","success","window","location","registerId","MyRegisters","goToRegisterStatus","setGoToRegisterStatus","myRegisters","setMyRegisters","SuspenseComponent","useEffect","setTimeout","reverse","map","register","border","fontWeight","attendees","color","textAlign"],"sourceRoot":""}