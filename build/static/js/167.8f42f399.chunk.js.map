{"version":3,"file":"static/js/167.8f42f399.chunk.js","mappings":"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","sources":["pages/attendanceregs/AttendanceRegsHome.js","pages/attendanceregs/SendSms.js"],"sourcesContent":["\nimport React, {useEffect,useState} from 'react'\n\n\n\n\n\n\n\nexport function AttendenceRegisterNav(){\n  let style2={padding:\"3px\"}\n    return(\n  <div>\n      <div style={{paddingTop:\"8px\",display:\"flex\",flexWrap:\"wrap\"}}>\n      <div style={style2}><div class=\"button1\" onClick={()=>{\n              window.location.href=`/pages/attendanceregs/createattendanceregister`\n            }}><span class=\"hovereffect\"><span class=\"fa fa-plus\"></span> Create register</span></div></div>\n   \n      <div style={style2}><div class=\"button1\" onClick={()=>{\n              window.location.href=`/pages/attendanceregs/myregisters`\n            }}>\n     \n<span class=\"hovereffect\">My registers</span>\n</div></div>\n\n          \n\n            \n            \n            \n            \n            \n            </div>\n\n\n\n  </div>\n    )\n  }\nexport function RegistrationHome(){\n    return(\n        <div>\n            <div style={{color:\"red\",fontSize:\"25px\",textAlign:\"center\"}}>Kayas Attendance Registers</div>\n            \n            <AttendenceRegisterNav/>\n   \n        </div>\n        )\n}\n\n\n\n\n\n     ","import React, {useEffect,useState} from 'react'\r\nimport { ToastAlert,IsLoggedIn } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { AttendenceRegisterNav } from './AttendanceRegsHome';\r\nimport { kayasDomainUrl } from '../../Variables';\r\n\r\n\r\nexport function SendSms(){\r\n\r\n    let registerParams=useParams(),charactersPerSms=145\r\n    \r\n     const[status,setStatus]=useState('')\r\n     const [cookies]=useCookies(['user'])\r\n     const[status2,setStatus2]=useState('')\r\n     const[sendSmsTokens,setSendSmsTokens]=useState('')\r\n   \r\n     const[retrieveStatus,setRetrieveStatus]=useState('')\r\n       let formActionUrl=`/pages/attendanceregs/article/`\r\n       const[registrarName,setRegistrarName]=useState('')\r\n       const[messageesNumb,setMessageesNumb]=useState('')\r\n       const[arrayOfAttendees,setArrayOfAttendees]=useState([])\r\n       const[sendToContactRegisterStatus,setSendToContactRegisterStatus]=useState('')\r\n       const[sendToContactRegisterName,setSendToContactRegisterName]=useState('')\r\n       const[clickCharge,setClickCharge]=useState('10000')\r\n       const[clickNumb,setClickNumb]=useState('10000')\r\n       const[clickRate,setClickRate]=useState('100')\r\n       const[messagees,setMessagees]=useState('')\r\n       const[registrarContact,setRegistrarContact]=useState('')\r\n       const[institution,setInstitution]=useState('')\r\n       const[registerTitle,setRegisterTitle]=useState('Please wait......')\r\n       const[accBal,setAccBal]=useState('calculating......')\r\n       const[charLength,setCharLength]=useState('')\r\n       const[noOfSms,setNoOfSms]=useState('')\r\n       const[smsUnitCost,setSmsUnitCost]=useState('')\r\n       const[smsCost,setSmsCost]=useState('calculating.....')\r\n     \r\n       const [attendeeRegisterMessageStatus,setAttendeeRegisterMessageStatus]=useState('')\r\n       \r\n       let contactsReceivedFlag=0\r\n    \r\n    \r\n      const[registerPresentFlag,setregisterPresentFlag]=useState(1)\r\n       \r\n   function NoOfSmsCalculator(charLength){\r\n \r\n \r\n     let smsArrayCategory=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],numbOfSms=1\r\n     smsArrayCategory.reverse()\r\n     smsArrayCategory.forEach(category=>{\r\n       if(charLength<(category*charactersPerSms)+1){\r\n         numbOfSms=category\r\n       }else{\r\n ;\r\n       }\r\n     })\r\n \r\n return numbOfSms\r\n \r\n   }\r\n       \r\n       let data=\"\",whatsappAttendanceRegisterShareLink=`whatsapp://send?text=*${registerTitle}*%0A%0ATap link below to register:%0A${kayasDomainUrl}/pages/attendanceregs/${registerParams.registrar}/${registerParams.id}%0A%0A*Thank you.*`,\r\n       kayasWhatsappGroupLink='https://chat.whatsapp.com/BU6aMsNR6jL5x11rcWc9HZ'\r\n      useEffect(()=>{\r\n      \r\n         fetch(`/attendanceregs/${registerParams.registrarContact}/${registerParams.registerId}`).then(res=>res.json()).then(registerDataDoc=>{\r\n                \r\n           if(registerDataDoc.presence===0){\r\n          \r\n             setRegisterTitle(\"This Register does not exist. Please try another or create your own register too for free\")\r\n             setRegistrarName(\"Kayas 0703852178-WhatsApp\")\r\n           }else{\r\n            \r\n             setRegistrarName(registerDataDoc.name)\r\n             setInstitution(registerDataDoc.institution)\r\n             setRegisterTitle(registerDataDoc.registerTitle)\r\n             setRegistrarContact(registerDataDoc.contact)\r\n         \r\n\r\n  /*\r\n             fetch(`/attendeesMessage/${registerParams.registrar}/${registerParams.id}`).then(res=>res.json()).then(res=>{\r\n         \r\n               setSmsUnitCost(res.smsUnitCost)\r\n               let noDelaySmsUnitCost=res.smsUnitCost\r\n               setNoOfSms(NoOfSmsCalculator(Array.from(res.smsmessage).length))\r\n               setCharLength(Array.from(res.smsmessage).length)\r\n             //  document.getElementById(\"setAttendeeRegisterMessageForm\").message.value=res.message\r\n            document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value=res.smsmessage\r\n          \r\n            setSmsCost(NoOfSmsCalculator(Array.from(document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value).length)*noDelaySmsUnitCost*res.attendees.length)\r\n \r\n         \r\n                \r\n         }) \r\n           */\r\n\r\n\r\n             fetch(`/attendeesMessage/${registerParams.registrarContact}/${registerParams.registerId}`).then(res=>res.json()).then(res=>{\r\n         \r\n               setSmsUnitCost(res.smsUnitCost)\r\n               let noDelaySmsUnitCost=res.smsUnitCost\r\n               setNoOfSms(NoOfSmsCalculator(Array.from(res.smsmessage).length))\r\n               setCharLength(Array.from(res.smsmessage).length)\r\n             \r\n            document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value=res.smsmessage\r\n          \r\n            setSmsCost(NoOfSmsCalculator(Array.from(document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value).length)*noDelaySmsUnitCost*res.attendees.length)\r\n \r\n         \r\n                \r\n         }) \r\n           \r\n          \r\n         \r\n           }\r\n          \r\n           \r\n         })\r\n \r\n \r\n         fetch(`/attendees/${registerParams.registrarContact}/${registerParams.registerId}`).then(res=>res.json()).then(res=>{\r\n            \r\n           setMessageesNumb(res.registerDoc.attendees.length)\r\n           setArrayOfAttendees(res.registerDoc.attendees)\r\n \r\n            \r\n         })\r\n         fetch(`/getTradingDetails/${registerParams.registrarContact}`).then(res=>res.json()).then((resp)=>{\r\n \r\n setAccBal(resp[0].accBal)\r\n setSendSmsTokens(resp[0].permissionTokensObj.sendSmsTokens)\r\n \r\n         })\r\n \r\n IsLoggedIn(cookies)\r\n         },[])\r\n  \r\n \r\n\r\n\r\n\r\n    return (<div>\r\n<div class=\"row\">\r\n<div class=\"col-md-3\"></div>\r\n<div class='col-md-6'style={{padding:\"15px\"}}>  \r\n<AttendenceRegisterNav/>\r\n      \r\n  <br></br>\r\n  <form id=\"setAttendeeRegisterSmsForm\" >\r\n  <div style={{paddingBottom:\"8px\"}}><div class=\"formLabel\">Send SMS to {registerTitle}\r\n  <div style={{color:\"white\"}}>{messageesNumb} contacts</div></div>\r\n   </div>\r\n  \r\n\r\n     \r\n \r\n     <div class=\"mb-3\">\r\n <input type=\"hidden\" class=\"form-control\" autoComplete=\"off\" name=\"contact\" defaultValue={registrarContact} ></input>\r\n <div >Account balance: <span style={{color:\"red\",fontSize:\"15px\"}}>{accBal}/=</span></div>\r\n <div >SMS Rate: <span style={{fontSize:\"15px\",color:\"red\"}}>{charactersPerSms}</span> characters per contact = <span style={{fontSize:\"15px\",color:\"red\"}}>{smsUnitCost}/=</span> </div>\r\n <div>Cost for <span style={{fontSize:\"15px\",color:\"red\"}}>{charLength}</span> characters to <span style={{fontSize:\"15px\",color:\"red\"}}>{messageesNumb}</span> contacts = <span style={{fontSize:\"15px\",color:\"red\"}}>{smsCost}/=</span></div>\r\n <div>Sending times left: <span style={{color:\"red\"}}>{sendSmsTokens}</span> </div>\r\n <p></p>\r\n <div style={{textAlign:\"right\"}}>\r\n    <div class=\"btn btn-sm btn-warning\"\r\n       onClick={()=>{document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value=''}}>Clear message</div></div>\r\n     \r\n <div class=\"formInputLabel\">Enter message</div>\r\n <textarea rows=\"5\" type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"smsmessage\" onChange={()=>{\r\n   setCharLength(Array.from(document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value.trim()).length)\r\n   setNoOfSms(NoOfSmsCalculator(Array.from(document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value.trim()).length))\r\n   setSmsCost(NoOfSmsCalculator(Array.from(document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value.trim()).length)*smsUnitCost*messageesNumb)\r\n }} ></textarea>\r\n\r\n      </div>\r\n      <div style={{fontSize:\"12px\"}}>\r\n    </div>\r\n     \r\n    \r\n     <div style={{display:\"flex\",flexWrap:\"wrap\"}}>\r\n       <div style={{padding:\"5px\"}}>\r\n     <div onClick={()=>{\r\n       ToastAlert('toastAlert1','Setting......',2000)\r\n       fetch('/setAttendeeRegisterSms',{\r\n         method:\"post\",\r\n         headers:{'Content-type':'application/json'},\r\n         body:JSON.stringify({\r\n           registrarContact:parseInt(cookies.user.contact),\r\n    smsmessage:document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value,\r\n    registerId:parseInt(registerParams.registerId)\r\n   \r\n         }) \r\n     }).then(res=>res.json()).then(resp=>{\r\n       \r\n       ToastAlert('toastAlert1',`${resp[0]}`,3000)\r\n\r\n     })\r\n\r\n\r\n     }}type=\"text\" class=\"button1\">Save SMS</div>\r\n </div>\r\n <div style={{padding:\"5px\"}}>\r\n     <div onClick={()=>{\r\n      if(parseInt(accBal)<parseInt(smsCost)){\r\n        ToastAlert('toastAlert2','Low account balance. Contact Kayas',3000)\r\n      }else{\r\n        if(window.confirm(\"Press OK to confirm\")===true){\r\n          \r\n        \r\n        ToastAlert('toastAlert1','Sending.........',4000)\r\n          \r\n                \r\n        fetch('/sendAttendeeRegisterSms',{\r\n          method:\"post\",\r\n          headers:{'Content-type':'application/json'},\r\n          body:JSON.stringify({\r\n            registrarContact:parseInt(cookies.user.contact),\r\n     smsmessage:document.getElementById(\"setAttendeeRegisterSmsForm\").smsmessage.value,\r\n     registerId:parseInt(registerParams.registerId),\r\n     smsCost:smsCost\r\n    \r\n          }) \r\n      }).then(res=>res.json()).then(resp=>{\r\n        \r\n        ToastAlert('toastAlert1',`${resp[0]}`,3000)\r\n        fetch(`/getTradingDetails/${registerParams.registrarContact}`).then(res=>res.json()).then((resp)=>{\r\n\r\n\r\n          setAccBal(resp[0].accBal)\r\n          setSendSmsTokens(resp[0].permissionTokensObj.sendSmsTokens)\r\n                  })\r\n\r\n\r\n      })\r\n\r\n\r\n      \r\n        }else{\r\n;\r\n        }\r\n      }\r\n     }}type=\"text\" class=\"button1\">Send SMS</div>\r\n </div>\r\n <div style={{padding:\"5px\"}}>\r\n     <div onClick={()=>{\r\n                ToastAlert('toastAlert1','Please wait.........',3000)\r\n          \r\n            window.location.href=`/pages/attendanceregs/${parseInt(cookies.user.contact)}/${registerParams.registerId}`\r\n             \r\n      \r\n     }}type=\"text\" class=\"button1\">Back to register</div>\r\n </div>\r\n </div>\r\n \r\n \r\n     </form>\r\n     \r\n     </div>\r\n\r\n\r\n\r\n<div class=\"col-md-3\"></div>\r\n\r\n</div>\r\n\r\n\r\n\r\n    </div>)\r\n}\r\n\r\nexport default SendSms"],"names":["AttendenceRegisterNav","style2","padding","_jsx","children","_jsxs","style","paddingTop","display","flexWrap","class","onClick","window","location","href","SendSms","registerParams","useParams","status","setStatus","useState","cookies","useCookies","status2","setStatus2","sendSmsTokens","setSendSmsTokens","retrieveStatus","setRetrieveStatus","registrarName","setRegistrarName","messageesNumb","setMessageesNumb","arrayOfAttendees","setArrayOfAttendees","sendToContactRegisterStatus","setSendToContactRegisterStatus","sendToContactRegisterName","setSendToContactRegisterName","clickCharge","setClickCharge","clickNumb","setClickNumb","clickRate","setClickRate","messagees","setMessagees","registrarContact","setRegistrarContact","institution","setInstitution","registerTitle","setRegisterTitle","accBal","setAccBal","charLength","setCharLength","noOfSms","setNoOfSms","smsUnitCost","setSmsUnitCost","smsCost","setSmsCost","attendeeRegisterMessageStatus","setAttendeeRegisterMessageStatus","registerPresentFlag","setregisterPresentFlag","NoOfSmsCalculator","smsArrayCategory","numbOfSms","reverse","forEach","category","concat","kayasDomainUrl","registrar","id","useEffect","fetch","registerId","then","res","json","registerDataDoc","presence","name","contact","noDelaySmsUnitCost","Array","from","smsmessage","length","document","getElementById","value","attendees","registerDoc","resp","permissionTokensObj","IsLoggedIn","paddingBottom","color","type","autoComplete","defaultValue","fontSize","textAlign","rows","onChange","trim","ToastAlert","method","headers","body","JSON","stringify","parseInt","user","confirm"],"sourceRoot":""}