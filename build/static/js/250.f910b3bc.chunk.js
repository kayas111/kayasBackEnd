"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[250,551],{8604:(e,t,s)=>{s.r(t),s.d(t,{AllArticles:()=>r,default:()=>c});s(7890),s(9978);var a=s(5043),i=s(7638),l=s(579);function r(){const[e,t]=(0,a.useState)((0,l.jsx)(i.aq,{}));return(0,a.useEffect)((()=>{fetch("/getAllArticles").then((e=>e.json())).then((e=>{t(e.map((e=>(0,l.jsx)("div",{class:"col-md-4",onClick:()=>{window.location.href="/pages/pubarticles/article/".concat(e.id)},children:(0,l.jsx)("div",{class:"pubArticleListItemContainer",children:(0,l.jsxs)("div",{class:"pubArticleListItemContainer2 backgroundColorHoverEffect3",children:[(0,l.jsx)("div",{class:"pubArticleListItemInstitution",children:e.institution}),(0,l.jsx)("div",{class:"pubArticleListItemHeadline",children:e.headline1}),(0,l.jsxs)("div",{class:"pubArticleListItemViewsAndVisits",children:[(0,l.jsxs)("div",{children:[e.visits," views, ",e.pubArticleOpinions.length," comments, Article ",e.id]}),(0,l.jsxs)("div",{children:["Created by ",e.author," 0",e.contact]})]})]})})}))))}))}),[]),(0,l.jsx)("div",{children:(0,l.jsx)("div",{class:"row",children:e})})}const c=r},4250:(e,t,s)=>{s.r(t),s.d(t,{CreateArticle:()=>m,default:()=>x});var a=s(7638),i=s(8289),l=s(9978),r=s(5407),c=s(2551),n=(s(8604),s(7890),s(5043)),o=s(7977),d=s(8345),p=s.n(d),h=s(579);i.A.initializeApp({apiKey:"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA",authDomain:"kayas-42321.firebaseapp.com",projectId:"kayas-42321",storageBucket:"kayas-42321.appspot.com"});const u=i.A.storage().ref();function m(){const[e,t,s]=(0,r.lT)(["user"]),[i,d]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[j,f]=(0,n.useState)(0),[g,y]=(0,n.useState)("Image appears here");return(0,n.useEffect)((()=>{(0,a.Qb)(e)}),[]),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{class:"col-md-3"}),(0,h.jsxs)("div",{class:"col-md-6",children:[(0,h.jsx)(l.dV,{}),(0,h.jsx)("div",{style:{padding:"8px"},children:(0,h.jsxs)("form",{method:"post",id:"articleCreateForm",action:"#",children:[(0,h.jsx)("div",{style:{paddingBottom:"8px"},children:(0,h.jsx)("div",{class:"formLabel",children:"Create article."})}),(0,h.jsxs)("div",{class:"mb-3",children:[(0,h.jsx)("div",{class:"formInputLabel",children:"Create headline"}),(0,h.jsx)("textarea",{rows:"3",type:"text",class:"form-control",autoComplete:"off",name:"articleHeadline1"}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{class:"formInputLabel",children:["Add photo ",(0,h.jsxs)("span",{style:{fontSize:"12px"},children:[" ",(0,h.jsx)("input",{type:"file",id:"pubArticleImageInputElement",name:"file",onChange:e=>{let t=document.querySelector("#pubArticleImageInputElement").files[0];"image/png"===t.type||"image/jpg"===t.type||"image/jpeg"===t.type||"image/gif"===t.type||"image/webp"===t.type||"image/avif"===t.type?y(URL.createObjectURL(t)):(window.location.href="/pages/pubarticles/createarticle",(0,a.yd)("toastAlert2","Image type not supported. Change image",3e3))}})]})]}),(0,h.jsx)("div",{style:{paddingTop:"4px"},children:(0,h.jsx)("img",{src:g,class:" d-block w-100",alt:""})}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{class:"formInputLabel",children:"Paste your message below:"}),(0,h.jsx)(o.CKEditor,{config:{toolbar:["Bold","Italic","Link","NumberedList","BulletedList"]},editor:p(),onChange:(e,t)=>{const s=t.getData();x(s)}}),(0,h.jsx)("br",{})]}),(0,h.jsx)("div",{style:{fontSize:"12px",paddingTop:"10px"},dangerouslySetInnerHTML:{__html:i}}),(0,h.jsx)("progress",{value:j,max:"100",style:{width:"100%",color:"red"}}),(0,h.jsx)("div",{onClick:()=>{Array.from(document.getElementById("articleCreateForm").articleHeadline1.value.trim()).length<2?(0,a.yd)("toastAlert2","Enter a headline",3e3):Array.from(m).length<1?(0,a.yd)("toastAlert2","Type some information in the body section",3e3):(d("<div style='color:green;'>Creating please wait ......</div>"),fetch("/getTradingDetails/".concat(parseInt(e.user.contact))).then((e=>e.json())).then((e=>{let t=e[0];console.log(t.contact),t.permissionTokensObj.createPubArticleTokens<1||t.permissionTokensObj.createPubArticleTokens>1?fetch("/createArticle",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({headline1:document.getElementById("articleCreateForm")[0].value.trim(),institution:t.institution.trim(),author:t.name.trim(),contact:parseInt(t.contact),body:m.trim()})}).then((e=>e.json())).then((e=>{let t=e;if(1===e.limitReached)(0,a.yd)("toastAlert2","Maximum number of articles reached. Delete some",5e3);else{let s=document.querySelector("#pubArticleImageInputElement").files[0];if(d("<div style='color:green;'>Creating, please wait.....</div>"),document.getElementById("articleCreateForm").articleHeadline1.value="",void 0===s)window.location.href="/pages/pubarticles/article/".concat(e.id),(0,a.yd)("toastAlert1","Successful. Please wait....",3e3);else{let i=0;setInterval((()=>{94!==i&&(i+=1,f(i))}),400),d("<div style='color:green;'>Saving image.......</div>");let l="pubArticleImage_".concat(t.id),r=u.child("pubArticleImages/".concat(l));r.put(s).then((s=>{r.getDownloadURL({orderBy:"generation",limitTo:1}).then((s=>{let i=s;fetch("/addPubArticleImageUrlToArticle",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(t.contact),articleId:t.id,imageDownLoadUrl:i})}).then((t=>{d("<div style='color:green;'>Image saved</div>"),window.location.href="/pages/pubarticles/article/".concat(e.id),(0,a.yd)("toastAlert1","Successful. Please wait....",3e3)}))}))}))}}})):0===t.permissionTokensObj.createPubArticleTokens?(0,a.yd)("toastAlert2","Maximum number of articles reached. Delete some",4e3):(0,a.yd)("toastAlert2","Error, try again",3e3)})))},class:"form-submit-btn backgroundColorHovereffect",children:"Create Article"}),(0,h.jsx)("p",{})]})})]}),(0,h.jsx)("div",{class:"col-md-3"}),(0,h.jsx)("div",{class:"col-md-3"}),(0,h.jsx)("div",{class:"col-md-6",children:(0,h.jsx)(c.default,{})}),(0,h.jsx)("div",{class:"col-md-3"})]})})}const x=m},2551:(e,t,s)=>{s.r(t),s.d(t,{MyArticles:()=>n,default:()=>o});s(7890);var a=s(5407),i=s(5043),l=s(7638),r=s(6273),c=s(579);function n(){const[e,t]=(0,i.useState)(""),[s]=(0,a.lT)(["user"]),[n,o]=(0,i.useState)((0,c.jsx)(l.aq,{}));return(0,i.useEffect)((()=>{!0===(0,l.Qb)(s)&&fetch("/getMyArticles",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(s.user.contact)})}).then((e=>e.json())).then((e=>{0===e.length?(0,l.yd)("toastAlert2","You have no articles",4e3):(e.reverse(),o((0,l.Ee)(e)))}))}),[]),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{}),(0,c.jsx)("div",{class:"blackBgOrangeColor",children:"My Articles"}),(0,c.jsx)("div",{style:{display:"flex",flexWrap:"wrap",padding:"5px"},children:(0,c.jsx)("div",{children:(0,c.jsxs)("div",{class:"button1",onClick:()=>{window.location.href="whatsapp://send?text=*Trending stories*%0A___________________________%0A%0ATapp the link below for details:%0A".concat(r.J_,"/pages/pubarticles/sharemyarticles/").concat(s.user.contact)},children:[(0,c.jsx)("span",{class:"fa fa-whatsapp"})," Share all articles through WhatsApp"]})})}),(0,c.jsx)("div",{class:"row",children:n})]})}const o=n},9978:(e,t,s)=>{s.d(t,{dV:()=>p});var a=s(7638),i=s(8289),l=s(2546),r=(s(7890),s(5407)),c=s(5043),n=s(6213),o=s(579);i.A.initializeApp({apiKey:"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA",authDomain:"kayas-42321.firebaseapp.com",projectId:"kayas-42321",storageBucket:"kayas-42321.appspot.com"});i.A.storage().ref();function d(){const[e,t]=(0,c.useState)(""),[s,i]=(0,c.useState)(""),[l,r]=(0,c.useState)("");return(0,c.useEffect)((()=>{fetch("/getMarqueeNews").then((e=>e.json())).then((e=>{e.reverse(),r(e.map((e=>(0,o.jsx)("span",{class:"marqueeNewsSpan2",children:(0,o.jsx)("span",{class:"marqueeNewsSpan1",children:e.msg})}))))}))}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{paddingRight:"10px",paddingLeft:"10px"},children:(0,o.jsx)("marquee",{scrollamount:"3",class:"marquee",children:l})}),(0,o.jsx)("div",{style:{padding:"5px"},children:(0,o.jsxs)("div",{class:"PubArticleSearchCompContainer1",children:[(0,o.jsx)("div",{style:{textAlign:"center"},children:e}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{id:"articleSearchValue",class:"searchInputTag1",placeholder:"Search for articles",onKeyDown:e=>{"Enter"!==e.key&&"NumpadEnter"!==e.key||(t((0,o.jsxs)("div",{children:[(0,o.jsx)("span",{style:{fontSize:"2px",height:"15px",width:"15px"},class:"spinner-border",role:"status",children:" "})," ",(0,o.jsx)("span",{children:"Searching....."})]})),n.A.post("/searchForArticles",{articleSearchValue:document.querySelector("#articleSearchValue").value}).then((e=>{0===e.data.length?((0,a.yd)("toastAlert2","No results",3e3),t(""),i("")):((0,a.yd)("toastAlert1","Successful",3e3),t(""),i((0,a.Ee)(e.data)))})))}})})]})}),(0,o.jsx)("div",{class:"row",children:s})]})}function p(e){const[t,s,i]=(0,r.lT)(["user"]);let c={padding:"5px"};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{paddingTop:"8px",display:"flex",flexWrap:"wrap"},children:[(0,o.jsx)("div",{style:c,children:(0,o.jsx)("div",{class:"button1",onClick:()=>{window.location.href="/pages/pubarticles/createarticle"},children:(0,o.jsxs)("span",{class:"hovereffect",children:[(0,o.jsx)("span",{class:"fa fa-plus"})," New article"]})})}),(0,o.jsxs)("div",{style:c,children:[(0,o.jsx)("div",{class:"button1",onClick:()=>{if(!0===(0,a.Qb)(t)&&parseInt(e.articleAuthorContact)===parseInt(t.user.contact)){(0,a.yd)("toastAlert1","Deleting, please wait.....",4e3);const t=(0,l.KR)((0,l.c7)(),"pubArticleImages/pubArticleImage_".concat(e.articleId));(0,l.XR)(t).then((()=>{fetch("/deleteArticle",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({articleId:parseInt(e.articleId)})}).then((e=>e.json())).then((t=>{window.location.href="/pages/pubarticles/article/".concat(e.articleId)}))})).catch((t=>{fetch("/deleteArticle",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({articleId:parseInt(e.articleId)})}).then((e=>e.json())).then((t=>{window.location.href="/pages/pubarticles/article/".concat(e.articleId)}))}))}else(0,a.yd)("toastAlert2","Not allowed",3e3)},children:(0,o.jsxs)("span",{class:"hovereffect",children:[(0,o.jsx)("span",{class:"fa fa-minus"})," Delete"]})}),"  "]}),(0,o.jsx)("div",{style:c,children:(0,o.jsx)("div",{class:"button1",onClick:()=>{!0===(0,a.Qb)(t)&&(window.location.href="/pages/pubarticles/MyArticles")},children:(0,o.jsx)("span",{class:"hovereffect",children:" My Articles"})})}),(0,o.jsx)("div",{style:c,children:(0,o.jsx)("div",{class:"button1",onClick:()=>{(0,a.yd)("toastAlert2","Not allowed",3e3)},children:(0,o.jsx)("span",{class:"hovereffect",children:" Assess"})})})]}),(0,o.jsx)("div",{children:(0,o.jsx)(d,{})})]})}}}]);
//# sourceMappingURL=250.f910b3bc.chunk.js.map