"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4470],{44470:(e,t,s)=>{s.r(t),s.d(t,{PubArticleComp:()=>h,UpdateNumberOfArticleVisits:()=>p,default:()=>x});var i=s(87638),a=s(98289),n=s(35407),c=(s(47890),s(35323)),l=s(65043),o=s(59978),d=s(76273),r=s(70579);a.A.initializeApp({apiKey:"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA",authDomain:"kayas-42321.firebaseapp.com",projectId:"kayas-42321",storageBucket:"kayas-42321.appspot.com"});a.A.storage().ref();function p(e,t){fetch("/updateNumberOfArticleVisits/".concat(e,"/").concat(t)).then((e=>e.json())).then((e=>{}))}function h(){let e=(0,c.g)();const[t,s,a]=(0,n.lT)(["user"]);"/pages/pubarticles/article/".concat(e.id);const[h,x]=(0,l.useState)(""),[u,v]=(0,l.useState)(""),[y,j]=(0,l.useState)(""),[f,g]=(0,l.useState)(""),[w,b]=(0,l.useState)(""),[A,S]=(0,l.useState)('<div style="font-size:23px;color:black;">Please wait..........<p></p></div>'),[m,k]=(0,l.useState)(""),[T,C]=(0,l.useState)(""),[z,L]=(0,l.useState)(""),[B,I]=(0,l.useState)(""),[O,K]=(0,l.useState)(""),[U,_]=(0,l.useState)(),[D,E]=(0,l.useState)((0,r.jsxs)("div",{style:{padding:"15px",fontSize:"15px",textAlign:"center",color:"black"},children:[(0,r.jsxs)("span",{style:{fontSize:"8px",padding:"20px"},class:"spinner-border",role:"status",children:[" ",(0,r.jsx)("span",{style:{opacity:"0"},children:"."})," "]})," ",(0,r.jsx)("span",{style:{paddingBottom:"18px"},children:"More stories loading......."})]})),[H,M]=(0,l.useState)(""),[V,F]=(0,l.useState)(""),[J,N]=(0,l.useState)("");let P=0,W="whatsapp://send?text=*".concat(y.trim(),"*%0ASee details below. Tap the link:%0A%0A").concat(d.J_,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(f),G={padding:"5px"};return(0,l.useEffect)((async()=>{await fetch("/pubarticle/".concat(e.id)).then((e=>e.json())).then((e=>{if(0===e.length)j("This article does not exist or has been deleted."),(0,i.yd)("toastAlert2","Does not exit or has been deleted",3e3),S('<div style="font-size:20px;color:red;">This article does not exist or has been deleted.<p></p></div>');else{let a=e[0];K(e[0]),L(e[0].pubArticleOpinions.length),P=1,I(e[0].institution),j(e[0].headline1),g("Created by ".concat(e[0].author)),b("0".concat(e[0].contact)),S(e[0].body),"true"===e[0].verified&&F('<span class="fa fa-check"></span>'),void 0===e[0].visits?x(0):x(e[0].visits),void 0===a.imageDownLoadUrl||N(a.imageDownLoadUrl),(0,i.ck)(a.contact).then((e=>{1==e.permissionTokensObj.displayArticlesAtFreeCost?p(a.id,1):1==(0,i.Qb)(t)?(0,i.ck)(t.user.contact).then((e=>{let t=e;t.accBal<25?1==window.confirm("Low account balance. Would you love to top up?")?window.location.href="/pages/deposit":window.location.href="/pages/about":t.contact==a.contact||((0,i.Ub)(t.contact,25),p(a.id,1))})):setTimeout((()=>{1==window.confirm("Click 'OK' because you must be logged in and have atleast ".concat(25,"/= on your Kayas account in order to view this article"))?(0,i.G5)(t,s):window.location.href=window.location.href}),1e3)}))}})),await fetch("/pubarticle/".concat(e.id)).then((e=>e.json())).then((async t=>{0===t.length||await fetch("/getAllArticles").then((e=>e.json())).then((async t=>{t.reverse(),0===t.length?E("<div style='color:red;text-align:center;'>These Articles do not exist.</div>"):E(await(0,i.fX)(t,e.id))}))})),await fetch("/pubarticle/".concat(e.id)).then((e=>e.json())).then((async t=>{0===t.length||await fetch("/getAllArticles").then((e=>e.json())).then((async t=>{t.reverse(),0===t.length?M("<div style='color:red;text-align:center;'>These Articles do not exist.</div>"):M((0,i.EK)(t,e.id))}))}))}),[]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-3"}),(0,r.jsx)("div",{class:"col-md-6",children:(0,r.jsx)("div",{class:"articleContainer",children:(0,r.jsxs)("div",{class:"articleContainer2",children:[(0,r.jsx)("div",{style:{paddingBottom:"0px",textAlign:"left"},children:(0,r.jsxs)("span",{style:{color:"grey",fontSize:"11px"},children:["Article ",e.id," | ",h," views"]})}),(0,r.jsx)(o.dV,{articleAuthorContact:w,articleId:e.id}),(0,r.jsx)("div",{class:"articleHeadline",children:y}),(0,r.jsxs)("div",{style:{paddingBottom:"3px"},children:[(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,r.jsx)("div",{style:G,children:(0,r.jsxs)("div",{class:"button1",onClick:()=>{window.location.href=W},children:[(0,r.jsx)("span",{class:"fa fa-whatsapp"})," Share article"]})}),(0,r.jsx)("div",{style:G,children:(0,r.jsx)("div",{})})]}),(0,r.jsx)("div",{style:{padding:"5px"},children:(0,r.jsxs)("div",{style:{fontSize:"12px",borderBottom:"1px solid grey"},children:["  ",f,"  ",w," ",(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:V}}),(0,r.jsx)("div",{children:B})]})})]}),(0,r.jsx)("div",{style:{paddingTop:"2px"},children:(0,r.jsx)("img",{src:J,class:" d-block w-100"})}),(0,r.jsxs)("div",{style:{paddingTop:"5px",fontSize:"14px"},children:[(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:A}}),(0,r.jsx)("div",{children:"Always keep it Kayas."}),(0,r.jsx)("p",{})]})]})})}),(0,r.jsx)("div",{class:"col-md-3"})]}),(0,r.jsx)("div",{style:{paddingTop:"0px"},id:"authorArticles"}),(0,r.jsx)("div",{class:"row",children:D}),(0,r.jsx)("div",{class:"row",children:H})]})}const x=h}}]);
//# sourceMappingURL=4470.e27b1227.chunk.js.map