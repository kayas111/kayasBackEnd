{"version":3,"file":"static/js/423.9383c1b0.chunk.js","mappings":"iMAGO,SAASA,IACZ,MAAOC,IAASC,EAAAA,EAAAA,IAAW,CAAC,UACrBC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,KACpCC,EAAQC,IAAaF,EAAAA,EAAAA,UAAS,IACrC,IAAIG,EAAe,0BACfC,EAAQ,CAAC,CAACC,YAAY,GAADC,OAAIH,GAAiBI,QAAQ,WAAW,CAACF,YAAY,6BAA6BE,QAAQ,YAEnH,OACIC,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACC,QAAQ,OAAOC,UACxBC,EAAAA,EAAAA,MAAA,OAAKC,MAAM,MAAKF,SAAA,EACZH,EAAAA,EAAAA,KAAA,OAAKK,MAAM,cACXD,EAAAA,EAAAA,MAAA,OAAKC,MAAM,WAAUF,SAAA,EACjBH,EAAAA,EAAAA,KAAA,OAAKK,MAAM,YAAWF,SAAC,uBACvBH,EAAAA,EAAAA,KAAA,OAAAG,SAAK,qGACLC,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACK,UAAU,SAASC,WAAW,QAAQJ,SAAA,EAEnDH,EAAAA,EAAAA,KAAA,UAAQQ,GAAG,YAAYC,MAAOnB,EAAWoB,SAAWC,IACpEpB,EAAaoB,EAAMC,OAAOH,MAAM,EAChCN,SAEIP,EAAQiB,KAAIC,IAEJd,EAAAA,EAAAA,KAAA,UAAQS,MAAOK,EAAOjB,YAAYM,SAAEW,EAAOjB,mBAMrDG,EAAAA,EAAAA,KAAA,SACAA,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACC,QAAQ,OAAOC,UAClCC,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACc,OAAO,mBAAmBb,QAAQ,OAAOC,SAAA,EAClDH,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACe,SAAS,QAAQb,UAACH,EAAAA,EAAAA,KAAA,KAAAG,SAAIb,OACnCc,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACIH,EAAAA,EAAAA,KAAA,OAAAG,SAAK,4FACLH,EAAAA,EAAAA,KAAA,SAAOA,EAAAA,EAAAA,KAAA,OAAKK,MAAM,SAAQF,SAAEV,KAC5BO,EAAAA,EAAAA,KAAA,OAAKK,MAAM,UACfY,QAASA,KAGb,GAAwB,IAArBC,EAAAA,EAAAA,IAAW9B,GAGT,GAAGE,GAAWK,GAA6B,IAAXL,EAE7BI,EAAU,8BACT,CACD,IAAIyB,EAAY,GAChBzB,EAAU,oBACd0B,EAAAA,EAAAA,IAAkBhC,EAAQiC,KAAKtB,SAASuB,MAAKC,IAEzC,GADWA,EACDC,OAAOL,EAEbzB,EAAU,wEACT,CACD,IAAI+B,EAAQ7B,EAAQ8B,MAAMZ,GAASA,EAAOjB,cAAcP,IACxDmC,EAAQE,OAAOvC,EAAQiC,KAAKtB,SAE9BqB,EAAAA,EAAAA,IAAkBK,EAAQ1B,SAASuB,MAAKC,IACtCK,QAAQC,IAAIN,GACiC,GAAtCA,EAAKO,gBAAgBC,gBACpBrC,EAAU,oDAE6B,GAAlC6B,EAAKO,gBAAgBE,YAC1BtC,EAAU,mFAIVuC,EAAAA,EAAAA,IAAK,qBAAqBR,GAASH,MAAKC,IAEnB,GAAdA,EAAKW,UACxBC,EAAAA,EAAAA,IAA0B/C,EAAQiC,KAAKtB,QAAQoB,GAC/CzB,EAAU6B,EAAKa,MAEK1C,EAAU,oDACd,GAGR,GAER,IAIJ,CAIG,EAGDS,SACD,+BASWH,EAAAA,EAAAA,KAAA,SACAA,EAAAA,EAAAA,KAAA,KAAGqC,KAAK,iBAAgBlC,UAACH,EAAAA,EAAAA,KAAA,OAAKK,MAAM,UAASF,SAAC,mCAG9CH,EAAAA,EAAAA,KAAA,OAAKK,MAAM,iBAI3B,CAEA,S","sources":["pages/deliveryservice/DeliveryServiceHome.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { DebitTraderAccountBalance, GetTradingDetails, IsLoggedIn, Post, ToastAlert } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nexport function DeliveryServiceHome(){\r\n    const [cookies]=useCookies(['user'])\r\n    const [selection, setSelection] = useState('');\r\n    const [status, setStatus] = useState('');\r\n    let initialMessage=\"Select your choice here\"\r\n    let options=[{description:`${initialMessage}`,contact:703852178},{description:\"Kayas restaurant @ 4,000/=\",contact:755643774}]\r\n\r\n    return (\r\n        <div style={{padding:\"3px\"}}>\r\n            <div class=\"row\">\r\n                <div class=\"col-md-3\"></div>\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"pageLabel\">Initiate an order</div>\r\n                    <div>Initiate an order, you will be called in less than 10 minutes and your order will be delivered.</div>\r\n                    <div style={{textAlign:\"center\",paddingTop:\"30px\"}}>\r\n                \r\n                    <select id=\"selectTag\" value={selection} onChange={(event) => {\r\n    setSelection(event.target.value);\r\n  }}>\r\n    {\r\n        options.map(option=>{\r\n            return(\r\n                <option value={option.description}>{option.description}</option>\r\n            )\r\n        })\r\n    }\r\n      \r\n      </select>\r\n      <p></p>\r\n      <div style={{padding:\"3px\"}}>\r\n<div style={{border:\"1px solid orange\",padding:\"3px\"}}>\r\n    <div style={{fontSize:\"18px\"}}><p>{selection}</p></div>\r\n    <div>\r\n        <div>Inititing an order costs 50/= from your Kayas account. Deposit if your balance is low </div>\r\n        <p></p><div class=\"status\">{status}</div>\r\n        <div class=\"button1\"\r\n    onClick={()=>{\r\n        \r\n\r\nif(IsLoggedIn(cookies)==true){\r\n\r\n    \r\n     if(selection==initialMessage || selection==''){\r\n                \r\n        setStatus('Make a selection first')\r\n    }else{\r\n        let serviceCost=50\r\n        setStatus('Initiating.....')\r\n    GetTradingDetails(cookies.user.contact).then(resp=>{\r\n        let trader=resp\r\n        if(trader.accBal<serviceCost){\r\n          //  ToastAlert('toastAlert2','Low account balance, deposit to your Kayas account atleast 500/=',7000) \r\n            setStatus('Low account balance, deposit to your Kayas account atleast 500/=')\r\n        }else{\r\n            let payLoad=options.find((option)=>option.description===selection)\r\n            payLoad.client=cookies.user.contact\r\n\r\n          GetTradingDetails(payLoad.contact).then(resp=>{\r\n            console.log(resp)\r\n                if(resp.deliveryService.isDeliveryAgent==false){\r\n                    setStatus('Not allowed, select another delivery agent/order')\r\n                }\r\n                 else if(resp.deliveryService.isAvailable==false){\r\n                    setStatus('Not available, try again in 15 minutess or select another delivery agent/order')\r\n                }\r\n                \r\n                else{\r\n                    Post('/initiateDeliverys',payLoad).then(resp=>{\r\n                \r\n                        if(resp.success==true){\r\n        DebitTraderAccountBalance(cookies.user.contact,serviceCost)\r\n        setStatus(resp.msg)\r\n                        }else{\r\n                            setStatus('Error must have occured, contact Kayas 0703852178')\r\n                        }\r\n        \r\n                    })\r\n                }\r\n            })\r\n        }\r\n    })\r\n        \r\n   \r\n    }\r\n\r\n\r\n   \r\n}else{;}\r\n\r\n\r\n    }}\r\n    >Initiate order</div></div>\r\n    \r\n    \r\n    </div>\r\n\r\n      </div>\r\n      \r\n      </div>\r\n\r\n                <p></p>\r\n                <a href='/pages/deposit'><div class=\"button1\">Deposit to Kayas account</div></a>\r\n                \r\n                </div>\r\n                <div class=\"col-md-3\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeliveryServiceHome"],"names":["DeliveryServiceHome","cookies","useCookies","selection","setSelection","useState","status","setStatus","initialMessage","options","description","concat","contact","_jsx","style","padding","children","_jsxs","class","textAlign","paddingTop","id","value","onChange","event","target","map","option","border","fontSize","onClick","IsLoggedIn","serviceCost","GetTradingDetails","user","then","resp","accBal","payLoad","find","client","console","log","deliveryService","isDeliveryAgent","isAvailable","Post","success","DebitTraderAccountBalance","msg","href"],"sourceRoot":""}