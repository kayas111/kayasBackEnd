"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[551],{2551:(e,t,r)=>{r.r(t),r.d(t,{MyArticles:()=>n,default:()=>l});r(7890);var s=r(5043),i=r(579);function n(){const[e,t]=(0,s.useState)("");const[r,n]=(0,s.useState)("");return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{style:{padding:"10px"},children:[(0,i.jsxs)("form",{method:"post",id:"myArticlesForm",action:"#",children:[(0,i.jsx)("div",{style:{paddingBottom:"8px"},children:(0,i.jsx)("div",{class:"formLabel",children:"See/share your Articles"})}),(0,i.jsxs)("div",{class:"mb-3",children:[(0,i.jsx)("div",{class:"formInputLabel",children:"Contact"}),(0,i.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{class:"formInputLabel",children:"PIN"}),(0,i.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,i.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:e}}),(0,i.jsx)("div",{onClick:()=>{Array.from(document.getElementById("myArticlesForm")[0].value).length<10||Array.from(document.getElementById("myArticlesForm")[0].value).length>10?t("<div style='color:red'>Please enter a correct number......</div>"):Array.from(document.getElementById("myArticlesForm")[1].value).length<5||Array.from(document.getElementById("myArticlesForm")[1].value).length>5?t("<div style='color:red;'>Please enter a PIN of 5 digits ......</div>"):(t("<div style='color:green;'>Getting your Articles, <span style='color:red;'>please wait ......</span></div>"),fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myArticlesForm")[0].value,pin:document.getElementById("myArticlesForm")[1].value})}).then((e=>e.json())).then((e=>{!1===e.registered?t("<div style='color:red;'>You are not registered with Kayas, please register with Kayas then begin writing articles</div>"):!0===e.registered&&!1===e.pin?t("<div style='color:green;'><span style='color:red;'>".concat(e.details.name,",</span> your <span style='color:red;'>PIN is incorrect,</span> please try again......</div>")):(t("<div style='color:green;'><span style='color:red;'>Please be patient as we get your articles ......</div>"),fetch("/getMyArticles",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myArticlesForm")[0].value})}).then((e=>e.json())).then((e=>{0===e.length?t("<div style='color:red;'>You don't have any Articles written. Please write some and get back. Thank you.</div>"):(e.reverse(),n(e.map((e=>{let t;return t=void 0===e.newCommentsNumb?0:e.newCommentsNumb,(0,i.jsx)("div",{class:"col-md-6",onClick:()=>{window.location.href="/pages/pubarticles/article/".concat(e.id)},children:(0,i.jsx)("div",{class:"pubArticleListItemContainer",children:(0,i.jsxs)("div",{class:"pubArticleListItemContainer2 backgroundColorHoverEffect3",children:[(0,i.jsx)("div",{class:"pubArticleListItemInstitution",children:e.institution}),(0,i.jsx)("div",{class:"pubArticleListItemHeadline",children:e.headline1}),(0,i.jsxs)("div",{class:"pubArticleListItemViewsAndVisits",children:[(0,i.jsxs)("div",{children:[e.visits," views, ",e.pubArticleOpinions.length," comments, Article ",e.id]}),(0,i.jsxs)("div",{children:["Created by ",e.author," 0",e.contact]})]})]})})})}))))})))})))},class:"form-submit-btn backgroundColorHovereffect",children:"See articles"}),(0,i.jsx)("p",{}),(0,i.jsx)("div",{class:"formInputLabel",children:"Share title"}),(0,i.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"articlesShareTitle"}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{onClick:()=>{Array.from(document.getElementById("myArticlesForm")[0].value).length<10||Array.from(document.getElementById("myArticlesForm")[0].value).length>10?t("<div style='color:red'>Please enter a correct number......</div>"):Array.from(document.getElementById("myArticlesForm")[1].value).length<5||Array.from(document.getElementById("myArticlesForm")[1].value).length>5?t("<div style='color:red;'>Please enter a PIN of 5 digits ......</div>"):(t("<div style='color:green;'>Getting your Articles, <span style='color:red;'>please wait ......</span></div>"),fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myArticlesForm")[0].value,pin:document.getElementById("myArticlesForm")[1].value})}).then((e=>e.json())).then((e=>{!1===e.registered?t("<div style='color:red;'>You are not registered with Kayas, please register with Kayas then begin writing articles</div>"):!0===e.registered&&!1===e.pin?t("<div style='color:green;'><span style='color:red;'>".concat(e.details.name,",</span> your <span style='color:red;'>PIN is incorrect,</span> please try again......</div>")):(t("<div style='color:green;'><span style='color:red;'>".concat(e.details.name,",</span> please be patient as we finalize with getting your articles ......</div>")),window.location.href="whatsapp://send?text=*".concat(document.getElementById("myArticlesForm").articlesShareTitle.value.trim(),"*%0A___________________________%0A%0ASee the details by tapping the link below:%0Ahttps://kayas-mak.herokuapp.com/pages/pubarticles/sharemyarticles/").concat(document.getElementById("myArticlesForm").contact.value,"%0A_______________________%0A_Powered by: \ud83c\udf39Kayas_"))})))},class:"form-submit-btn backgroundColorHovereffect",children:[(0,i.jsx)("span",{class:"fa fa-whatsapp"})," Share articles"]})]}),(0,i.jsx)("p",{}),(0,i.jsx)("p",{}),(0,i.jsx)("div",{class:"row",children:r})]})})}const l=n}}]);
//# sourceMappingURL=551.89a0ff15.chunk.js.map