"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2931,9093],{9093:(e,t,s)=>{s.r(t),s.d(t,{LoginPage:()=>a,default:()=>c});var r=s(65043),o=s(87638),n=s(76273),i=s(35407),l=s(70579);function a(){const[e,t,s]=(0,i.lT)(["user"]);let[a,c]=(0,r.useState)("");return(0,l.jsx)("div",{style:{padding:"3px"},children:(0,l.jsxs)("div",{class:"row",children:[(0,l.jsx)("div",{class:"col-md-3"}),(0,l.jsxs)("div",{class:"col-md-6",children:[(0,l.jsx)("div",{class:"label",children:"You need to log in"}),(0,l.jsx)("div",{class:"description",children:"Log in to proceed"}),(0,l.jsx)("p",{}),(0,l.jsxs)("form",{method:"post",id:"loginForm",children:[(0,l.jsxs)("div",{class:"mb-3",children:[(0,l.jsx)("br",{}),(0,l.jsx)("div",{class:"formInputLabel",children:"Your contact"}),(0,l.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{class:"formInputLabel",children:"Your Kayas PIN that you created"}),(0,l.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,l.jsx)("p",{}),(0,l.jsx)("div",{class:"status",children:a}),(0,l.jsx)("div",{onClick:()=>{if(Array.from(document.getElementById("loginForm").contact.value.trim()).length<10||Array.from(document.getElementById("loginForm").contact.value.trim()).length>10)(0,o.yd)("toastAlert2","Enter contact of 10 digits",3e3);else if(Array.from(document.getElementById("loginForm").pin.value).length<5||Array.from(document.getElementById("loginForm").pin.value).length>5)(0,o.yd)("toastAlert2","Enter PIN of 5 digits e.g. 12345",3e3);else{c("Please wait........");let e=document.getElementById("loginForm").contact.value,s=document.getElementById("loginForm").pin.value;(0,o.zL)(e.trim(),s.trim()).then((e=>{if(!1===e.registered)(0,o.yd)("toastAlert2","Not registered. Tap menu to register",3e3);else if(!1===e.pin)(0,o.yd)("toastAlert2","Incorrect PIN",3e3);else{let s={name:e.details.name,contact:e.details.contact,role:"user"};t("user",s,n.kA),c("Logging in......"),window.location.href=window.location.href}}))}},class:"btn btn-success btn-sm",children:" Log in"}),(0,l.jsx)("p",{})]})]}),(0,l.jsx)("div",{class:"col-md-3"})]})})}const c=a},92931:(e,t,s)=>{s.r(t),s.d(t,{CreateTicket:()=>a,default:()=>c});var r=s(65043),o=s(87638),n=s(35407),i=s(9093),l=s(70579);function a(){const[e,t,s]=(0,n.lT)(["user"]);let[a,c]=(0,r.useState)("");return 1==(0,o.Qb)(e)?(0,l.jsx)("div",{style:{padding:"5px"},children:(0,l.jsxs)("div",{class:"row",children:[(0,l.jsx)("div",{class:"col-md-3"}),(0,l.jsxs)("div",{class:"col-md-6",children:[(0,l.jsx)("div",{class:"label",children:"Create tickets/service"}),(0,l.jsx)("div",{class:"description",children:"Create tickets/service that people will pay for or buy"}),(0,l.jsx)("div",{style:{textAlign:"center",paddingTop:"20px"},children:(0,l.jsx)("a",{href:"/pages/payments/paymentshomepage",children:(0,l.jsx)("div",{class:"button1",children:"Back to menu"})})}),(0,l.jsx)("p",{}),(0,l.jsxs)("form",{method:"post",id:"createTicketForm",action:"#",children:[(0,l.jsx)("div",{class:"formInputLabel",children:"Create ticket/service ID (unique word or phrase to identify your tickets/service)"}),(0,l.jsx)("input",{type:"text",class:"form-control",name:"ticketId",autoComplete:"off"}),(0,l.jsx)("p",{}),(0,l.jsx)("div",{class:"formInputLabel",children:"Number of tickets to be created"}),(0,l.jsx)("input",{type:"text",class:"form-control",name:"noOfTickets",autoComplete:"off"}),(0,l.jsx)("p",{}),(0,l.jsx)("div",{class:"formInputLabel",children:"Amount to be paid for each ticket"}),(0,l.jsxs)("div",{style:{padding:"2px",color:"green",fontSize:"12px"},children:[500," shs will  automatically be added as a service charge for every ticket"]}),(0,l.jsx)("input",{type:"text",name:"amount",class:"form-control",autoComplete:"off"}),(0,l.jsx)("p",{}),(0,l.jsx)("div",{class:"status",children:a}),(0,l.jsx)("div",{class:"button1",onClick:()=>{let t=document.getElementById("createTicketForm"),s=t.ticketId.value.trim(),r=t.amount.value.trim(),n=t.noOfTickets.value.trim();if(Array.from(s).length<1)(0,o.yd)("toastAlert2","Enter a ticket Id",3e3);else if(Array.from(s).includes("'"))(0,o.yd)("toastAlert2","Do not use apostrophes when creating a ticket ID",3e3);else if(Array.from(n).includes(","))(0,o.yd)("toastAlert2","Enter number of tickets without commas",3e3);else if(n>0===!1)(0,o.yd)("toastAlert2","Enter number of tickets greater than 0",3e3);else if(Array.from(r).includes(","))(0,o.yd)("toastAlert2","Enter an amount without commas",3e3);else if(r>0===!1)(0,o.yd)("toastAlert2","Enter an amount greater than 0",3e3);else{c("Please wait......");let t={ticketId:s,amount:parseInt(r)+500,noOfTickets:parseInt(n),ticketOwner:e.user.contact,payments:[]};(0,o.L4)("/createTicket",t).then((e=>{c(e.msg)}))}},children:"Create"}),(0,l.jsx)("p",{})]})]}),(0,l.jsx)("div",{class:"col-md-3"})]})}):(0,l.jsx)("div",{children:(0,l.jsx)(i.LoginPage,{})})}const c=a}}]);
//# sourceMappingURL=2931.365539b6.chunk.js.map