"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[560,724],{749:(e,t,s)=>{s.d(t,{s:()=>n});s(5043);var r=s(579);function n(){let e={padding:"3px"};return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{style:{paddingTop:"8px",display:"flex",flexWrap:"wrap"},children:[(0,r.jsx)("div",{style:e,children:(0,r.jsx)("div",{class:"button1",onClick:()=>{window.location.href="/pages/attendanceregs/createattendanceregister"},children:(0,r.jsxs)("span",{class:"hovereffect",children:[(0,r.jsx)("span",{class:"fa fa-plus"})," New register"]})})}),(0,r.jsx)("div",{style:e,children:(0,r.jsx)("div",{class:"button1",onClick:()=>{window.location.href="/pages/attendanceregs/createattendanceregister/#myregisters"},children:(0,r.jsx)("span",{class:"hovereffect",children:" Your registers"})})})]})})}},2560:(e,t,s)=>{s.r(t),s.d(t,{CreateAttendanceRegister:()=>c,default:()=>d});var r=s(5043),n=s(7638),a=s(749),o=s(6724),i=s(579);function c(){const[e,t]=(0,r.useState)("");return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{class:"row",children:[(0,i.jsx)("div",{class:"col-md-3"}),(0,i.jsx)("div",{class:"col-md-6",children:(0,i.jsxs)("div",{style:{padding:"10px"},children:[(0,i.jsx)("div",{class:"label1",children:"Bulk SMS/Fast phone calls"}),(0,i.jsx)("div",{class:"label2",children:"Save contacts in a register and send an SMS message to all contacts at once. You can also make quick phones calls to all the contacts."}),(0,i.jsx)(a.s,{}),(0,i.jsx)("p",{}),(0,i.jsxs)("form",{method:"post",id:"attendanceRegisterCreateForm",action:"#",children:[(0,i.jsx)("div",{style:{paddingBottom:"8px"},children:(0,i.jsx)("div",{class:"formLabel",children:"Create register"})}),(0,i.jsxs)("div",{class:"mb-3",children:[(0,i.jsx)("div",{class:"formInputLable",children:"Name of register"}),(0,i.jsx)("textarea",{rows:"2",type:"text",class:"form-control",autoComplete:"off",name:"attendanceRegisterTitle"}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{class:"formInputLable",children:"Contact"}),(0,i.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{class:"formInputLable",children:"PIN"}),(0,i.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,i.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:e}}),(0,i.jsx)("div",{onClick:()=>{Array.from(document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value).length<2?(0,n.yd)("toastAlert2","Type a name for the register",3e3):Array.from(document.getElementById("attendanceRegisterCreateForm").contact.value.trim()).length<10||Array.from(document.getElementById("attendanceRegisterCreateForm").contact.value.trim()).length>10?(0,n.yd)("toastAlert2","Enter contact of 10 digits",3e3):Array.from(document.getElementById("attendanceRegisterCreateForm").pin.value).length<5||Array.from(document.getElementById("attendanceRegisterCreateForm").pin.value).length>5?(0,n.yd)("toastAlert2","Enter PIN",3e3):(t("<div style='color:green;'>Creating your Register, <span style='color:red;'>please wait ......</span></div>"),fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("attendanceRegisterCreateForm").contact.value,pin:document.getElementById("attendanceRegisterCreateForm").pin.value})}).then((e=>e.json())).then((e=>{!1===e.registered?(0,n.yd)("toastAlert2","Not registered. Tap menu and register",3e3):!0===e.registered&&!1===e.pin?(0,n.yd)("toastAlert2","Incorrect PIN",3e3):((0,n.yd)("toastAlert1","Please wait.........",3e3),fetch("/getTradingDetails/".concat(e.details.contact)).then((e=>e.json())).then((t=>{t[0].permissionTokensObj.createAttendanceRegisterTokens>0?((0,n.yd)("toastAlert1","Creating............",3e3),fetch("/createAttendanceRegister",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({registerTitle:document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value,institution:e.details.institution,name:e.details.name,contact:parseInt(document.getElementById("attendanceRegisterCreateForm").contact.value)})}).then((e=>e.json())).then((e=>{1===e.registerLimitReached?(0,n.yd)("toastAlert2","Limit reached, cant create more registers",3e3):1===e.success?((0,n.yd)("toastAlert1","Successful, please wait......",3e3),document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value="",document.getElementById("attendanceRegisterCreateForm").contact.value="",document.getElementById("attendanceRegisterCreateForm").pin.value="",window.location.href="/pages/attendanceregs/".concat(e.contact,"/").concat(e.registerId)):(0,n.yd)("toastAlert2","Not created, try again",3e3)}))):(0,n.yd)("toastAlert2","Contact Kayas to create more registers",4e3)})))})))},class:"form-submit-btn",children:"Create register"}),(0,i.jsx)("p",{})]})]})}),(0,i.jsx)("div",{class:"col-md-3"}),(0,i.jsx)("div",{class:"col-md-3"}),(0,i.jsx)("div",{class:"col-md-6",children:(0,i.jsx)(o.default,{})}),(0,i.jsx)("div",{class:"col-md-3"})]})})}const d=c},6724:(e,t,s)=>{s.r(t),s.d(t,{MyRegisters:()=>o,default:()=>i});var r=s(5043),n=s(7638),a=s(579);function o(){const[e,t]=(0,r.useState)(""),[s,o]=(0,r.useState)("");let i="";const[c,d]=(0,r.useState)("");return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{padding:"15px"},children:[(0,a.jsx)("div",{id:"myregisters",class:"label1",children:"Your registers"}),(0,a.jsx)("div",{class:"label2",children:"See a list of all registers created by you."}),(0,a.jsxs)("form",{method:"post",id:"myRegsitersForm",children:[(0,a.jsx)("div",{style:{paddingBottom:"8px"},children:(0,a.jsx)("div",{class:"formLabel",children:"See your registers"})}),(0,a.jsxs)("div",{class:"mb-3",children:[(0,a.jsx)("div",{class:"formInputLabel",children:"Contact"}),(0,a.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{class:"formInputLabel",children:"PIN"}),(0,a.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,a.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:e}}),(0,a.jsx)("div",{onClick:()=>{Array.from(document.getElementById("myRegsitersForm").contact.value.trim()).length<10||Array.from(document.getElementById("myRegsitersForm").contact.value.trim()).length>10?(0,n.yd)("toastAlert2","Enter contact of 10 digits",3e3):Array.from(document.getElementById("myRegsitersForm").pin.value.trim()).length<5||Array.from(document.getElementById("myRegsitersForm").pin.value.trim()).length>5?(0,n.yd)("toastAlert2","Enter PIN",3e3):((0,n.yd)("toastAlert","Please wait.....",3e3),fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myRegsitersForm").contact.value,pin:document.getElementById("myRegsitersForm").pin.value})}).then((e=>e.json())).then((e=>{!1===e.registered?(0,n.yd)("toastAlert2","Not registered. Tap menu and register",3e3):!0===e.registered&&!1===e.pin?(0,n.yd)("toastAlert2","Incorrect PIN",3e3):fetch("/getMyRegisters",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(document.getElementById("myRegsitersForm").contact.value)})}).then((e=>e.json())).then((e=>{0===e.length?(0,n.yd)("toastAlert2","You have no registers created.",3e3):(e.reverse(),e.forEach((e=>{i+="<div class='col-sm-6 col-md-4'><div><a  style='color:black;' href='/pages/attendanceregs/".concat(e.contact,"/").concat(e.registerId,"'><span class=\"hoverEffectUnderline\"><div  style='padding-bottom:10px;'><div style='color:green;font-size:15px;font-weight:bold;'>").concat(e.registerTitle,"</div><div>").concat(e.attendees.length,' contacts.</div><div style="font-size:15px;color:grey;">Register ID: ').concat(e.registerId,"</div><div style='color:grey;'>Tap here to view details.</div></div></span></a></div><div><a href=\"/pages/editattendanceregs/").concat(e.contact,"/").concat(e.registerId,"\"><div class='btn btn-success btn-xs hovereffect'><span class='fa fa-edit'></span>Clear Register</div></a></div><hr></hr></div>")})),d(i),(0,n.yd)("toastAlert1","Successful",3e3))}))})))},class:"form-submit-btn",children:"Display registers"})]}),(0,a.jsx)("div",{style:{padding:"3px"},class:"row",dangerouslySetInnerHTML:{__html:c}})]}),(0,a.jsxs)("div",{style:{padding:"15px"},children:[(0,a.jsx)("div",{class:"label1",children:"Go to register"}),(0,a.jsx)("div",{class:"label2",children:"Enter your contact and register ID to open that register."}),(0,a.jsxs)("form",{method:"post",id:"goToRegsiterForm",action:"#",children:[(0,a.jsx)("div",{style:{paddingBottom:"8px"},children:(0,a.jsx)("div",{class:"formLabel",children:"Go to register"})}),(0,a.jsxs)("div",{class:"mb-3",children:[(0,a.jsx)("div",{class:"formInputLabel",children:"Contact"}),(0,a.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{class:"formInputLabel",children:"ID of register"}),(0,a.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"registerId"})]}),(0,a.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:s}}),(0,a.jsx)("div",{onClick:()=>{Array.from(document.getElementById("goToRegsiterForm").contact.value.trim()).length<10||Array.from(document.getElementById("goToRegsiterForm").contact.value.trim()).length>10?(0,n.yd)("toastAlert2","Enter contact of 10 digits",3e3):Array.from(document.getElementById("goToRegsiterForm").registerId.value).length<1?(0,n.yd)("toastAlert2","Enter ID of register to go to",3e3):((0,n.yd)("toastAlert1","Please wait.....",2e3),window.location.href="/pages/attendanceregs/".concat(parseInt(document.getElementById("goToRegsiterForm").contact.value),"/").concat(document.getElementById("goToRegsiterForm").registerId.value))},class:"form-submit-btn",children:"Go to Register"})]})]})]})}const i=o}}]);
//# sourceMappingURL=560.edf62e46.chunk.js.map