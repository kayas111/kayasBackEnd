"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[560,724],{749:(e,t,s)=>{s.d(t,{s:()=>a});s(5043);var n=s(579);function a(){let e={padding:"3px"};return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{paddingTop:"8px",display:"flex",flexWrap:"wrap"},children:[(0,n.jsx)("div",{style:e,children:(0,n.jsx)("div",{class:"button1",onClick:()=>{window.location.href="/pages/attendanceregs/createattendanceregister"},children:(0,n.jsxs)("span",{class:"hovereffect",children:[(0,n.jsx)("span",{class:"fa fa-plus"})," Create register"]})})}),(0,n.jsx)("div",{style:e,children:(0,n.jsx)("div",{class:"button1",onClick:()=>{window.location.href="/pages/attendanceregs/myregisters"},children:(0,n.jsx)("span",{class:"hovereffect",children:"My registers"})})})]})})}},2560:(e,t,s)=>{s.r(t),s.d(t,{CreateAttendanceRegister:()=>d,default:()=>l});var n=s(5043),a=s(7638),r=s(5407),i=s(749),c=(s(6724),s(579));function d(){const[e,t]=(0,n.useState)(""),[s,d,l]=(0,r.lT)(["user"]);return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{class:"row",children:[(0,c.jsx)("div",{class:"col-md-3"}),(0,c.jsx)("div",{class:"col-md-6",children:(0,c.jsxs)("div",{style:{padding:"10px"},children:[(0,c.jsx)("div",{class:"label1",children:"Send an SMS message to many contacts at once."}),(0,c.jsx)("div",{class:"label2",children:"Create a register, save contacts in the register then send an SMS message to all the contacts at once. You can also make quick phones calls to all the contacts."}),(0,c.jsx)(i.s,{}),(0,c.jsx)("p",{}),(0,c.jsxs)("form",{method:"post",id:"attendanceRegisterCreateForm",action:"#",children:[(0,c.jsx)("div",{style:{paddingBottom:"8px"},children:(0,c.jsx)("div",{class:"formLabel",children:"Create register"})}),(0,c.jsxs)("div",{class:"mb-3",children:[(0,c.jsx)("div",{class:"formInputLabel",children:"Name of register"}),(0,c.jsx)("textarea",{rows:"2",type:"text",class:"form-control",autoComplete:"off",name:"attendanceRegisterTitle"}),(0,c.jsx)("br",{})]}),(0,c.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:e}}),(0,c.jsx)("div",{onClick:()=>{!0===(0,a.Qb)(s)&&(Array.from(document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value).length<1?(0,a.yd)("toastAlert2","Type a name for the register",3e3):((0,a.yd)("toastAlert1","Please wait.........",3e3),fetch("/getTradingDetails/".concat(s.user.contact)).then((e=>e.json())).then((e=>{let t=e[0];t.permissionTokensObj.createAttendanceRegisterTokens>0?((0,a.yd)("toastAlert1","Creating............",3e3),fetch("/createAttendanceRegister",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({registerTitle:document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value,institution:t.institution,name:t.name,contact:parseInt(t.contact)})}).then((e=>e.json())).then((e=>{1===e.registerLimitReached?(0,a.yd)("toastAlert2","Limit reached, cant create more registers",3e3):1===e.success?((0,a.yd)("toastAlert1","Successful, please wait......",3e3),document.getElementById("attendanceRegisterCreateForm").attendanceRegisterTitle.value="",window.location.href="/pages/attendanceregs/".concat(e.contact,"/").concat(e.registerId)):(0,a.yd)("toastAlert2","Not created, try again",3e3)}))):(0,a.yd)("toastAlert2","Contact Kayas to create more registers",4e3)}))))},class:"form-submit-btn button1",children:"Create register"}),(0,c.jsx)("p",{})]})]})}),(0,c.jsx)("div",{class:"col-md-3"})]})})}const l=d},6724:(e,t,s)=>{s.r(t),s.d(t,{MyRegisters:()=>c,default:()=>d});var n=s(5043),a=s(7638),r=s(5407),i=s(579);function c(){const[e,t,s]=(0,r.lT)(["user"]),[c,d]=(0,n.useState)(""),[l,o]=(0,n.useState)("");const[g,h]=(0,n.useState)((0,i.jsx)(a.aq,{}));return(0,n.useEffect)((()=>{1==(0,a.Qb)(e)&&((0,a.yd)("toastAlert1","Please wait......",5e3),fetch("/getMyRegisters",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(e.user.contact)})}).then((e=>e.json())).then((e=>{0===e.length?(0,a.yd)("toastAlert2","You have no registers created.",3e3):(e.reverse(),h(e.map((e=>(0,i.jsx)("div",{class:"col-sm-6 col-md-4",children:(0,i.jsx)("div",{style:{padding:"5px"},onClick:()=>{window.location.href="/pages/attendanceregs/".concat(e.contact,"/").concat(e.registerId)},children:(0,i.jsxs)("div",{style:{border:"1px solid orange",padding:"5px"},class:"backgroundColorHoverEffect3",children:[(0,i.jsx)("div",{style:{fontWeight:"600",fontSize:"15px"},children:e.registerTitle}),(0,i.jsxs)("div",{children:[e.attendees.length," contacts."]})]})})})))),(0,a.yd)("toastAlert1","Successful",3e3))})))}),[]),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{style:{padding:"5px"},children:[(0,i.jsxs)("div",{id:"myregisters",class:"blackBgOrangeColor",children:["My registers",(0,i.jsx)("div",{style:{color:"white",textAlign:"center",fontSize:"10px"},children:"A list of all registers created by you."})]}),(0,i.jsx)("div",{style:{paddingTop:"3px"},class:"row",children:g})]})})}const d=c}}]);
//# sourceMappingURL=560.5f916bfe.chunk.js.map