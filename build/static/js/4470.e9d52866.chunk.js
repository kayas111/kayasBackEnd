"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4470],{44470:(e,t,a)=>{a.r(t),a.d(t,{PubArticleComp:()=>u,UpdateNumberOfArticleVisits:()=>d,default:()=>p});var s=a(78407),i=a(98289),c=a(35407),o=(a(47890),a(35323)),n=a(65043),l=(a(59978),a(76273)),r=a(70579);i.A.initializeApp({apiKey:"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA",authDomain:"kayas-42321.firebaseapp.com",projectId:"kayas-42321",storageBucket:"kayas-42321.appspot.com"});i.A.storage().ref();function d(e,t){fetch("/updateNumberOfArticleVisits/".concat(e,"/").concat(t)).then(e=>e.json()).then(e=>{})}function u(){let e=(0,o.g)();const[t,a,i]=(0,c.lT)(["user"]);"/pages/pubarticles/article/".concat(e.id);const[u,p]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[b,g]=(0,n.useState)(""),[w,m]=(0,n.useState)(""),[v,A]=(0,n.useState)(""),[S,k]=(0,n.useState)('<div style="font-size:18px;color:black;background:orange;padding:30px;text-align:center;">Please wait..........<p></p></div>'),[y,x]=(0,n.useState)(""),[j,C]=(0,n.useState)(""),[z,L]=(0,n.useState)(""),[O,T]=(0,n.useState)(""),[U,D]=(0,n.useState)(""),[I,K]=(0,n.useState)(),[P,B]=(0,n.useState)(),[E,F]=(0,n.useState)(s.aq),[N,R]=(0,n.useState)(""),[V,q]=(0,n.useState)(""),[G,J]=(0,n.useState)("");let X=0;"whatsapp://send?text=*".concat(encodeURIComponent(b.trim()),"*%0ASee details below. Tap the link:%0A%0A").concat(window.location.origin,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(w);try{(0,n.useEffect)(async()=>{await fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(i=>{if(0===i.length)g("This article does not exist or has been deleted."),(0,s.yd)("toastAlert2","Does not exit or has been deleted",3e3),k('<div style="font-size:20px;color:red;">This article does not exist or has been deleted.<p></p></div>');else{fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(async t=>{0===t.length||await fetch("/getAllArticles").then(e=>e.json()).then(async t=>{t.reverse(),0===t.length?F("<div style='color:red;text-align:center;'>These Articles do not exist.</div>"):(B(await(0,s.fX)(t,e.id)),F())})});let c=i[0];D(i[0]),L(i[0].pubArticleOpinions.length),X=1,T(i[0].institution),g(i[0].headline1),m("Created by ".concat(i[0].author)),A("0".concat(i[0].contact)),k(i[0].body),"true"===i[0].verified&&q('<span class="fa fa-check"></span>'),void 0===i[0].visits?p(0):p(i[0].visits),void 0===c.imageDownLoadUrl||J(c.imageDownLoadUrl),(0,s.ck)(c.contact).then(e=>{1==e.permissionTokensObj.displayArticlesAtFreeCost?d(c.id,1):t.user?(0,s.ck)(t.user.contact).then(e=>{let t=e;t.accBal<l.Lz&&t.contact!=c.contact?1==window.confirm('Your Kayas account balance is low. Click "OK" to deposit atleast '.concat(l.Lz,"/= in order to gain access to this information."))?window.location.href="/pages/deposit":window.location.href="/pages/pubarticles/allarticles":t.contact==c.contact||((0,s.Ub)(t.contact,l.Lz),d(c.id,1))}):setTimeout(()=>{1==window.confirm("Click 'OK' to login and be able to read this information.")?(0,s.G5)(t,a):window.location.href="/pages/pubarticles/allarticles"},1e3)})}})},[e.id])}catch(Y){}return(0,r.jsxs)("div",{class:"componentPadding",children:[P,(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-3"}),(0,r.jsx)("div",{class:"col-md-6"}),(0,r.jsx)("div",{class:"col-md-3"})]}),(0,r.jsx)("div",{class:"row",children:E})]})}const p=u}}]);
//# sourceMappingURL=4470.e9d52866.chunk.js.map