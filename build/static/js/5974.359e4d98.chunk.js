"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5974],{75974:(e,t,n)=>{n.r(t),n.d(t,{CompletePromotionTransaction:()=>c,default:()=>r});var o=n(65043),s=n(56024),i=n(35407),a=n(88015),l=n(70579);function c(){const[e]=(0,i.lT)(["user"]),[t,n]=(0,o.useState)("Please wait......"),[c,r]=(0,o.useState)("");return(0,o.useEffect)(()=>{!1===(0,s.Qb)(e)?((0,s.yd)("toastAlert2","You are not logged in.",4e3),window.alert("You are not logged in. Please log in."),window.location.href="/pages/bnpl/bnplpromotion"):((0,s.ck)(e.user.contact).then(e=>{n(e.name)}),fetch("/getTotalPromotionTokens").then(e=>e.json()).then(e=>{console.log(e)}))},[]),(0,l.jsx)("div",{style:{padding:"5px"},children:(0,l.jsxs)("div",{class:"row",children:[(0,l.jsx)("div",{class:"col-md-3"}),(0,l.jsxs)("div",{class:"col-md-6",children:[(0,l.jsx)("div",{class:"blackBgOrangeColor",children:"Request for discount - Nalikka Restaurant"}),(0,l.jsx)("p",{}),(0,l.jsx)("div",{style:{textAlign:"center",fontSize:"20px",padding:"5px"},children:"Food promotion - 1,000/= discount"}),(0,l.jsxs)("div",{style:{padding:"5px",border:"1px solid orange"},children:[(0,l.jsx)("div",{style:{textAlign:"center",fontSize:"24px",fontWeight:"600"},children:t}),(0,l.jsx)("p",{}),(0,l.jsx)("div",{style:{textAlign:"center"},children:"Show your phone to the restaturant owner to complete the transaction and get a discount of 1,000shs"}),(0,l.jsx)("p",{}),(0,l.jsx)("div",{style:{color:"orange",fontSize:"18px",textAlign:"center",fontWeight:"600"},children:c}),(0,l.jsx)("div",{class:"button1",onClick:()=>{r("Please wait......"),(0,s.ck)(e.user.contact).then(t=>{!1===t.bnpl.isEligibe?r("You've not registered for Kayas services. Contact Kayas."):fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsKayaser",argsObj:{traderContact:parseInt(e.user.contact),fieldToUpdate:"bnplPromotionTokens",updateValue:"notApplicable"}})}).then(e=>e.json()).then(e=>{r(e.msg)})})},children:"Complete transaction"})]}),(0,l.jsx)("div",{style:{paddingTop:"30px"},children:(0,l.jsx)("img",{src:a,class:" d-block w-100",alt:"..."})})]}),(0,l.jsx)("div",{class:"col-md-3"})]})})}const r=c},88015:(e,t,n)=>{e.exports=n.p+"static/media/bnplImage1.ccf5881ef6452db0ff1b.jpg"}}]);
//# sourceMappingURL=5974.359e4d98.chunk.js.map