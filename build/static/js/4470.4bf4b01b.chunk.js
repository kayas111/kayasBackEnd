"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4470],{44470:(e,t,a)=>{a.r(t),a.d(t,{PubArticleComp:()=>p,UpdateNumberOfArticleVisits:()=>d,default:()=>u});var s=a(78407),i=a(98289),c=a(35407),n=(a(47890),a(35323)),o=a(65043),l=(a(59978),a(76273)),r=a(70579);i.A.initializeApp({apiKey:"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA",authDomain:"kayas-42321.firebaseapp.com",projectId:"kayas-42321",storageBucket:"kayas-42321.appspot.com"});i.A.storage().ref();function d(e,t){fetch("/updateNumberOfArticleVisits/".concat(e,"/").concat(t)).then(e=>e.json()).then(e=>{})}function p(){let e=(0,n.g)();const[t,a,i]=(0,c.lT)(["user"]);"/pages/pubarticles/article/".concat(e.id);const[p,u]=(0,o.useState)(""),[h,b]=(0,o.useState)(""),[f,w]=(0,o.useState)(""),[g,A]=(0,o.useState)(""),[m,S]=(0,o.useState)(""),[v,k]=(0,o.useState)('<div style="font-size:18px;color:black;background:orange;padding:30px;text-align:center;">Please wait..........<p></p></div>'),[x,y]=(0,o.useState)(""),[j,C]=(0,o.useState)(""),[T,z]=(0,o.useState)(""),[L,O]=(0,o.useState)(""),[U,D]=(0,o.useState)(""),[I,K]=(0,o.useState)(),[P,B]=(0,o.useState)(),[E,F]=(0,o.useState)(),[N,R]=(0,o.useState)(),[V,q]=(0,o.useState)(s.aq),[G,J]=(0,o.useState)(""),[X,Y]=(0,o.useState)(""),[H,M]=(0,o.useState)("");let Q=0;"whatsapp://send?text=*".concat(f.trim(),"*%0ASee details below. Tap the link:%0A%0A").concat(window.location.origin,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(g),"whatsapp://send?text=".concat(encodeURIComponent("*".concat(f.trim(),"*%0ASee details below. Tap the link:%0A%0A").concat(window.location.origin,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(g)));try{(0,o.useEffect)(async()=>{await fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(i=>{F(i);if(0===i.length)w("This article does not exist or has been deleted."),(0,s.yd)("toastAlert2","Does not exit or has been deleted",3e3),k('<div style="font-size:20px;color:red;">This article does not exist or has been deleted.<p></p></div>');else{fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(async t=>{0===t.length||await fetch("/getAllArticles").then(e=>e.json()).then(async t=>{t.reverse(),0===t.length?q("<div style='color:red;text-align:center;'>These Articles do not exist.</div>"):B(await(0,s.fX)(t,e.id))})});let c=i[0];D(i[0]),z(i[0].pubArticleOpinions.length),Q=1,O(i[0].institution),w(i[0].headline1),A("Created by ".concat(i[0].author)),S("0".concat(i[0].contact)),k(i[0].body),"true"===i[0].verified&&Y('<span class="fa fa-check"></span>'),void 0===i[0].visits?u(0):u(i[0].visits),void 0===c.imageDownLoadUrl||M(c.imageDownLoadUrl),(0,s.ck)(c.contact).then(e=>{1==e.permissionTokensObj.displayArticlesAtFreeCost?d(c.id,1):t.user?(0,s.ck)(t.user.contact).then(e=>{let t=e;t.accBal<l.Lz?1==window.confirm('Your Kayas account balance is low. Click "OK" to top up atleast '.concat(l.Lz,"/= and be able to read this information."))?window.location.href="/pages/deposit":window.location.href="/pages/pubarticles/allarticles":t.contact==c.contact||((0,s.Ub)(t.contact,l.Lz),d(c.id,1))}):setTimeout(()=>{1==window.confirm("Click 'OK' to login and be able to read this information.")?(0,s.G5)(t,a):window.location.href="/pages/pubarticles/allarticles"},1e3)})}})},[e.id])}catch(W){}return(0,r.jsxs)("div",{class:"componentPadding",children:[P,(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-3"}),(0,r.jsx)("div",{class:"col-md-6"}),(0,r.jsx)("div",{class:"col-md-3"})]}),(0,r.jsx)("div",{class:"row",children:V})]})}const u=p}}]);
//# sourceMappingURL=4470.4bf4b01b.chunk.js.map