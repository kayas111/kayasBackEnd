"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[724],{6724:(e,t,s)=>{s.r(t),s.d(t,{MyRegisters:()=>i,default:()=>a});var r=s(5043),o=s(7638),n=s(579);function i(){const[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)("");let a="";const[l,d]=(0,r.useState)("");return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{padding:"15px"},children:[(0,n.jsx)("div",{id:"myregisters",class:"label1",children:"Your registers"}),(0,n.jsx)("div",{class:"label2",children:"See a list of all registers created by you."}),(0,n.jsxs)("form",{method:"post",id:"myRegsitersForm",children:[(0,n.jsx)("div",{style:{paddingBottom:"8px"},children:(0,n.jsx)("div",{class:"formLabel",children:"See your registers"})}),(0,n.jsxs)("div",{class:"mb-3",children:[(0,n.jsx)("div",{class:"formInputLabel",children:"Contact"}),(0,n.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{class:"formInputLabel",children:"PIN"}),(0,n.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,n.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:e}}),(0,n.jsx)("div",{onClick:()=>{Array.from(document.getElementById("myRegsitersForm").contact.value.trim()).length<10||Array.from(document.getElementById("myRegsitersForm").contact.value.trim()).length>10?(0,o.yd)("toastAlert2","Enter contact of 10 digits",3e3):Array.from(document.getElementById("myRegsitersForm").pin.value.trim()).length<5||Array.from(document.getElementById("myRegsitersForm").pin.value.trim()).length>5?(0,o.yd)("toastAlert2","Enter PIN",3e3):((0,o.yd)("toastAlert","Please wait.....",3e3),fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myRegsitersForm").contact.value,pin:document.getElementById("myRegsitersForm").pin.value})}).then((e=>e.json())).then((e=>{!1===e.registered?(0,o.yd)("toastAlert2","Not registered. Tap menu and register",3e3):!0===e.registered&&!1===e.pin?(0,o.yd)("toastAlert2","Incorrect PIN",3e3):fetch("/getMyRegisters",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(document.getElementById("myRegsitersForm").contact.value)})}).then((e=>e.json())).then((e=>{0===e.length?(0,o.yd)("toastAlert2","You have no registers created.",3e3):(e.reverse(),e.forEach((e=>{a+="<div class='col-sm-6 col-md-4'><div><a  style='color:black;' href='/pages/attendanceregs/".concat(e.contact,"/").concat(e.registerId,"'><span class=\"hoverEffectUnderline\"><div  style='padding-bottom:10px;'><div style='color:green;font-size:15px;font-weight:bold;'>").concat(e.registerTitle,"</div><div>").concat(e.attendees.length,' contacts.</div><div style="font-size:15px;color:grey;">Register ID: ').concat(e.registerId,"</div><div style='color:grey;'>Tap here to view details.</div></div></span></a></div><div><a href=\"/pages/editattendanceregs/").concat(e.contact,"/").concat(e.registerId,"\"><div class='btn btn-success btn-xs hovereffect'><span class='fa fa-edit'></span>Clear Register</div></a></div><hr></hr></div>")})),d(a),(0,o.yd)("toastAlert1","Successful",3e3))}))})))},class:"form-submit-btn",children:"Display registers"})]}),(0,n.jsx)("div",{style:{padding:"3px"},class:"row",dangerouslySetInnerHTML:{__html:l}})]}),(0,n.jsxs)("div",{style:{padding:"15px"},children:[(0,n.jsx)("div",{class:"label1",children:"Go to register"}),(0,n.jsx)("div",{class:"label2",children:"Enter your contact and register ID to open that register."}),(0,n.jsxs)("form",{method:"post",id:"goToRegsiterForm",action:"#",children:[(0,n.jsx)("div",{style:{paddingBottom:"8px"},children:(0,n.jsx)("div",{class:"formLabel",children:"Go to register"})}),(0,n.jsxs)("div",{class:"mb-3",children:[(0,n.jsx)("div",{class:"formInputLabel",children:"Contact"}),(0,n.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{class:"formInputLabel",children:"ID of register"}),(0,n.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"registerId"})]}),(0,n.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:s}}),(0,n.jsx)("div",{onClick:()=>{Array.from(document.getElementById("goToRegsiterForm").contact.value.trim()).length<10||Array.from(document.getElementById("goToRegsiterForm").contact.value.trim()).length>10?(0,o.yd)("toastAlert2","Enter contact of 10 digits",3e3):Array.from(document.getElementById("goToRegsiterForm").registerId.value).length<1?(0,o.yd)("toastAlert2","Enter ID of register to go to",3e3):((0,o.yd)("toastAlert1","Please wait.....",2e3),window.location.href="/pages/attendanceregs/".concat(parseInt(document.getElementById("goToRegsiterForm").contact.value),"/").concat(document.getElementById("goToRegsiterForm").registerId.value))},class:"form-submit-btn",children:"Go to Register"})]})]})]})}const a=i}}]);
//# sourceMappingURL=724.c33142fc.chunk.js.map