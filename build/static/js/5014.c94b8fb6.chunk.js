"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5014,9093],{9093:(e,s,t)=>{t.r(s),t.d(s,{LoginPage:()=>r,default:()=>a});var n=t(65043),i=t(87638),d=t(76273),l=t(35407),c=t(70579);function r(){const[e,s,t]=(0,l.lT)(["user"]);let[r,a]=(0,n.useState)("");return(0,c.jsx)("div",{style:{padding:"3px"},children:(0,c.jsxs)("div",{class:"row",children:[(0,c.jsx)("div",{class:"col-md-3"}),(0,c.jsxs)("div",{class:"col-md-6",children:[(0,c.jsx)("div",{class:"label",children:"You need to log in"}),(0,c.jsx)("div",{class:"description",children:"Log in to proceed"}),(0,c.jsx)("p",{}),(0,c.jsxs)("form",{method:"post",id:"loginForm",children:[(0,c.jsxs)("div",{class:"mb-3",children:[(0,c.jsx)("br",{}),(0,c.jsx)("div",{class:"formInputLabel",children:"Your contact"}),(0,c.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{class:"formInputLabel",children:"Your Kayas PIN that you created"}),(0,c.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,c.jsx)("p",{}),(0,c.jsx)("div",{class:"status",children:r}),(0,c.jsx)("div",{onClick:()=>{if(Array.from(document.getElementById("loginForm").contact.value.trim()).length<10||Array.from(document.getElementById("loginForm").contact.value.trim()).length>10)(0,i.yd)("toastAlert2","Enter contact of 10 digits",3e3);else if(Array.from(document.getElementById("loginForm").pin.value).length<5||Array.from(document.getElementById("loginForm").pin.value).length>5)(0,i.yd)("toastAlert2","Enter PIN of 5 digits e.g. 12345",3e3);else{a("Please wait........");let e=document.getElementById("loginForm").contact.value,t=document.getElementById("loginForm").pin.value;(0,i.zL)(e.trim(),t.trim()).then((e=>{if(!1===e.registered)(0,i.yd)("toastAlert2","Not registered. Tap menu to register",3e3);else if(!1===e.pin)(0,i.yd)("toastAlert2","Incorrect PIN",3e3);else{let t={name:e.details.name,contact:e.details.contact,role:"user"};s("user",t,d.kA),a("Logging in......"),window.location.href=window.location.href}}))}},class:"btn btn-success btn-sm",children:" Log in"}),(0,c.jsx)("p",{})]})]}),(0,c.jsx)("div",{class:"col-md-3"})]})})}const a=r},25014:(e,s,t)=>{t.r(s),t.d(s,{MyPayments:()=>r,default:()=>a});var n=t(65043),i=t(87638),d=t(9093),l=t(35407),c=t(70579);function r(){const[e]=(0,l.lT)(["user"]);let[s,t]=(0,n.useState)("");return 1==(0,i.Qb)(e)?((0,i.L4)("/getMyPayments",{contact:e.user.contact}).then((e=>{if(0==e.length)t((0,c.jsxs)("div",{style:{paddingTop:"70px",paddingBottom:"150px"},children:[(0,c.jsx)("div",{class:"divContainer1",children:(0,c.jsx)("div",{class:"divContainer1Inner",children:(0,c.jsx)("div",{style:{textAlign:"center"},children:"You havent made any payments"})})}),(0,c.jsx)("div",{style:{textAlign:"center",paddingTop:"20px"},children:(0,c.jsx)("a",{href:"/pages/payments/makepayment",children:(0,c.jsx)("div",{class:"btn btn-success btn-sm",children:"Make payment"})})}),(0,c.jsx)("div",{style:{textAlign:"center",paddingTop:"20px"},children:(0,c.jsx)("a",{href:"/pages/payments/paymentshomepage",children:(0,c.jsx)("div",{class:"btn btn-success btn-sm",children:"Back to menu"})})})]}));else{let s=e.reverse();t(s.map((e=>(0,c.jsx)("div",{class:"divContainer1",children:(0,c.jsxs)("div",{class:"divContainer1Inner",children:[(0,c.jsxs)("div",{style:{fontSize:"15px",fontWeight:"600"},children:["Ticket ID: ",e.ticketId," "]}),(0,c.jsxs)("div",{children:["Payment secret code: ",e.paymentSecretCode]}),(0,c.jsxs)("div",{children:["Amount paid: ",e.amount," shs"]}),(0,c.jsx)("div",{children:(0,c.jsx)("span",{style:{background:"green",borderRadius:"2px",padding:"3px",color:"white"},children:1==e.paymentApproved?"Served":"Not served"})})]})}))))}})),(0,c.jsx)("div",{style:{padding:"5px"},children:(0,c.jsxs)("div",{class:"row",children:[(0,c.jsx)("div",{class:"col-md-3"}),(0,c.jsxs)("div",{class:"col-md-6",children:[(0,c.jsx)("div",{class:"label",children:"My payments"}),(0,c.jsx)("div",{class:"description",children:"A list of all your payments bothe served and not served"}),(0,c.jsx)("div",{style:{textAlign:"center",paddingTop:"20px"},children:(0,c.jsx)("a",{href:"/pages/payments/paymentshomepage",children:(0,c.jsx)("div",{class:"btn btn-success btn-sm",children:"Back to menu"})})}),(0,c.jsx)("p",{}),(0,c.jsx)("div",{children:s})]}),(0,c.jsx)("div",{class:"col-md-3"})]})})):(0,c.jsx)("div",{children:(0,c.jsx)(d.LoginPage,{})})}const a=r}}]);
//# sourceMappingURL=5014.c94b8fb6.chunk.js.map