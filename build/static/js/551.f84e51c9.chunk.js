"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[551],{2551:(e,t,r)=>{r.r(t),r.d(t,{MyArticles:()=>l,default:()=>n});r(7890);var s=r(5043),o=r(579);function l(){const[e,t]=(0,s.useState)("");let r="";const[l,n]=(0,s.useState)("");return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{style:{padding:"10px"},children:[(0,o.jsxs)("form",{method:"post",id:"myArticlesForm",action:"#",children:[(0,o.jsx)("div",{style:{paddingBottom:"8px"},children:(0,o.jsx)("div",{class:"formLabel",children:"See/share your Articles"})}),(0,o.jsxs)("div",{class:"mb-3",children:[(0,o.jsx)("div",{class:"formInputLabel",children:"Contact"}),(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{class:"formInputLabel",children:"PIN"}),(0,o.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,o.jsx)("div",{style:{fontSize:"17px",paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:e}}),(0,o.jsx)("div",{onClick:()=>{Array.from(document.getElementById("myArticlesForm")[0].value).length<10||Array.from(document.getElementById("myArticlesForm")[0].value).length>10?t("<div style='color:red'>Please enter a correct number......</div>"):Array.from(document.getElementById("myArticlesForm")[1].value).length<5||Array.from(document.getElementById("myArticlesForm")[1].value).length>5?t("<div style='color:red;'>Please enter a PIN of 5 digits ......</div>"):(t("<div style='color:green;'>Getting your Articles, <span style='color:red;'>please wait ......</span></div>"),fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myArticlesForm")[0].value,pin:document.getElementById("myArticlesForm")[1].value})}).then((e=>e.json())).then((e=>{!1===e.registered?t("<div style='color:red;'>You are not registered with Kayas, please register with Kayas then begin writing articles</div>"):!0===e.registered&&!1===e.pin?t("<div style='color:green;'><span style='color:red;'>".concat(e.details.name,",</span> your <span style='color:red;'>PIN is incorrect,</span> please try again......</div>")):(t("<div style='color:green;'><span style='color:red;'>Please be patient as we get your articles ......</div>"),fetch("/getMyArticles",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myArticlesForm")[0].value})}).then((e=>(t("<div style='color:green;'>Your Articles have been received, please wait we share with you ......</div>"),e.json()))).then((e=>{0===e.length?t("<div style='color:red;'>You don't have any Articles written. Please write some and get back. Thank you.</div>"):(e.reverse(),e.forEach((e=>{let t;t=void 0===e.newCommentsNumb?0:e.newCommentsNumb,r+="<div class='col-sm-6 col-md-4' style='background:#E3E3E3;border:4px solid white;border-radius:20px;padding:10px;' onclick=fetch('/resetPubArticlesNewCommentsNumb',{method:\"post\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({id:".concat(e.id,"})}) ><div><a  style='color:black;' href='/pages/pubarticles/article/").concat(e.id,"'><span class=\"hoverEffectUnderline\"><div  style='padding-bottom:10px;'><div style='color:black;font-size:18px;'>").concat(e.headline1,"</div><div style='font-size:12px;color:grey;'>Article ").concat(e.id,"</div><div style='color:grey;padding-top:5px;'><span style='color:red;'>").concat(t,"</span> new comments | <span style='color:red;'>").concat(e.visits,"</span> views | <span style='color:red;'>").concat(e.pubArticleOpinions.length,"</span> comments</div></div> </span></a></div></div>")})),n('<div style="text-align:center;font-size:20px;color:red;">Your Articles below:</div>'+r),t("<div style='color:green;'>Done, scroll down to see your Articles. <span class='fa fa-check'></span></div>"))})))})))},class:"form-submit-btn backgroundColorHovereffect",children:"See articles"}),(0,o.jsx)("p",{}),(0,o.jsx)("div",{class:"formInputLabel",children:"Share title"}),(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"articlesShareTitle"}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{onClick:()=>{Array.from(document.getElementById("myArticlesForm")[0].value).length<10||Array.from(document.getElementById("myArticlesForm")[0].value).length>10?t("<div style='color:red'>Please enter a correct number......</div>"):Array.from(document.getElementById("myArticlesForm")[1].value).length<5||Array.from(document.getElementById("myArticlesForm")[1].value).length>5?t("<div style='color:red;'>Please enter a PIN of 5 digits ......</div>"):(t("<div style='color:green;'>Getting your Articles, <span style='color:red;'>please wait ......</span></div>"),fetch("/verifyUser",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("myArticlesForm")[0].value,pin:document.getElementById("myArticlesForm")[1].value})}).then((e=>e.json())).then((e=>{!1===e.registered?t("<div style='color:red;'>You are not registered with Kayas, please register with Kayas then begin writing articles</div>"):!0===e.registered&&!1===e.pin?t("<div style='color:green;'><span style='color:red;'>".concat(e.details.name,",</span> your <span style='color:red;'>PIN is incorrect,</span> please try again......</div>")):(t("<div style='color:green;'><span style='color:red;'>".concat(e.details.name,",</span> please be patient as we finalize with getting your articles ......</div>")),window.location.href="whatsapp://send?text=*".concat(document.getElementById("myArticlesForm").articlesShareTitle.value.trim(),"*%0A___________________________%0A%0ASee the details by tapping the link below:%0Ahttps://kayas-mak.herokuapp.com/pages/pubarticles/sharemyarticles/").concat(document.getElementById("myArticlesForm").contact.value,"%0A_______________________%0A_Powered by: \ud83c\udf39Kayas_"))})))},class:"form-submit-btn backgroundColorHovereffect",children:[(0,o.jsx)("span",{class:"fa fa-whatsapp"})," Share articles"]})]}),(0,o.jsx)("p",{}),(0,o.jsx)("p",{}),(0,o.jsx)("div",{style:{padding:"3px"},class:"row",dangerouslySetInnerHTML:{__html:l}}),(0,o.jsx)("hr",{})]})})}const n=l}}]);
//# sourceMappingURL=551.f84e51c9.chunk.js.map