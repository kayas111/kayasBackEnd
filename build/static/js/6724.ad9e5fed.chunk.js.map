{"version":3,"file":"static/js/6724.ad9e5fed.chunk.js","mappings":"sNAOO,SAASA,IACd,MAAOC,EAAQC,EAAUC,IAAcC,EAAAA,EAAAA,IAAW,CAAC,UAC3CC,EAAOC,IAAWC,EAAAA,EAAAA,UAAS,KAC3BC,EAAmBC,IAAuBF,EAAAA,EAAAA,UAAS,IACzD,IAAKG,EAAiBC,IAAqBJ,EAAAA,EAAAA,UAAS,IACpD,MAAMK,EAAsBC,IAA0BN,EAAAA,EAAAA,WAAS,GAG/D,MAAMO,EAAYC,IAAgBR,EAAAA,EAAAA,WAASS,EAAAA,EAAAA,KAACC,EAAAA,GAAiB,KAyD7D,OAvDJC,EAAAA,EAAAA,WAAU,KACRC,MAAM,kBAAkB,CACtBC,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAU,CAClBC,QAAQC,SAASzB,EAAQ0B,KAAKF,aAE/BG,KAAKC,GACAA,EAAKC,QAASF,KAAKC,IAEV,IAAdA,EAAKE,QACNlB,GAAyB,GAE3BF,EAAoB,IAEpBqB,WAAW,KACTC,OAAOC,SAASC,KAAK,kDACrB,OAIFN,EAAKO,UACLzB,EAAoBkB,GACpBhB,GAAyB,OA6BzB,IAG0B,IAArBwB,EAAAA,EAAAA,IAAWpC,IAEDe,EAAAA,EAAAA,KAAA,OAAAsB,UAELC,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAACC,QAAQ,OAAOH,SAAA,EAE5BtB,EAAAA,EAAAA,KAAA,OAAK0B,GAAG,cAAcC,MAAM,YAAWL,SAAC,kBACxCtB,EAAAA,EAAAA,KAAA,OAAK2B,MAAM,kBAAiBL,SAAC,qDAC7BC,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAACI,WAAW,OAAOD,MAAM,MAAKL,SAAA,CAOzB,GAAzB5B,EAAiBqB,QAElBf,EAAAA,EAAAA,KAAA,OAAAsB,UACEtB,EAAAA,EAAAA,KAAC6B,EAAAA,GAAgB,CAACC,QAAQ,6DAIpBpC,EAAiBqC,IAAKC,IAE1BhC,EAAAA,EAAAA,KAAA,OAAK2B,MAAM,oBAAmBL,UAC5BtB,EAAAA,EAAAA,KAACiC,EAAAA,GAAI,CAACC,GAAE,yBAAAC,OAA2BH,EAASvB,QAAO,KAAA0B,OAAIH,EAASI,YAAad,UAEjFtB,EAAAA,EAAAA,KAAA,OAAK2B,MAAM,gBAAeL,UAC1BC,EAAAA,EAAAA,MAAA,OAAMI,MAAM,qBAAoBL,SAAA,EAChCtB,EAAAA,EAAAA,KAAA,OAAK2B,MAAM,OAAML,SAAGU,EAASK,iBAC7Bd,EAAAA,EAAAA,MAAA,OAAKI,MAAM,QAAOL,SAAA,CAAEU,EAASM,UAAUvB,OAAO,yBAsBjD,KAACf,EAAAA,EAAAA,KAAA,QACYJ,IAAyBI,EAAAA,EAAAA,KAACC,EAAAA,GAAiB,aAmB7CD,EAAAA,EAAAA,KAAA,OAAAsB,UACRtB,EAAAA,EAAAA,KAACuC,EAAAA,QAAS,KAOb,CAEA,S","sources":["pages/attendanceregs/MyRegisters.js"],"sourcesContent":["\r\nimport React, {useState,useEffect} from 'react'\r\nimport { ToastAlert,IsLoggedIn,SuspenseComponent, MessageComponent } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nimport LoginPage from '../LoginPage';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport function MyRegisters(){\r\n  const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\n    const[status,setStatus]=useState('')\r\n    const[goToRegisterStatus,setGoToRegisterStatus]=useState('')\r\n    let [arrayOfRegisters,setArrayOfRegisters]=useState([])\r\n    const[showSuspenseComponent,setShowSuspenseComponent]=useState(true)\r\n\r\n    let data=\"\"\r\n    const[myRegisters,setMyRegisters]=useState(<SuspenseComponent/>)\r\n\r\nuseEffect(()=>{\r\n  fetch('/getMyRegisters',{\r\n    method:\"post\",\r\n    headers:{'Content-type':'application/json'},\r\n    body:JSON.stringify({\r\n      contact:parseInt(cookies.user.contact),\r\n    })\r\n  }).then(resp=>{\r\n   return resp.json()}).then(resp=>{\r\n   \r\n  if(resp.length===0){\r\n    setShowSuspenseComponent(false)\r\n  \r\n  setArrayOfRegisters([])\r\n  \r\n  setTimeout(()=>{\r\n    window.location.href='/pages/attendanceregs/createattendanceregister'\r\n  },5000)\r\n  \r\n  }else{\r\n    \r\n  resp.reverse()\r\n  setArrayOfRegisters(resp)\r\n  setShowSuspenseComponent(false)\r\n  \r\n  // setMyRegisters(\r\n  // resp.map((register)=>{\r\n  // return(\r\n  //   <div class='col-sm-6 col-md-3'>\r\n  //     <Link to={`/pages/attendanceregs/${register.contact}/${register.registerId}`}\r\n  //     >\r\n  \r\n  // <div class=\"divContainer1\">\r\n  // <div  class=\"divContainer1Inner\">\r\n  // <div class=\"bold\" >{register.registerTitle}</div>\r\n  // <div class='light'>{register.attendees.length} contacts</div>\r\n  // </div>\r\n  // </div>\r\n  \r\n  \r\n  //     </Link>\r\n  //   </div>\r\n  // )\r\n  // })\r\n  \r\n  // )\r\n  \r\n  }\r\n  \r\n      \r\n     \r\n      })\r\n},[])\r\n    \r\n     \r\n    if(IsLoggedIn(cookies)==true){\r\n           \r\n          return(<div>\r\n        \r\n            <div style={{padding:\"5px\"}}>\r\n              \r\n            <div id=\"myregisters\" class=\"pageLabel\">My registers</div>\r\n            <div class=\"pageDescription\">A list of all contact registers created by you.</div>\r\n            <div style={{paddingTop:\"7px\"}}class=\"row\">\r\n              {/* {myRegisters} */}\r\n              {\r\n \r\n  \r\n (()=>{\r\n     \r\n if(arrayOfRegisters.length==0){\r\n return (\r\n   <div>\r\n     <MessageComponent message=\"You don't have any contact register. Please create one\"/>\r\n   </div>\r\n )\r\n }else{\r\n   return( arrayOfRegisters.map((register)=>{\r\n     return(\r\n       <div class='col-sm-6 col-md-3'>\r\n         <Link to={`/pages/attendanceregs/${register.contact}/${register.registerId}`}\r\n         >\r\n     <div class=\"divContainer1\">\r\n     <div  class=\"divContainer1Inner\">\r\n     <div class=\"bold\" >{register.registerTitle}</div>\r\n     <div class='light'>{register.attendees.length} contacts</div>\r\n     </div>\r\n     </div>\r\n     \r\n     \r\n         </Link>\r\n       </div>\r\n     )\r\n     \r\n     }\r\n  \r\n   \r\n     \r\n     )\r\n     \r\n     )\r\n }\r\n \r\n \r\n    \r\n })()\r\n     \r\n } <p></p>\r\n              {showSuspenseComponent && <SuspenseComponent/>}\r\n   \r\n\r\n\r\n\r\n\r\n              </div>\r\n      \r\n       \r\n       </div>\r\n      \r\n      \r\n       \r\n         \r\n          \r\n                  </div>)    \r\n      \r\n      }else{\r\n      \r\n      return(<div>\r\n     <LoginPage />\r\n      </div>)\r\n      \r\n      }\r\n  \r\n            \r\n          \r\n  }\r\n\r\n  export default MyRegisters"],"names":["MyRegisters","cookies","setCookie","removeCookie","useCookies","status","setStatus","useState","goToRegisterStatus","setGoToRegisterStatus","arrayOfRegisters","setArrayOfRegisters","showSuspenseComponent","setShowSuspenseComponent","myRegisters","setMyRegisters","_jsx","SuspenseComponent","useEffect","fetch","method","headers","body","JSON","stringify","contact","parseInt","user","then","resp","json","length","setTimeout","window","location","href","reverse","IsLoggedIn","children","_jsxs","style","padding","id","class","paddingTop","MessageComponent","message","map","register","Link","to","concat","registerId","registerTitle","attendees","LoginPage"],"sourceRoot":""}