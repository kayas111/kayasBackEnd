{"version":3,"file":"static/js/829.25a29db8.chunk.js","mappings":"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","sources":["pages/pubarticles/AssessMyArticles.js","pages/pubarticles/PubArticleHome.js"],"sourcesContent":["\r\nimport 'firebase/compat/storage';\r\n\r\n\r\nimport React, {useState} from 'react';\r\n\r\n\r\nimport { ArticlesNav } from './PubArticleHome';\r\n\r\nexport function AssessMyArticles(){\r\n    const[assessmentStatus,setAssessmentStatus]=useState('')\r\n    let data=\"\"\r\n    const[myArticlesAsessment,setMyArticlesAsessment]=useState('')\r\n      return(\r\n    <div>\r\n    <div style={{color:\"red\",fontSize:\"20px\",textAlign:\"center\",padding:\"5px\"}}>Assess your Articles</div>\r\n    \r\n    <ArticlesNav/>\r\n    <div style={{padding:\"5px\"}}>Assessing allows you to see what comments have been received on your Articles. Assessing allows you see who has commented, their name and their contact.</div>\r\n  <div class=\"row\">\r\n  <div class=\"col-md-6\" style={{padding:\"20px\"}}>\r\n    \r\n            \r\n                     \r\n            <form method=\"post\" id=\"articlesAsessmentForm\" action=\"#\">\r\n            <div style={{paddingBottom:\"8px\"}}><div class=\"formLabel\">Assessment form</div></div>\r\n  \r\n         <div class=\"mb-3\">\r\n        \r\n        <input type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"contact\" placeholder='Enter WhatsApp Contact e.g 0703852178'></input>\r\n      \r\n       \r\n       <br></br>\r\n         <input type=\"password\" class=\"form-control\" autoComplete=\"off\" name=\"pin\"  placeholder=\"Enter your PIN e.g. 12345 (5 digits)\" ></input>\r\n        \r\n       \r\n         </div>\r\n         \r\n         <div style={{fontSize:\"17px\",paddingBottom:\"10px\"}} dangerouslySetInnerHTML={{__html:assessmentStatus}}/>\r\n         <div style={{borderRadius:\"18px\"}}  onClick={\r\n           ()=>{\r\n        \r\n             if(Array.from(document.getElementById(\"articlesAsessmentForm\").contact.value).length<10||Array.from(document.getElementById(\"articlesAsessmentForm\").contact.value).length>10){\r\n              setAssessmentStatus(\"<div style='color:red'>Please enter a correct contact......</div>\")\r\n    \r\n    }else if(Array.from(document.getElementById(\"articlesAsessmentForm\").pin.value).length<5||Array.from(document.getElementById(\"articlesAsessmentForm\").pin.value).length>5)\r\n             {\r\n              setAssessmentStatus(\"<div style='color:red;'>Please enter a PIN of 5 digits ......</div>\")\r\n             }\r\n    \r\n    else{\r\n      setAssessmentStatus(\"<div style='color:green;'>Getting your Assessment, <span style='color:red;'>please wait ......</span></div>\") \r\n        fetch('/verifyUser',{\r\n            method:\"post\",\r\n            headers:{'Content-type':'application/json'},\r\n            body:JSON.stringify({\r\n    contact:document.getElementById(\"articlesAsessmentForm\").contact.value,\r\n    pin:document.getElementById(\"articlesAsessmentForm\").pin.value,\r\n            }) \r\n        }).then(res=>res.json()).then((resp)=>{\r\n           \r\n            \r\n            if(resp.registered===false){\r\n              setAssessmentStatus(\"<div style='color:red;'>You are not registered with Kayas, please register with Kayas then begin writing articles</div>\")\r\n            }\r\n             else{\r\n                if(resp.registered===true&&resp.pin===false){\r\n                  setAssessmentStatus(`<div style='color:green;'><span style='color:red;'>${resp.details.name},</span> your <span style='color:red;'>PIN is incorrect,</span> please try again......</div>`)\r\n        \r\n                }else{\r\n                 \r\n                  setAssessmentStatus(`<div style='color:green;'><span style='color:red;'>${resp.details.name},</span> please be patient............</div>`)\r\n    \r\n           fetch('/articleAssessments',{\r\n            method:\"post\",\r\n            headers:{'Content-type':'application/json'},\r\n            body:JSON.stringify({\r\n              contact:parseInt(document.getElementById(\"articlesAsessmentForm\").contact.value),\r\n            })\r\n        }).then(resp=>{\r\n         \r\n            return resp.json()}).then(resp=>{\r\n    if(resp.length===0){\r\n      setAssessmentStatus(`<div style='color:red;'>You don't have any Assessments at the moment, please try again later. Thank you.</div>`) \r\n    \r\n    }else{\r\n  resp.reverse()\r\n   resp.forEach(assessmentDoc=>{\r\n          data+=`<div class='col-md-9'><div><div  style='padding-bottom:10px;'><div><span style='color:black;'>${assessmentDoc.msg}</span></div><div style='color:green;'>Comment by: <span style='color:;'>${assessmentDoc.commenter} - 0${assessmentDoc.commenterContact} </span></div> <div style='font-size:12px;color:grey;'>Article ${assessmentDoc.articleId}, written by: ${assessmentDoc.author}</div><div style='color:grey;font-size:12px;font-weight:;'>${assessmentDoc.headline1}</div>    </div></div><hr></hr></div>`\r\n      })\r\n      setMyArticlesAsessment(data)\r\n      setAssessmentStatus(`<div style='color:green;'>Successful <span class=\"fa fa-check\"></span> Scroll down to see.</div>`)\r\n    }\r\n    \r\n              \r\n             \r\n              })\r\n           \r\n                }\r\n                \r\n              \r\n            }\r\n           \r\n        }\r\n            \r\n    \r\n        )\r\n        \r\n      \r\n    }\r\n           }\r\n         } class=\"btn btn-success hovereffect\">Assess</div><p></p>\r\n        \r\n         </form>\r\n  \r\n      \r\n        \r\n         </div>\r\n  </div>\r\n  \r\n  \r\n         <div style={{padding:\"5px\"}} class=\"row\" dangerouslySetInnerHTML={{__html:myArticlesAsessment}}/>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n    </div>\r\n      )\r\n    }\r\n\r\n    export default AssessMyArticles","import { VerifyRegistrationAndPin,ToastAlert,ListArticles } from '../Functions';\nimport firebase from 'firebase/compat/app';\n\nimport { getStorage, ref, deleteObject } from \"firebase/storage\";\nimport 'firebase/compat/storage';\n\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport React, {useEffect,useState} from 'react';\n\nimport axios from 'axios'\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA\",\n  authDomain: \"kayas-42321.firebaseapp.com\",\n  projectId: \"kayas-42321\",\n  storageBucket: \"kayas-42321.appspot.com\"\n\n})\nconst storage=firebase.storage()\nconst bucket=storage.ref()\n\n\nexport function PubArticleSearchComp(){\n  const [searchStatus,setSearchStatus]=useState('')\n  const [searchResults,setSearchResults]=useState('')\n  return(\n    <div>\n      <div style={{padding:\"5px\"}}>\n      <div class=\"PubArticleSearchCompContainer1\">\n        <div  style={{textAlign:\"center\"}}>{searchStatus}</div>\n      \n\n        <div>\n          <input id=\"articleSearchValue\" class=\"searchInputTag1\" placeholder='Search for articles'\n            onKeyDown={(event)=>{\n          if(event.key==='Enter' || event.key==='NumpadEnter'){\n  setSearchStatus(<div><span style={{fontSize:\"2px\",height:\"15px\",width:\"15px\"}} class=\"spinner-border\" role=\"status\"> </span> <span>Searching.....</span></div>)\n                  \n            axios.post('/searchForArticles',{\n              articleSearchValue:document.querySelector('#articleSearchValue').value\n            }).then(resp=>{\n              console.log(resp)\n              if(resp.data.length===0){\n                ToastAlert('toastAlert2','No results',3000);\n                setSearchStatus('')\n                setSearchResults('')\n              } else{\n                ToastAlert('toastAlert1','Successful',3000);\n                setSearchStatus('')\n                setSearchResults(ListArticles(resp.data))\n              }\n            })  \n          }else{\n\n          }\n        \n          \n          \n                  }}\n        \n        ></input>\n        </div>\n   \n       \n\n      </div>\n    </div>\n    <div >{searchResults}</div>\n    </div>\n  )\n}\n\nexport function ArticlesNav(props){\n  let style2={padding:\"5px\"}\n  \n    return(\n  \n    <div style={{paddingTop:\"8px\",display:\"flex\",flexWrap:\"wrap\"}}>\n      <div style={style2}><div class=\"button1\" onClick={()=>{\n              window.location.href=`/pages/pubarticles/createarticle`\n            }}><span class=\"hovereffect\"><span class=\"fa fa-plus\"></span> New article</span></div></div>\n      <div style={style2}><div class=\"button1\" onClick={()=>{\nlet pin=window.prompt('Enter your PIN to delete this article.');\nVerifyRegistrationAndPin(props.articleAuthorContact,pin).then(resp=>{\n  if(resp.pin===false){\n    \n    ToastAlert('toastAlert2','Not allowed',3000)\n  }else{\n  const imageRef = ref(getStorage(), `pubArticleImages/pubArticleImage_${props.articleId}`);\n  deleteObject(imageRef).then(() => {\n  fetch('/deleteArticle',{\n    method:\"post\",\n    headers:{'Content-type':'application/json'},\n    body:JSON.stringify({\n      articleId:parseInt(props.articleId)\n\n    }) \n}).then(resp=>resp.json()).then(resp=>{\nwindow.location.href=`/pages/pubarticles/article/${props.articleId}`\n})\n}).catch((error) => {\n   fetch('/deleteArticle',{\n    method:\"post\",\n    headers:{'Content-type':'application/json'},\n    body:JSON.stringify({\n      articleId:parseInt(props.articleId)\n\n    }) \n}).then(resp=>resp.json()).then(resp=>{\nwindow.location.href=`/pages/pubarticles/article/${props.articleId}`\n})\n\n });\n \n\n  \n\n\n  }\n})\n\n\n            \n\n            }}><span class=\"hovereffect\"><span class=\"fa fa-minus\"></span> Delete</span></div>  </div>\n      <div style={style2}><div class=\"button1\" onClick={()=>{\n              window.location.href=`/pages/pubarticles/assessmyarticles`\n            }}>\n     \n<span class=\"hovereffect\"> Assess</span>\n</div></div>\n\n          \n\n            \n            \n            \n            \n            \n            </div>\n \n  \n    )\n  }\nexport function PubArticleCompHome(){\n    return(\n        <div>\n            <div style={{color:\"red\",fontSize:\"25px\",textAlign:\"center\"}}>Kayas Articles</div>\n            \n            \n    \n        </div>\n        )\n}\n\n\n\n\n\n\n   "],"names":["AssessMyArticles","assessmentStatus","setAssessmentStatus","useState","data","myArticlesAsessment","setMyArticlesAsessment","_jsxs","children","_jsx","style","color","fontSize","textAlign","padding","ArticlesNav","class","method","id","action","paddingBottom","type","autoComplete","name","placeholder","dangerouslySetInnerHTML","__html","borderRadius","onClick","Array","from","document","getElementById","contact","value","length","pin","fetch","headers","body","JSON","stringify","then","res","json","resp","registered","concat","details","parseInt","reverse","forEach","assessmentDoc","msg","commenter","commenterContact","articleId","author","headline1","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","storage","ref","PubArticleSearchComp","searchStatus","setSearchStatus","searchResults","setSearchResults","onKeyDown","event","key","height","width","role","axios","post","articleSearchValue","querySelector","console","log","ToastAlert","ListArticles","props","style2","paddingTop","display","flexWrap","window","location","href","prompt","VerifyRegistrationAndPin","articleAuthorContact","imageRef","getStorage","deleteObject","catch","error"],"sourceRoot":""}