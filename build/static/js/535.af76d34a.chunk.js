"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[535],{70535:(e,t,d)=>{d.r(t),d.d(t,{TradersCare:()=>o,default:()=>l});var a=d(65043),n=d(66201),s=d(56024),r=d(70579);function o(){const[e,t]=(0,a.useState)(""),[d,o]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[c,p]=(0,a.useState)("");let m="",u={padding:"3px"};return(0,a.useEffect)(()=>{fetch("/collection_controls").then(e=>e.json()).then(e=>{document.getElementById("setTraderNoticeForm").msg.value=e[0].traderNotice}),fetch("/collection_traders_number").then(e=>e.json()).then(e=>{e.reverse(),e.forEach(e=>{m+="<div class='col-md-4'><div>Name: ".concat(e.name,"</div><div>Contact: 0").concat(e.contact,"</div><div>Acc bal: ").concat(e.accBal,"</div><div>Visits: ").concat(e.pagesVisitsNo,"</div><div>Institution: ").concat(e.institution,"</div><hr></hr></div>")}),i(m)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"20px",color:"red",textAlign:"center"},children:"Traders Care"}),(0,r.jsx)(n.Ay,{}),(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-6",children:(0,r.jsx)("div",{style:{padding:"5px"},children:(0,r.jsxs)("form",{id:"updateTraderDetailsForm",children:[(0,r.jsx)("div",{style:{paddingBottom:"8px"},children:(0,r.jsx)("div",{class:"formLabel",children:"Update Trader details"})}),(0,r.jsx)("div",{style:{fontSize:"12px"},children:"accBal,sendSmsTokens,createAttendanceRegisterTokens"}),(0,r.jsxs)("div",{class:"mb-3",children:[(0,r.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Enter trader's contact"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"fieldToUpdate",placeholder:"Enter field to update"}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,r.jsx)("div",{style:u,children:(0,r.jsx)("div",{class:"button1",onClick:()=>{let e=document.getElementById("updateTraderDetailsForm");Array.from(e.contact.value.trim()).length<10?(0,s.yd)("toastAlert2","Enter 10 digits",3e3):(0,s.ck)(e.contact.value.trim()).then(e=>{void 0!==e.bnpl.studentDetails?window.alert("Std No: ".concat(e.bnpl.studentDetails.studentNo,", Course: ").concat(e.bnpl.studentDetails.course,"  ")):(0,s.yd)("toastAlert2","No student details submittted yet",3e3)})},children:"Get student details"})}),(0,r.jsx)("div",{style:u,children:(0,r.jsx)("div",{class:"button1",onClick:()=>{Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length<10||Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length>10?(0,s.yd)("toastAlert2","Enter correct contact of 10 digits",3e3):(t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(document.getElementById("updateTraderDetailsForm").contact.value),fieldToUpdate:"bnplEligibility",updateValue:"notApplicable"}})}).then(e=>e.json()).then(e=>{t(e[0]),(0,s.yd)("toastAlert1","".concat(e.msg),3e3)}))},children:"Turn BNPL eligibility on/off"})})]}),(0,r.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"updateValue",placeholder:"Enter update value"})]}),(0,r.jsx)("div",{style:{fontSize:"15px"},dangerouslySetInnerHTML:{__html:e}}),(0,r.jsx)("div",{class:"row",children:(0,r.jsxs)("div",{class:"col-6 col-md-12",children:[(0,r.jsx)("div",{style:u,children:(0,r.jsx)("div",{onClick:()=>{document.getElementById("updateTraderDetailsForm");Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length<10||Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length>10?t('<div style="color:red;">Enter contact of 10 digits</div>'):Array.from(document.getElementById("updateTraderDetailsForm").fieldToUpdate.value).length<1?t('<div style="color:red;">Enter field to update!</div>'):Array.from(document.getElementById("updateTraderDetailsForm").updateValue.value).length<1?t('<div style="color:red;">Enter an update value!</div>'):(t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(document.getElementById("updateTraderDetailsForm").contact.value),fieldToUpdate:document.getElementById("updateTraderDetailsForm").fieldToUpdate.value,updateValue:parseInt(document.getElementById("updateTraderDetailsForm").updateValue.value)}})}).then(e=>e.json()).then(e=>{t(e[0])}))},type:"text",class:"button1",children:"Update"})}),(0,r.jsxs)("div",{style:u,children:[" ",(0,r.jsx)("div",{class:"button1",onClick:()=>{let e=document.getElementById("updateTraderDetailsForm");t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(e.contact.value.trim()),fieldToUpdate:"sendSmsWithoutTag",updateValue:"notApplicable"}})}).then(e=>e.json()).then(e=>{t(e[0]),(0,s.yd)("toastAlert1","".concat(e.msg),4e3)})},children:"Send SMS without tag"})]}),(0,r.jsxs)("div",{style:u,children:[" ",(0,r.jsx)("div",{class:"button1",onClick:()=>{let e=document.getElementById("updateTraderDetailsForm");t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(e.contact.value.trim()),fieldToUpdate:"displayArticlesAtFreeCost",updateValue:"notApplicable"}})}).then(e=>e.json()).then(e=>{t(e[0]),(0,s.yd)("toastAlert1","".concat(e.msg),4e3)})},children:" Display articles at free cost"})]}),(0,r.jsxs)("div",{style:u,children:[" ",(0,r.jsx)("div",{class:"button1",onClick:()=>{let e=document.getElementById("updateTraderDetailsForm");t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(e.contact.value.trim()),fieldToUpdate:"isDeliveryAgent",updateValue:"notApplicable"}})}).then(e=>e.json()).then(e=>{t(e[0]),(0,s.yd)("toastAlert1","".concat(e.msg),3e3)})},children:"Turn on/off as a delivery agent"})]})]})})]})})}),(0,r.jsx)("div",{class:"col-md-6",children:(0,r.jsx)("div",{style:{padding:"5px"},children:(0,r.jsxs)("form",{id:"setTraderNoticeForm",children:[(0,r.jsx)("div",{style:{paddingBottom:"8px"},children:(0,r.jsx)("div",{class:"formLabel",children:"Set trader notice"})}),(0,r.jsx)("div",{class:"mb-3",children:(0,r.jsx)("textArea",{type:"text",class:"form-control",autoComplete:"off",name:"msg",placeholder:"Enter message"})}),(0,r.jsx)("div",{style:{fontSize:"15px"},dangerouslySetInnerHTML:{__html:d}}),(0,r.jsx)("div",{class:"row",children:(0,r.jsx)("div",{class:"col-6 col-md-6",children:(0,r.jsx)("div",{style:{borderRadius:"18px",fontSize:"12px"},class:"btn btn-success hovereffect",onClick:()=>{Array.from(document.getElementById("setTraderNoticeForm").msg.value).length<1?o('<div style="color:red;">Enter a message</div>'):(o("Setting............"),fetch("/setTraderNotice",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({msg:document.getElementById("setTraderNoticeForm").msg.value})}).then(e=>e.json()).then(e=>{o(e[0])}))},children:"Set notice"})})})]})})})]}),(0,r.jsx)("div",{style:{fontSize:"15px",padding:"5px",paddingTop:"40px"},class:"row",dangerouslySetInnerHTML:{__html:l}})]})}const l=o}}]);
//# sourceMappingURL=535.af76d34a.chunk.js.map