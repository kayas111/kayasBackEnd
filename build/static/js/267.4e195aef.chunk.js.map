{"version":3,"file":"static/js/267.4e195aef.chunk.js","mappings":"gNAsEA,QAlEO,SAAsBA,GAEzB,MAAOC,IAASC,EAAAA,EAAAA,IAAW,CAAC,UACzBC,EAAOC,IAAWC,EAAAA,EAAAA,UAAS,IAC9B,OAAOC,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACC,QAAQ,OAAOC,UAEvCC,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACI,UAAU,GAAGC,OAAO,mBAAmBJ,QAAQ,OAAOC,SAAA,EACnEC,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACM,SAAS,OAAOC,WAAW,MAAMC,UAAU,SAASC,aAAa,oBAAoBP,SAAA,CAAET,EAAMiB,OAC1GP,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACM,SAAS,OAAOE,UAAU,UAAUN,SAAA,CAAC,YAAUT,EAAMkB,eAGlEZ,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACY,cAAc,MAAMC,WAAW,MAAML,UAAU,OAAOF,SAAS,OAAOM,cAAc,OAAOV,SAAET,EAAMqB,eAEhHf,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACM,SAAS,OAAOE,UAAU,QAAQN,SAAET,EAAMsB,YACvDZ,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACM,SAAS,OAAOE,UAAU,SAASP,QAAQ,OAAOC,SAAA,CAAC,KAACC,EAAAA,EAAAA,MAAA,QAAMH,MAAO,CAACgB,MAAM,QAAQf,QAAQ,MAAMM,WAAW,OAAOL,SAAA,CAAET,EAAMwB,KAAK,YAC1IlB,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACQ,UAAU,SAASF,SAAS,OAAOU,MAAM,SAAST,WAAW,OAAOL,SAAEN,KACnFO,EAAAA,EAAAA,MAAA,OAAKe,MAAM,UACXC,QAASA,MACiB,KAAtBC,EAAAA,EAAAA,IAAW1B,KACXG,EAAU,wBACdwB,EAAAA,EAAAA,IAAkB3B,EAAQ4B,KAAKX,SAASY,MAAKC,IACzC,IAAIC,EAAOD,GACiB,IAAzBC,EAAOC,KAAKC,WACX9B,EAAU,4DAEf+B,YAAW,KACN,IAAmF,IAAhFC,OAAOC,QAAQ,+CAADC,OAAgDtC,EAAMwB,KAAI,OAAa,CAChG,IAAIe,EAAQ,CAACC,KAAKvC,EAAQ4B,KAAKW,KAAKtB,QAAQjB,EAAQ4B,KAAKX,QAAQM,KAAKiB,SAASzC,EAAMwB,MAAMP,MAAMjB,EAAMiB,MAAMI,YAAYrB,EAAMqB,aAE3HoB,SAASzC,EAAMwB,MAAMiB,SAAST,EAAOC,KAAKS,MAAOC,EAAAA,GACjDvC,EAAU,wCAEdwC,MAAM,2BAA2B,CACjBC,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAUV,KACrBT,MAAKC,GAAMA,EAAKmB,SAAQpB,MAAK3B,KACxB,IAAjBA,EAAOgD,QACV/C,EAAU,uCAEFA,EAAU,4BACF,GAIf,MACWA,EAAU,YACd,GACF,IACF,IAMI,EAENK,SAAA,CACD,wBACDH,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACgB,MAAM,OAAOd,SAAC,sDAK3B,EC9DO,SAAS2C,IACZ,MAAOnD,IAASC,EAAAA,EAAAA,IAAW,CAAC,UACrBmD,EAASC,IAAajD,EAAAA,EAAAA,UAAS,KAC/BkD,EAAQC,IAAYnD,EAAAA,EAAAA,UAAS,IAEpC,IAAIE,EAAM,CAACC,QAAQ,OACnB,OAAQE,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACC,QAAQ,OAAOC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,OAAKmB,MAAM,YAAWhB,SAAC,6CAA6CH,EAAAA,EAAAA,KAAA,SACxEI,EAAAA,EAAAA,MAAA,OAAKe,MAAM,MAAKhB,SAAA,EACZH,EAAAA,EAAAA,KAAA,OAAKmB,MAAM,cACXf,EAAAA,EAAAA,MAAA,OAAKe,MAAM,WAAUhB,SAAA,EACjBH,EAAAA,EAAAA,KAAA,OAAAG,SAAK,0FAA0FH,EAAAA,EAAAA,KAAA,SAClGI,EAAAA,EAAAA,MAAA,OAAKH,MAAO,CAACkD,QAAQ,OAAOC,SAAS,OAAOvC,cAAc,QAAQV,SAAA,EAC/DH,EAAAA,EAAAA,KAAA,OAAKC,MAAOA,EAAME,UAACH,EAAAA,EAAAA,KAAA,OAAKmB,MAAM,UAC9BC,QAASA,MACoB,KAAtBC,EAAAA,EAAAA,IAAW1B,KACVqD,EAAY,qBAChC1B,EAAAA,EAAAA,IAAkB3B,EAAQ4B,KAAKX,SAASY,MAAKE,IAG7CsB,EAAY,SAADhB,OAAUN,EAAOC,KAAKS,KAAI,OACrCc,EAAW,YAADlB,OAAaK,EAAAA,GAAoBX,EAAOC,KAAKS,KAAI,MAAK,IAMzC,EACTjC,SAED,oBAAyB,KAACH,EAAAA,EAAAA,KAAA,OAAKC,MAAOA,EAAME,UAACH,EAAAA,EAAAA,KAAA,OAAAG,SAAM4C,OAAqB/C,EAAAA,EAAAA,KAAA,OAAKC,MAAOA,EAAME,UAACH,EAAAA,EAAAA,KAAA,OAAAG,SAAM8C,UAEtGjD,EAAAA,EAAAA,KAACqD,EAAY,CAAC1C,MAAM,4BAA4BI,YAAY,+EAA+EC,SAAS,uCAAuCE,KAAK,OAAON,QAAQ,gBAC/MZ,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACQ,UAAU,SAASP,QAAQ,OAAOK,SAAS,QAAQJ,SAAC,qDAEjEH,EAAAA,EAAAA,KAAA,OAAKmB,MAAM,kBAKnB,CACA,S","sources":["pages/bnpl/ItemOnCredit.js","pages/bnpl/BnplProductsAndServices.js"],"sourcesContent":["import { GetTradingDetails, IsLoggedIn} from \"../Functions\"\r\nimport React,{useState} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport { bnplMaxCreditAmount } from \"../../Variables\"\r\nexport function ItemOnCredit(props){\r\n    \r\n    const [cookies]=useCookies(['user'])\r\nconst [status,setStatus]=useState('')\r\n    return(<div style={{padding:\"5px\"}}>\r\n\r\n<div style={{boxShadow:\"\",border:\"2px solid orange\",padding:\"5px\"}}>\r\n<div style={{fontSize:\"20px\",fontWeight:\"600\",textAlign:\"center\",borderBottom:\"0.5px solid grey\"}}>{props.label}\r\n<div style={{fontSize:\"13px\",textAlign:\"center\"}}>Contact: {props.contact}</div>\r\n</div>\r\n\r\n<div style={{paddingBottom:\"3px\",paddingTop:\"4px\",textAlign:\"left\",fontSize:\"15px\",paddingBottom:\"8px\"}}>{props.description}</div>\r\n\r\n<div style={{fontSize:\"12px\",textAlign:\"left\"}}>{props.location}</div>\r\n<div style={{fontSize:\"20px\",textAlign:\"center\",padding:\"8px\"}}> <span style={{color:\"green\",padding:\"5px\",fontWeight:\"600\"}}>{props.bill}/=</span></div>\r\n<div style={{textAlign:\"center\",fontSize:\"18px\",color:\"orange\",fontWeight:\"600\"}}>{status}</div>\r\n<div class=\"button1\"\r\nonClick={()=>{\r\n if(IsLoggedIn(cookies)===true){\r\n    setStatus('Please wait........')\r\nGetTradingDetails(cookies.user.contact).then(resp=>{\r\n    let trader=resp\r\n    if(trader.bnpl.isEligible===false){\r\n        setStatus(\"You've not registered for Kayas services. Contact Kayas.\")\r\n    }else{\r\n   setTimeout(()=>{\r\n        if(window.confirm(`Complete the transaction to debit user with ${props.bill}/=`)===true){\r\nlet payLoad={name:cookies.user.name,contact:cookies.user.contact,bill:parseInt(props.bill),label:props.label,description:props.description}\r\n\r\nif((parseInt(props.bill)+parseInt(trader.bnpl.debt))>bnplMaxCreditAmount){\r\n    setStatus(\"Low account balance. Clear your debt\")\r\n}else{\r\nfetch('/completeBnplTransaction',{\r\n                method:\"post\",\r\n                headers:{'Content-type':'application/json'},\r\n                body:JSON.stringify(payLoad)\r\n            }).then(resp=>resp.json()).then(status=>{\r\nif(status.success===true){\r\nsetStatus('Successful. Give credit to customer')\r\n                }else{\r\n        setStatus('Not successful. Try again')\r\n                }\r\n            })\r\n            \r\n}\r\n }else{\r\n            setStatus('Cancelled')\r\n        }\r\n    },1000)\r\n    }\r\n})\r\n\r\n\r\n    \r\n   \r\n }else{;}\r\n    \r\n}}\r\n>Complete transaction\r\n<div style={{color:\"red\"}}>To be clicked by the restaurant owner only</div>\r\n</div>\r\n    \r\n</div>\r\n    </div>)\r\n}\r\n\r\nexport default ItemOnCredit","import React,{useEffect,useState,Suspense} from 'react'\r\n//const ItemOnCredit =React.lazy(()=>import('./ItemOnCredit'))\r\nimport ItemOnCredit from './ItemOnCredit'\r\nimport { GetTradingDetails, IsLoggedIn } from '../Functions'\r\nimport {useCookies} from 'react-cookie'\r\nimport { bnplMaxCreditAmount } from '../../Variables'\r\nexport function BnplProductsAndServices(){\r\n    const [cookies]=useCookies(['user'])\r\n    const [bnplDebt,setBnplDebt]=useState('')\r\n    const [bnplBal,setBnplBal]=useState('')\r\n   \r\n    let style={padding:\"5px\"}\r\n    return (<div style={{padding:\"3px\"}}>\r\n        <div class=\"pageLabel\">Buy Now Pay Later Products and services</div><p></p>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div>Allow the service provider to verify you by clicking the complete transaction button</div><p></p>\r\n         <div style={{display:\"flex\",flexWrap:\"wrap\",paddingBottom:\"10px\"}}>\r\n            <div style={style}><div class=\"button1\"\r\n            onClick={()=>{\r\n                if(IsLoggedIn(cookies)===true){\r\n                    setBnplDebt('Please wait.....')\r\nGetTradingDetails(cookies.user.contact).then(trader=>{\r\n\r\n\r\nsetBnplDebt(`Debt: ${trader.bnpl.debt}/=`)\r\nsetBnplBal(`Balance: ${bnplMaxCreditAmount-trader.bnpl.debt}/=`)\r\n\r\n})\r\n\r\n\r\n\r\n                }else{;}\r\n            }}\r\n            \r\n            >Check balance</div></div> <div style={style}><div>{bnplDebt}</div></div><div style={style}><div>{bnplBal}</div></div>\r\n            </div>   \r\n        <ItemOnCredit label=\"Nalikka Hostel Restaurant\" description=\"1 plate of any combination of food that you wish with either beans or gnuts.\" location=\"Located in Kikoni at Nalikka hostel.\" bill=\"4000\" contact=\"0752217435\"/>\r\n        <div style={{textAlign:\"center\",padding:\"20px\",fontSize:\"20px\"}}>More restaurants will be considered soon....</div>\r\n        </div>\r\n        <div class=\"col-md-3\"></div>\r\n    </div>\r\n   \r\n    \r\n    </div>)\r\n}\r\nexport default BnplProductsAndServices"],"names":["props","cookies","useCookies","status","setStatus","useState","_jsx","style","padding","children","_jsxs","boxShadow","border","fontSize","fontWeight","textAlign","borderBottom","label","contact","paddingBottom","paddingTop","description","location","color","bill","class","onClick","IsLoggedIn","GetTradingDetails","user","then","resp","trader","bnpl","isEligible","setTimeout","window","confirm","concat","payLoad","name","parseInt","debt","bnplMaxCreditAmount","fetch","method","headers","body","JSON","stringify","json","success","BnplProductsAndServices","bnplDebt","setBnplDebt","bnplBal","setBnplBal","display","flexWrap","ItemOnCredit"],"sourceRoot":""}