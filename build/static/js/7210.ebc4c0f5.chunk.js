"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7210,9093],{9093:(e,t,n)=>{n.r(t),n.d(t,{LoginPage:()=>r,default:()=>c});var s=n(65043),i=n(87638),o=n(76273),l=n(35407),d=n(70579);function r(){const[e,t,n]=(0,l.lT)(["user"]);let[r,c]=(0,s.useState)("");return(0,d.jsx)("div",{style:{padding:"3px"},children:(0,d.jsxs)("div",{class:"row",children:[(0,d.jsx)("div",{class:"col-md-3"}),(0,d.jsxs)("div",{class:"col-md-6",children:[(0,d.jsx)("div",{class:"label",children:"You need to log in"}),(0,d.jsx)("div",{class:"description",children:"Log in to proceed"}),(0,d.jsx)("p",{}),(0,d.jsxs)("form",{method:"post",id:"loginForm",children:[(0,d.jsxs)("div",{class:"mb-3",children:[(0,d.jsx)("br",{}),(0,d.jsx)("div",{class:"formInputLabel",children:"Your contact"}),(0,d.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact"}),(0,d.jsx)("br",{}),(0,d.jsx)("div",{class:"formInputLabel",children:"Your Kayas PIN that you created"}),(0,d.jsx)("input",{type:"password",class:"form-control",autoComplete:"off",name:"pin"})]}),(0,d.jsx)("p",{}),(0,d.jsx)("div",{class:"status",children:r}),(0,d.jsx)("div",{onClick:()=>{if(Array.from(document.getElementById("loginForm").contact.value.trim()).length<10||Array.from(document.getElementById("loginForm").contact.value.trim()).length>10)(0,i.yd)("toastAlert2","Enter contact of 10 digits",3e3);else if(Array.from(document.getElementById("loginForm").pin.value).length<5||Array.from(document.getElementById("loginForm").pin.value).length>5)(0,i.yd)("toastAlert2","Enter PIN of 5 digits e.g. 12345",3e3);else{c("Please wait........");let e=document.getElementById("loginForm").contact.value,n=document.getElementById("loginForm").pin.value;(0,i.zL)(e.trim(),n.trim()).then((e=>{if(!1===e.registered)(0,i.yd)("toastAlert2","Not registered. Tap menu to register",3e3);else if(!1===e.pin)(0,i.yd)("toastAlert2","Incorrect PIN",3e3);else{let n={name:e.details.name,contact:e.details.contact,role:"user"};t("user",n,o.kA),c("Logging in......"),window.location.href=window.location.href}}))}},class:"button1",children:" Log in"}),(0,d.jsx)("p",{})]})]}),(0,d.jsx)("div",{class:"col-md-3"})]})})}const c=r},27210:(e,t,n)=>{n.r(t),n.d(t,{ApprovePayment:()=>c,default:()=>a});var s=n(65043),i=n(87638),o=n(9093),l=n(35323),d=n(35407),r=n(70579);function c(){const[e]=(0,d.lT)(["user"]);let[t,n]=(0,s.useState)(""),[c,a]=(0,s.useState)(""),m=(0,l.g)();return(0,s.useEffect)((()=>{(0,i.L4)("/getTicketDetails",{ticketId:m.ticketId}).then((e=>{0==e.length?n((0,r.jsx)("div",{style:{paddingTop:"70px",paddingBottom:"70px"},children:(0,r.jsx)("div",{class:"divContainer1",children:(0,r.jsx)("div",{class:"divContainer1Inner",children:(0,r.jsx)("div",{style:{textAlign:"center"},children:"This ticket does not exist"})})})})):n((0,r.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px"},children:[(0,r.jsx)("div",{id:"ticketId",style:{textAlign:"center",background:"orange",padding:"3px",color:"black",fontSize:"15px"},children:e[0].ticketId}),(0,r.jsx)("p",{}),(0,r.jsx)("input",{type:"text",id:"contact",class:"form-control",placeholder:"Enter contact of ticket buyer",autoComplete:"off"}),(0,r.jsx)("p",{}),(0,r.jsx)("input",{type:"text",id:"paymentSecretCode",class:"form-control",placeholder:"Payment secret code of buyer",autoComplete:"off"})]}))}))}),[]),1==(0,i.Qb)(e)?(0,r.jsx)("div",{style:{padding:"5px"},children:(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-3"}),(0,r.jsxs)("div",{class:"col-md-6",children:[(0,r.jsx)("div",{class:"label",children:"Approve a payment"}),(0,r.jsx)("div",{class:"description",children:"Verify and approve whether a ticket was paid for"}),(0,r.jsx)("div",{style:{textAlign:"center",paddingTop:"20px"},children:(0,r.jsx)("a",{href:"/pages/payments/paymentshomepage",children:(0,r.jsx)("div",{class:"button1",children:"Back to menu"})})}),(0,r.jsx)("p",{}),(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{class:"status",children:c}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{class:"button1",onClick:()=>{let e=document.getElementById("paymentSecretCode").value.trim(),t=document.getElementById("contact").value.trim();if(Array.from(t).length<10||Array.from(t).length>10)(0,i.yd)("toastAlert2","Enter contact of 10 digits starting with zero",3e3);else if(Array.from(e).length<1)(0,i.yd)("toastAlert2","Enter a payment secret code to verify",3e3);else{a("Please wait........");let n={ticketId:document.getElementById("ticketId").innerText.trim(),paymentSecretCode:e,contact:t};(0,i.L4)("/approveticketpayment",n).then((e=>{a(e.msg)}))}},children:"Verify & approve"})}),(0,r.jsx)("div",{style:{paddingBottom:"100px"}})]}),(0,r.jsx)("div",{class:"col-md-3"})]})}):(0,r.jsx)("div",{children:(0,r.jsx)(o.LoginPage,{})})}const a=c}}]);
//# sourceMappingURL=7210.ebc4c0f5.chunk.js.map