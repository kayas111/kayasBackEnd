"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[535],{535:(e,t,d)=>{d.r(t),d.d(t,{TradersCare:()=>n,default:()=>o});var s=d(5043),a=d(6201),r=d(579);function n(){const[e,t]=(0,s.useState)(""),[d,n]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,i]=(0,s.useState)("");let m="";return(0,s.useEffect)((()=>{fetch("/collection_controls").then((e=>e.json())).then((e=>{document.getElementById("setTraderNoticeForm").msg.value=e[0].traderNotice})),fetch("/collection_traders_number").then((e=>e.json())).then((e=>{e.reverse(),e.forEach((e=>{m+="<div class='col-md-4'><div>Name: ".concat(e.name,"</div><div>Contact: 0").concat(e.contact,"</div><div>Acc bal: ").concat(e.accBal,"</div><div>Visits: ").concat(e.pagesVisitsNo,"</div><div>Institution: ").concat(e.institution,"</div><hr></hr></div>")})),l(m)}))})),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"20px",color:"red",textAlign:"center"},children:"Traders Care"}),(0,r.jsx)(a.Ay,{}),(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-6",children:(0,r.jsx)("div",{style:{padding:"5px"},children:(0,r.jsxs)("form",{id:"updateTraderDetailsForm",children:[(0,r.jsx)("div",{style:{paddingBottom:"8px"},children:(0,r.jsx)("div",{class:"formLabel",children:"Update Trader details"})}),(0,r.jsx)("div",{style:{fontSize:"12px"},children:"accBal,sendSmsTokens,createAttendanceRegisterTokens"}),(0,r.jsxs)("div",{class:"mb-3",children:[(0,r.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Enter trader's contact"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"fieldToUpdate",placeholder:"Enter field to update"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"updateValue",placeholder:"Enter update value"})]}),(0,r.jsx)("div",{style:{fontSize:"15px"},dangerouslySetInnerHTML:{__html:e}}),(0,r.jsx)("div",{class:"row",children:(0,r.jsxs)("div",{class:"col-6 col-md-6",children:["  ",(0,r.jsx)("div",{style:{borderRadius:"18px",fontSize:"12px"},onClick:()=>{Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length<10||Array.from(document.getElementById("updateTraderDetailsForm").contact.value).length>10?t('<div style="color:red;">Enter contact of 10 digits</div>'):Array.from(document.getElementById("updateTraderDetailsForm").fieldToUpdate.value).length<1?t('<div style="color:red;">Enter field to update!</div>'):Array.from(document.getElementById("updateTraderDetailsForm").updateValue.value).length<1?t('<div style="color:red;">Enter an update value!</div>'):(t("Updating ........"),fetch("/updateTraderDetails",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({method:"updateAsAdmin",argsObj:{traderContact:parseInt(document.getElementById("updateTraderDetailsForm").contact.value),fieldToUpdate:document.getElementById("updateTraderDetailsForm").fieldToUpdate.value,updateValue:parseInt(document.getElementById("updateTraderDetailsForm").updateValue.value)}})}).then((e=>e.json())).then((e=>{t(e[0])})))},type:"text",class:"btn btn-success hovereffect",children:"Update"})]})})]})})}),(0,r.jsx)("div",{class:"col-md-6",children:(0,r.jsx)("div",{style:{padding:"5px"},children:(0,r.jsxs)("form",{id:"setTraderNoticeForm",children:[(0,r.jsx)("div",{style:{paddingBottom:"8px"},children:(0,r.jsx)("div",{class:"formLabel",children:"Set trader notice"})}),(0,r.jsx)("div",{class:"mb-3",children:(0,r.jsx)("textArea",{type:"text",class:"form-control",autoComplete:"off",name:"msg",placeholder:"Enter message"})}),(0,r.jsx)("div",{style:{fontSize:"15px"},dangerouslySetInnerHTML:{__html:d}}),(0,r.jsx)("div",{class:"row",children:(0,r.jsx)("div",{class:"col-6 col-md-6",children:(0,r.jsx)("div",{style:{borderRadius:"18px",fontSize:"12px"},class:"btn btn-success hovereffect",onClick:()=>{Array.from(document.getElementById("setTraderNoticeForm").msg.value).length<1?n('<div style="color:red;">Enter a message</div>'):(n("Setting............"),fetch("/setTraderNotice",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({msg:document.getElementById("setTraderNoticeForm").msg.value})}).then((e=>e.json())).then((e=>{n(e[0])})))},children:"Set notice"})})})]})})})]}),(0,r.jsx)("div",{style:{fontSize:"15px",padding:"5px",paddingTop:"40px"},class:"row",dangerouslySetInnerHTML:{__html:o}})]})}const o=n}}]);
//# sourceMappingURL=535.3ea1f364.chunk.js.map