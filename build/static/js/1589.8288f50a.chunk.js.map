{"version":3,"file":"static/js/1589.8288f50a.chunk.js","mappings":"uPASO,SAASA,EAAgBC,GAC5B,IAAgCC,EAA5BC,GAAgBC,EAAAA,EAAAA,KACpB,MAAOC,EAAQC,EAAUC,IAAcC,EAAAA,EAAAA,IAAW,CAAC,UAC7CC,EAAWC,IAAeC,EAAAA,EAAAA,UAAS,KACnCC,EAAWC,IAAeF,EAAAA,EAAAA,UAASG,EAAAA,IAMzC,SAASC,EAAcb,GAErBc,MAAM,iBAAiB,CACrBC,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAU,CAClBC,QAAQC,SAASrB,OAElBsB,KAAKC,GAECA,EAAKC,QAASF,KAAKC,IAExB,GAAiB,IAAdA,EAAKE,QAENC,EAAAA,EAAAA,IAAW,cAAc,8BAA8B,SAEpD,CACH,IAAIC,EAAaJ,EAAK,GACtBf,EAAc,cAADoB,OAAeD,EAAaE,SAC3CN,EAAKO,UACLnB,GAAcoB,EAAAA,EAAAA,IAAaR,GAK3B,GAGN,CAwEQ,OArERS,EAAAA,EAAAA,WAAU,UAGkCC,IAAvChC,EAAgBD,sBAEnBA,EAAqBD,EAAMC,qBAC3Ba,EAAcb,KAIZA,EAAqBC,EAAgBD,qBACrCa,EAAcb,IAGdkC,EAAAA,EAAAA,IAAkBb,SAASrB,IAAuBsB,KAAKC,IAGI,GAF9CA,EAEDY,oBAAoBC,iCAGZH,GAAd9B,EAAQkC,MACZH,EAAAA,EAAAA,IAAkB/B,EAAQkC,KAAKjB,SAASE,KAAKC,IAC7C,IAAIc,EAAKd,EACNc,EAAKC,OAAOC,EAAAA,IAAmBF,EAAKjB,SAASC,SAASrB,GAEkG,GAAtJwC,OAAOC,QAAQ,oEAADb,OAAqEW,EAAAA,GAAe,oDACrGC,OAAOE,SAASC,KAAK,iBAEpBH,OAAOE,SAASC,KAAK,iCAKnBN,EAAKjB,SAASC,SAASrB,KAGxB4C,EAAAA,EAAAA,IAA0BP,EAAKjB,QAAQmB,EAAAA,MASjCM,WAAW,KACsE,GAA7EL,OAAOC,QAAQ,8DAChBK,EAAAA,EAAAA,IAAM3C,EAAQC,GAEfoC,OAAOE,SAASC,KAAK,kCAErB,UAgBhB,KAEaI,EAAAA,EAAAA,KAAA,OAAKC,MAAM,mBAAkBC,UAEhDF,EAAAA,EAAAA,KAAA,OAAKC,MAAM,MAAKC,SAEbvC,KASD,CAGA,S","sources":["pages/pubarticles/ShareMyArticles.js"],"sourcesContent":["import { GetTradingDetails,DebitTraderAccountBalance,ToastAlert,LogIn, ListArticles, SuspenseComponent,IsLoggedIn } from '../Functions';\r\nimport firebase from 'firebase/compat/app';\r\nimport { getStorage, ref, deleteObject } from \"firebase/storage\";\r\nimport 'firebase/compat/storage';\r\nimport { articleViewCost } from '../../Variables';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport React, {useEffect,useState} from 'react';\r\nexport function ShareMyArticles(props){\r\n    let componentParams=useParams(),articleAuthorContact\r\n    const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\n    const[authorName,setAuthorName]=useState('')\r\n    const[myArticles,setMyArticles]=useState(SuspenseComponent)\r\n\r\n    \r\n\r\n   \r\n    \r\n    function FetchArticles(articleAuthorContact){ \r\n      \r\n      fetch('/getMyArticles',{\r\n        method:\"post\",\r\n        headers:{'Content-type':'application/json'},\r\n        body:JSON.stringify({\r\n          contact:parseInt(articleAuthorContact),\r\n        })\r\n      }).then(resp=>{\r\n      \r\n        return resp.json()}).then(resp=>{\r\n         \r\n          if(resp.length===0){\r\n           \r\n            ToastAlert('toastAlert2','These Articles do not exist',3000)\r\n          \r\n          }else{\r\n            let firstArticle=resp[0]\r\n            setAuthorName(`Stories by ${firstArticle.author}`)\r\n          resp.reverse()\r\n          setMyArticles(ListArticles(resp))\r\n         \r\n          \r\n              \r\n          \r\n          }\r\n          \r\n        })\r\n    }\r\n    \r\n    \r\n    useEffect(()=>{\r\n      \r\n       \r\n      if(componentParams.articleAuthorContact===undefined){\r\n  //check this code, this condition is not significant\r\n      articleAuthorContact=props.articleAuthorContact\r\n      FetchArticles(articleAuthorContact)\r\n\r\n    \r\n      }else{\r\n        articleAuthorContact=componentParams.articleAuthorContact\r\n        FetchArticles(articleAuthorContact)\r\n\r\n\r\n        GetTradingDetails(parseInt(articleAuthorContact)).then(resp=>{\r\n          let trader=resp\r\n          \r\n          if(trader.permissionTokensObj.displayArticlesAtFreeCost==true){\r\n          ;\r\n          }else{\r\n           if(cookies.user!=undefined){\r\n          GetTradingDetails(cookies.user.contact).then(resp=>{\r\n          let user=resp\r\n          if(user.accBal<articleViewCost && user.contact!=parseInt(articleAuthorContact)){\r\n          \r\n            if(window.confirm(`Your Kayas account balance is low. Click \"OK\" to deposit atleast ${articleViewCost}/= in order to gain access to this information.`)==true){\r\n            window.location.href=`/pages/deposit`\r\n           }else{\r\n             window.location.href='/pages/pubarticles/allarticles'\r\n             \r\n           }\r\n           }else{\r\n             \r\n            if(user.contact==parseInt(articleAuthorContact)){;\r\n            //Do nothing since author is accessing own information.\r\n            }else{\r\n              DebitTraderAccountBalance(user.contact,articleViewCost)\r\n              \r\n            }\r\n            \r\n           }\r\n          })\r\n          \r\n          \r\n                    }else{\r\n                    setTimeout(()=>{\r\n                     if(window.confirm(`Click 'OK' to login and be able to read this information.`)==true){\r\n                       LogIn(cookies,setCookie)\r\n                     }else{\r\n                      window.location.href='/pages/pubarticles/allarticles'\r\n                     }\r\n                    },1000)\r\n                    }\r\n          \r\n          \r\n          \r\n          }\r\n          })\r\n          \r\n\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    },[])\r\n   \r\n            return(<div class=\"componentPadding\" >\r\n      \r\n<div class=\"row\">\r\n   \r\n  {myArticles}\r\n  \r\n  </div>\r\n\r\n  \r\n   \r\n    \r\n            </div>)\r\n          \r\n  }\r\n\r\n\r\n  export default ShareMyArticles"],"names":["ShareMyArticles","props","articleAuthorContact","componentParams","useParams","cookies","setCookie","removeCookie","useCookies","authorName","setAuthorName","useState","myArticles","setMyArticles","SuspenseComponent","FetchArticles","fetch","method","headers","body","JSON","stringify","contact","parseInt","then","resp","json","length","ToastAlert","firstArticle","concat","author","reverse","ListArticles","useEffect","undefined","GetTradingDetails","permissionTokensObj","displayArticlesAtFreeCost","user","accBal","articleViewCost","window","confirm","location","href","DebitTraderAccountBalance","setTimeout","LogIn","_jsx","class","children"],"sourceRoot":""}