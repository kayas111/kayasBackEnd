{"version":3,"file":"static/js/7210.ebc4c0f5.chunk.js","mappings":"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","sources":["pages/LoginPage.js","pages/payments/ApprovePayment.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport { ToastAlert,VerifyRegistrationAndPin } from \"./Functions\"\r\nimport { setCookieOptionsObj} from '../Variables';\r\nimport {useCookies} from 'react-cookie'\r\nexport function LoginPage(){\r\n    const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\n    let [status, setStatus]=useState('')\r\n    return (<div style={{padding:\"3px\"}}>\r\n          <div class='row'>\r\n        <div class='col-md-3'></div>\r\n        <div class='col-md-6'>\r\n<div class=\"label\">You need to log in</div>\r\n<div class=\"description\">Log in to proceed</div><p></p>\r\n         \r\n    <form method=\"post\" id=\"loginForm\">\r\n    <div class=\"mb-3\">\r\n \r\n   <br></br><div class=\"formInputLabel\">Your contact</div>\r\n   <input type=\"text\" class=\"form-control\" autoComplete=\"off\" name=\"contact\" ></input>\r\n\r\n  \r\n   <br></br>\r\n   <div class=\"formInputLabel\">Your Kayas PIN that you created</div>\r\n     <input type=\"password\" class=\"form-control\" autoComplete=\"off\" name=\"pin\" ></input>\r\n  \r\n     </div><p></p>\r\n      <div class=\"status\">{status}</div>\r\n     <div onClick={\r\n      ()=>{\r\n  if(Array.from(document.getElementById(\"loginForm\").contact.value.trim()).length<10||Array.from(document.getElementById(\"loginForm\").contact.value.trim()).length>10)\r\n        {\r\n          ToastAlert('toastAlert2','Enter contact of 10 digits',3000)\r\n        }\r\n        else if(Array.from(document.getElementById(\"loginForm\").pin.value).length<5||Array.from(document.getElementById(\"loginForm\").pin.value).length>5)\r\n        {\r\n          ToastAlert('toastAlert2','Enter PIN of 5 digits e.g. 12345',3000)\r\n        }\r\nelse{\r\n\r\nsetStatus('Please wait........')\r\n  \r\nlet contact=document.getElementById(\"loginForm\").contact.value,pin=document.getElementById(\"loginForm\").pin.value\r\n VerifyRegistrationAndPin(contact.trim(),pin.trim()).then(resp=>{\r\n    \r\n    if(resp.registered===false){\r\n     ToastAlert('toastAlert2','Not registered. Tap menu to register',3000)\r\n    }else\r\n    \r\n       if(resp.pin===false){\r\n         \r\n         ToastAlert('toastAlert2','Incorrect PIN',3000)\r\n       }else{\r\n         let user={name:resp.details.name,contact:resp.details.contact,role:'user'}\r\n         setCookie('user',user,setCookieOptionsObj)\r\n       setStatus('Logging in......')\r\n       window.location.href=window.location.href\r\n      //  document.getElementById(\"loginForm\").pin.value=\"\"\r\n      //  document.getElementById(\"loginForm\").contact.value=\"\"\r\n       \r\n       }\r\n     })\r\n    \r\n\r\n\r\n \r\n}\r\n      } \r\n\r\n     } class=\"button1\"> Log in</div><p></p>\r\n    \r\n     </form>\r\n\r\n\r\n        </div>\r\n        <div class='col-md-3'></div>\r\n      </div>\r\n     \r\n    \r\n    </div>)\r\n}\r\n\r\nexport default LoginPage","\r\nimport React, {useEffect,useState} from 'react'\r\nimport { ToastAlert,IsLoggedIn, Post, GetTradingDetails } from '../Functions';\r\nimport {LoginPage} from '../LoginPage'\r\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport {useCookies} from 'react-cookie'\r\n\r\nexport function ApprovePayment(){\r\n    const [cookies]=useCookies(['user'])\r\n    let [ticketId,setTicketId]=useState('')\r\n    let [status,setStatus]=useState('')\r\n   let params=useParams()\r\n    \r\n    useEffect(()=>{\r\n        \r\n    Post('/getTicketDetails',{ticketId:params.ticketId}).then(resp=>{\r\n        \r\n       if(resp.length==0){\r\nsetTicketId( <div style={{paddingTop:\"70px\",paddingBottom:\"70px\"}}>\r\n<div class=\"divContainer1\">\r\n<div class=\"divContainer1Inner\">\r\n\r\n    <div style={{textAlign:\"center\"}}>This ticket does not exist</div>\r\n    \r\n</div>\r\n</div>\r\n\r\n</div>)\r\n\r\n       }else{\r\n    \r\n        setTicketId( <div style={{paddingTop:\"10px\",paddingBottom:\"10px\"}}>\r\n        \r\n       <div id=\"ticketId\" style={{textAlign:\"center\", background:\"orange\",padding:\"3px\",color:\"black\",fontSize:\"15px\"}}>{resp[0].ticketId}</div>\r\n            <p></p>\r\n            <input type=\"text\" id=\"contact\" class=\"form-control\" placeholder='Enter contact of ticket buyer' autoComplete='off' />\r\n       \r\n      <p></p>\r\n        <input type=\"text\" id=\"paymentSecretCode\" class=\"form-control\" placeholder='Payment secret code of buyer' autoComplete='off' />\r\n       \r\n        </div>)\r\n\r\n       }\r\n    })\r\n    },[])\r\n\r\n if(IsLoggedIn(cookies)==true){\r\n\r\n        return(\r\n        \r\n        <div style={{padding:\"5px\"}}>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"label\">Approve a payment</div>\r\n            <div class=\"description\">Verify and approve whether a ticket was paid for</div>\r\n            <div style={{textAlign:\"center\",paddingTop:\"20px\"}}><a href=\"/pages/payments/paymentshomepage\">\r\n                    <div class=\"button1\">Back to menu</div></a></div>\r\n    \r\n    <p></p>\r\n          <div>{ticketId}</div>\r\n  \r\n <div class=\"status\">{status}</div>\r\n    <div>\r\n        <div class=\"button1\"\r\n                    onClick={()=>{\r\n                        \r\n                        let paymentSecretCode=document.getElementById(\"paymentSecretCode\").value.trim(),\r\n                         contact=document.getElementById(\"contact\").value.trim()\r\n                        \r\n                        if(Array.from(contact).length<10 || Array.from(contact).length>10){\r\n                            ToastAlert('toastAlert2','Enter contact of 10 digits starting with zero',3000)\r\n                        } else\r\n                        if(Array.from(paymentSecretCode).length<1){\r\n                            ToastAlert('toastAlert2','Enter a payment secret code to verify',3000)\r\n                        }else{\r\n                            setStatus('Please wait........')\r\nlet payLoad={ticketId:document.getElementById('ticketId').innerText.trim(),paymentSecretCode:paymentSecretCode,contact:contact}\r\n\r\nPost('/approveticketpayment',payLoad).then(resp=>{\r\n  \r\n    setStatus(resp.msg)\r\n})\r\n                        }\r\n                    }}\r\n                    \r\n                    >Verify & approve</div>\r\n                    </div>\r\n   <div style={{paddingBottom:\"100px\"}}></div>\r\n   \r\n        </div>\r\n        <div class=\"col-md-3\"></div>\r\n    </div>\r\n        </div>)\r\n\r\n }else{\r\nreturn (\r\n    <div>\r\n        <LoginPage/>\r\n    </div>\r\n)\r\n }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default ApprovePayment"],"names":["LoginPage","cookies","setCookie","removeCookie","useCookies","status","setStatus","useState","_jsx","style","padding","children","_jsxs","class","method","id","type","autoComplete","name","onClick","Array","from","document","getElementById","contact","value","trim","length","ToastAlert","pin","VerifyRegistrationAndPin","then","resp","registered","user","details","role","setCookieOptionsObj","window","location","href","ApprovePayment","ticketId","setTicketId","params","useParams","useEffect","Post","paddingTop","paddingBottom","textAlign","background","color","fontSize","placeholder","IsLoggedIn","paymentSecretCode","payLoad","innerText","msg"],"sourceRoot":""}