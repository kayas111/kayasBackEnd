{"version":3,"file":"static/js/2931.b46cace9.chunk.js","mappings":"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","sources":["pages/payments/PaymentsNav.js","pages/payments/CreateTicket.js"],"sourcesContent":["import {Link} from 'react-router-dom';\r\nexport function PaymentsNav(){\r\n    let style={padding:\"2px\"}\r\n    return(<div style={{display:\"flex\",flexWrap:\"wrap\",paddingTop:\"10px\"}}>\r\n  \r\n  <div style={style}>\r\n    <Link to=\"/pages/payments/createticket\"><div class=\"button1\"><span class=\"fa fa-plus\"></span>  Create tickets/services</div></Link>\r\n\r\n    </div>\r\n <div style={style}>\r\n <Link to=\"/pages/payments/mytickets\"><div class=\"button1\"><span class=\"fa fa-user\"></span>  My tickets/services</div></Link>\r\n   </div>\r\n<div style={style}>\r\n    <Link to=\"/pages/payments/makepayment\"><div class=\"button1\"><span class=\"fa fa-money\"></span> Pay for ticket/service</div></Link></div>\r\n<div style={style}>\r\n<Link to=\"/pages/payments/mypayments\"><div class=\"button1\"><span class=\"fa fa-list\"></span> My payments</div></Link></div>\r\n<div style={style}>\r\n<Link to=\"/pages/payments/mytickets\"><div class=\"button1\"><span class=\"fa fa-check\"></span>  Approve a payment</div></Link></div>\r\n\r\n\r\n    </div>)\r\n}","\r\nimport React, {useEffect,useState} from 'react'\r\nimport { ToastAlert,IsLoggedIn, Post } from '../Functions';\r\nimport {useCookies} from 'react-cookie'\r\nimport {LoginPage} from '../LoginPage'\r\nimport { PaymentsNav } from './PaymentsNav';\r\nexport function CreateTicket(){\r\n    const [cookies,setCookie,removeCookie]=useCookies(['user'])\r\nlet [status,setStatus]=useState(''), ticketServiceFee=500\r\n\r\n\r\nif(IsLoggedIn(cookies)==true){\r\n    \r\n    return(\r\n    \r\n        <div style={{padding:\"5px\"}}>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"pageLabel\">Create tickets/service</div>\r\n            <div class=\"pageDescription\">Create tickets/service that people will pay for or buy</div>\r\n    \r\n           <PaymentsNav/>\r\n    \r\n    <p></p>\r\n            <form  method=\"post\" id=\"createTicketForm\" action=\"#\">\r\n          \r\n            <div class=\"formInputLabel\">Create ticket/service ID (unique word or phrase to identify your tickets/service)</div>\r\n          <input type=\"text\" class=\"form-control\" name='ticketId' autoComplete=\"off\" /><p></p>\r\n          <div class=\"formInputLabel\">Number of tickets to be created</div>\r\n          <input type=\"text\" class=\"form-control\" name='noOfTickets' autoComplete=\"off\" /><p></p>\r\n          \r\n            <div class=\"formInputLabel\">Amount to be paid for each ticket</div>\r\n            <div style={{padding:\"2px\",color:\"green\",fontSize:\"12px\"}}>{ticketServiceFee} shs will  automatically be added as a service charge for every ticket</div>\r\n          <input type=\"text\"  name='amount' class=\"form-control\" autoComplete=\"off\" /><p></p>\r\n          <div class=\"status\">{status}</div>\r\n    \r\n          <div   class=\"btn btn-success\" style={{width:\"100%\"}}  onClick={()=>{\r\n            \r\n            let form=document.getElementById('createTicketForm'), \r\n            ticketId=form.ticketId.value.trim(), \r\n            amount = form.amount.value.trim(),\r\n            noOfTickets = form.noOfTickets.value.trim()\r\nif(Array.from(ticketId).length<1){\r\n\r\n    \r\n    ToastAlert('toastAlert2','Enter a ticket Id',3000)\r\n}\r\n\r\nelse if(Array.from(ticketId).includes(\"'\")){\r\n    ToastAlert('toastAlert2',\"Do not use apostrophes when creating a ticket ID\",3000)\r\n} \r\n\r\nelse if(Array.from(noOfTickets).includes(',')){\r\n    \r\n    ToastAlert('toastAlert2','Enter number of tickets without commas',3000)\r\n}  else if((noOfTickets>0)===false) {\r\n    ToastAlert('toastAlert2','Enter number of tickets greater than 0',3000)  \r\n}\r\n\r\nelse if(Array.from(amount).includes(',')){\r\n    ToastAlert('toastAlert2','Enter an amount without commas',3000)\r\n}  else if((amount>0)===false) {\r\n    ToastAlert('toastAlert2','Enter an amount greater than 0',3000)  \r\n}\r\nelse {\r\nsetStatus('Please wait......')\r\n   let payLoad={\r\nticketId:ticketId,\r\namount:parseInt(amount)+ticketServiceFee,\r\nnoOfTickets:parseInt(noOfTickets),\r\nticketOwner:cookies.user.contact,\r\npayments:[]\r\n\r\n   }\r\n \r\n   Post('/createTicket',payLoad).then(resp=>{\r\n        setStatus(resp.msg)\r\n    })\r\n}\r\n        \r\n          }}>Create</div><p></p>\r\n          \r\n           </form>\r\n    \r\n           \r\n        </div>\r\n        <div class=\"col-md-3\"></div>\r\n    </div>\r\n        </div>)\r\n}else{\r\n    return(<div>\r\n        <LoginPage/>\r\n    </div>)\r\n}\r\n\r\n}\r\n\r\nexport default CreateTicket"],"names":["PaymentsNav","style","padding","_jsxs","display","flexWrap","paddingTop","children","_jsx","Link","to","class","CreateTicket","cookies","setCookie","removeCookie","useCookies","status","setStatus","useState","IsLoggedIn","method","id","action","type","name","autoComplete","color","fontSize","width","onClick","form","document","getElementById","ticketId","value","trim","amount","noOfTickets","Array","from","length","ToastAlert","includes","payLoad","parseInt","ticketOwner","user","contact","payments","Post","then","resp","msg","LoginPage"],"sourceRoot":""}