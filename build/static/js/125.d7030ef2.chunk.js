"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[125],{8125:(e,o,t)=>{t.r(o),t.d(o,{RequestFoodDelivery:()=>i,default:()=>d});var s=t(5043),n=t(5407),r=t(7638),l=t(396),a=t(579);function i(){const[e]=(0,n.lT)(["user"]),[o,t]=(0,s.useState)(""),[i,d]=(0,s.useState)("");return(0,s.useEffect)((()=>{!1===(0,r.Qb)(e)&&(window.alert("Please log in first."),window.location.href="/pages/fooddelivery/fooddeliveryhome")}),[]),(0,a.jsxs)("div",{style:{padding:"5px"},class:"row",children:[(0,a.jsx)("div",{class:"col-md-3"}),(0,a.jsxs)("div",{class:"col-md-6",children:[(0,a.jsx)("div",{class:"pageLabel",children:"Request for delivery"}),(0,a.jsx)("p",{}),(0,a.jsxs)("form",{method:"post",id:"requestFoodDeliveryForm",children:[(0,a.jsxs)("div",{class:"mb-3",children:[(0,a.jsx)("div",{class:"formInputLabel",children:"What food do you want?"}),(0,a.jsx)("textarea",{rows:2,type:"text",class:"form-control",autoComplete:"off",name:"desc"}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{class:"formInputLabel",children:"Your location or hostel of residence"}),(0,a.jsx)("textArea",{rows:2,type:"text",class:"form-control",autoComplete:"off",name:"location"}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{class:"formInputLabel",children:"Room number"}),(0,a.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"room"}),(0,a.jsx)("br",{})]}),(0,a.jsx)("div",{style:{fontSize:"14px",textAlign:"center",color:"orange",fontWeight:"600"},dangerouslySetInnerHTML:{__html:o}}),(0,a.jsxs)("div",{onClick:()=>{if(Array.from(document.getElementById("requestFoodDeliveryForm").desc.value.trim()).length<2)(0,r.yd)("toastAlert2","Describe what food you want",4e3),t("Your delivery will arrive in less than 15 minutes, please stay in your location. Comment on the food after eating using the form below. Thank you.");else if(Array.from(document.getElementById("requestFoodDeliveryForm").location.value.trim()).length<2)(0,r.yd)("toastAlert2","Fill in your location",3e3);else if(Array.from(document.getElementById("requestFoodDeliveryForm").room.value.trim()).length<1)(0,r.yd)("toastAlert2","Fill in the room number or type no room number",5e3);else if(!0===window.confirm("You will be charged 1,000/= as a delivery fee, tap 'OK' to proceed.")){t("Sending request........");let o=document.getElementById("requestFoodDeliveryForm"),s={name:e.user.name,contact:e.user.contact,desc:o.desc.value.trim(),location:o.location.value.trim(),room:o.room.value.trim()};fetch("/requestFoodDelivery",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(s)}).then((e=>e.json())).then((e=>{t(e.msg)}))}else t("You cancelled the request.")},class:"form-submit-btn backgroundColorHovereffect",children:[(0,a.jsx)("span",{class:"fa fa-envelope"})," Request"]}),(0,a.jsx)("p",{})]}),(0,a.jsx)("p",{}),(0,a.jsxs)("form",{method:"post",id:"foodCommentForm",children:[(0,a.jsx)("div",{class:"formLabel",children:"Comment on the food/service"}),(0,a.jsx)("p",{}),(0,a.jsxs)("div",{class:"mb-3",children:[(0,a.jsx)("div",{class:"formInputLabel",children:"How was the food/service?"}),(0,a.jsx)("textarea",{rows:4,type:"text",class:"form-control",autoComplete:"off",name:"comment"})]}),(0,a.jsx)("div",{style:{fontSize:"14px",textAlign:"center",color:"orange",fontWeight:"600"},dangerouslySetInnerHTML:{__html:i}}),(0,a.jsxs)("div",{onClick:()=>{if(Array.from(document.getElementById("foodCommentForm").comment.value.trim()).length<2)(0,r.yd)("toastAlert2","Type a comment",4e3);else{d("Sending comment......");let o=document.getElementById("foodCommentForm"),t={name:e.user.name,contact:e.user.contact,comment:o.comment.value.trim()};fetch("/foodDeliveryComment",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{d(e.msg)}))}},class:"form-submit-btn backgroundColorHovereffect",children:[(0,a.jsx)("span",{class:"fa fa-envelope"})," Send comment"]}),(0,a.jsx)("p",{})]}),(0,a.jsx)("div",{style:{fontSize:"20px",paddingTop:"18px"},children:"Did you know?"}),(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:l,class:" d-block w-100",alt:"..."})})]}),(0,a.jsx)("div",{class:"col-md-3"})]})}const d=i},396:(e,o,t)=>{e.exports=t.p+"static/media/bnplImage1.ccf5881ef6452db0ff1b.jpg"}}]);
//# sourceMappingURL=125.d7030ef2.chunk.js.map