"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[976],{9976:(e,t,s)=>{s.r(t),s.d(t,{Messager:()=>r,default:()=>c});var n=s(5043),o=s(579);function r(){let e="";const[t,s]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[d,i]=(0,n.useState)(""),[m,g]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[u,y]=(0,n.useState)(""),[v,x]=(0,n.useState)(""),[f,j]=(0,n.useState)(""),[S,I]=(0,n.useState)(""),[E,b]=(0,n.useState)(""),[C,A]=(0,n.useState)("");return(0,n.useEffect)((()=>{fetch("/universityContacts").then((e=>e.json())).then((e=>{c(e[0].messagees.length),g(e[1].messagees.length),i(e[2].messagees.length),l(e[3].messagees.length)})),fetch("/messagees").then((e=>e.json())).then((t=>{y(t.messagees.length);let s=1;0===t.messagees.length||(void 0===t.messagees[0].name?t.messagees.forEach((n=>{e+="<div class='col-4 col-sm-4 col-md-2'><span ><a style='color:black;' href='https://api.whatsapp.com/send?phone=256".concat(n,"&text=").concat(t.introStatement,"'><span class='hovereffect'>").concat(s,":").concat(n,"</span></a><hr></hr></div>"),s++})):t.messagees.forEach((n=>{e+="<div class='col-4 col-sm-4 col-md-2'><span ><a style='color:black;' href='https://api.whatsapp.com/send?phone=256".concat(n.contact,"&text=").concat(n.name,", ").concat(t.introStatement,"'><div>").concat(s,". ").concat(n.name,"</div><div><span class='hovereffect'>0").concat(n.contact,"</span></div></a><hr></hr></div>"),s++}))),x(e)}))}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{color:"red",textAlign:"center",fontSize:"25px"},children:"Kayas Messager"}),(0,o.jsx)("div",{style:{color:"red",textAlign:"center",fontSize:"15px"},children:"Supports top up"}),(0,o.jsxs)("div",{style:{color:"grey",fontSize:"10px",padding:"5px"},children:[r," mukContacts, ",a," mukEducation, ",m," nduContacts, ",d," mubsContacts  "]}),(0,o.jsxs)("div",{class:"row",children:[(0,o.jsx)("div",{class:"col-md-6",style:{padding:"30px"},children:(0,o.jsxs)("form",{id:"messengingForm",children:[(0,o.jsx)("div",{style:{color:"green",fontWeight:"bold",textAlign:"center",fontSize:"15px"},children:"Add messagee"}),(0,o.jsx)("div",{style:{padding:"5px",fontSize:"15px"},dangerouslySetInnerHTML:{__html:t}}),(0,o.jsx)("div",{class:"mb-3",children:(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Enter WhatsApp Contact e.g 703852178"})}),(0,o.jsxs)("div",{style:{borderRadius:"18px"},onClick:()=>{Array.from(document.getElementById("messengingForm").contact.value).length<9||Array.from(document.getElementById("messengingForm").contact.value).length>9?(s("<div style='color:red;'>Enter 9 digits ......</div>"),document.getElementById("messengingForm").contact.value=""):(s("<div style='color:red;'>Adding......</div>"),fetch("/addToMessagingQueue",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:document.getElementById("messengingForm").contact.value})}).then((e=>e.json())).then((e=>{1===e.presence?(s("<div style='color:red;'>That contact: ".concat(document.getElementById("messengingForm").contact.value," is already in the list....</div>")),document.getElementById("messengingForm").contact.value=""):(y(u+1),s("<div style='color:green;'>Successfully added ".concat(document.getElementById("messengingForm").contact.value,"</div>")),document.getElementById("messengingForm").contact.value="")})))},type:"text",class:"btn btn-success hovereffect",children:[(0,o.jsx)("span",{class:"fa fa-user-circle"})," Add"]})]})}),(0,o.jsxs)("div",{class:"col-md-6",style:{padding:"30px"},children:[(0,o.jsx)("div",{style:{padding:"5px",fontSize:"20px"},dangerouslySetInnerHTML:{__html:p}}),(0,o.jsxs)("form",{id:"removeMessagee",children:[(0,o.jsx)("div",{style:{color:"green",fontWeight:"bold",textAlign:"center",fontSize:"15px"},children:"Remove messagee"}),(0,o.jsx)("div",{class:"mb-3",children:(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Enter WhatsApp Contact e.g 703852178"})}),(0,o.jsxs)("div",{style:{borderRadius:"18px"},onClick:()=>{Array.from(document.getElementById("removeMessagee").contact.value).length<9||Array.from(document.getElementById("removeMessagee").contact.value).length>9?(h("<div style='color:red;'>Enter 9 digits ......</div>"),document.getElementById("messengingForm").contact.value=""):(h("<div style='color:red;'>Removing......</div>"),fetch("/removeMessageeInMessager",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({contact:parseInt(document.getElementById("removeMessagee").contact.value)})}).then((e=>e.json())).then((e=>{0===e.presence?(h("<div style='color:red;'>That contact: ".concat(document.getElementById("removeMessagee").contact.value," is not in the list....</div>")),document.getElementById("removeMessagee").contact.value=""):(h("<div style='color:green;'>Successfully removed ".concat(document.getElementById("removeMessagee").contact.value,"</div>")),document.getElementById("removeMessagee").contact.value="")})))},type:"text",class:"btn btn-success hovereffect",children:[(0,o.jsx)("span",{class:"fa fa-user-circle"})," Remove"]})]})]}),(0,o.jsx)("div",{class:"col-md-6",style:{padding:"30px"},children:(0,o.jsxs)("form",{id:"setMessagerIntroStatementForm",children:[(0,o.jsx)("div",{style:{color:"green",fontWeight:"bold",textAlign:"center",fontSize:"15px"},children:"Set intro Statement"}),(0,o.jsx)("div",{class:"mb-3",children:(0,o.jsx)("textArea",{rows:"3",type:"text",class:"form-control",autoComplete:"off",name:"messagerIntroStatement",placeholder:"Enter statement"})}),(0,o.jsx)("div",{style:{padding:"5px",fontSize:"15px"},dangerouslySetInnerHTML:{__html:f}}),(0,o.jsx)("div",{type:"text",class:"btn btn-success hovereffect",onClick:()=>{j("<div style='color:green;'>Setting.............</div>"),fetch("/setMessagerIntroStatement",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({statement:document.getElementById("setMessagerIntroStatementForm").messagerIntroStatement.value})}).then((e=>e.json())).then((e=>{j(e[0])}))},children:"Set"})]})}),(0,o.jsx)("div",{class:"col-md-6",style:{padding:"30px"},children:(0,o.jsxs)("form",{id:"pushToAttendanceregisterForm",children:[(0,o.jsx)("div",{style:{color:"green",fontWeight:"bold",textAlign:"center",fontSize:"15px"},children:"Push to Attendance Register"}),(0,o.jsxs)("div",{class:"mb-3",children:[(0,o.jsx)("textArea",{rows:"1",type:"text",class:"form-control",autoComplete:"off",name:"contact",placeholder:"Enter Registrar's Contact"}),(0,o.jsx)("br",{}),(0,o.jsx)("textArea",{rows:"1",type:"text",class:"form-control",autoComplete:"off",name:"registerId",placeholder:"Enter Register ID"}),(0,o.jsx)("br",{}),(0,o.jsx)("textArea",{rows:"1",type:"text",class:"form-control",autoComplete:"off",name:"property",placeholder:"Enter property e.g Year of entry"}),(0,o.jsx)("br",{}),(0,o.jsx)("textArea",{rows:"1",type:"text",class:"form-control",autoComplete:"off",name:"propertyValue",placeholder:"Property value"})]}),(0,o.jsx)("div",{style:{padding:"5px",fontSize:"15px"},dangerouslySetInnerHTML:{__html:C}}),(0,o.jsxs)("div",{class:"row",children:[(0,o.jsx)("div",{class:"col-6",children:(0,o.jsx)("div",{type:"text",class:"btn btn-success hovereffect",onClick:()=>{A("<div style='color:green;'>Pushing.............</div>"),fetch("/pushToAttendanceRegister",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({registrarContact:parseInt(document.getElementById("pushToAttendanceregisterForm").contact.value),registerId:parseInt(document.getElementById("pushToAttendanceregisterForm").registerId.value)})}).then((e=>e.json())).then((e=>{A(e[0])}))},children:"Push"})}),(0,o.jsx)("div",{class:"col-6",children:(0,o.jsx)("div",{type:"text",class:"btn btn-success hovereffect",onClick:()=>{let e,t=[],s=0;document.getElementById("pushToAttendanceregisterForm").property.value.trim().split(" ").forEach((e=>{0===s?t.push(e):t.push(e.replace(e.charAt(0),e.charAt(0).toUpperCase())),s++})),e=t.join(""),console.log(e),A("<div style='color:green;'>Categorizing.........</div>"),fetch("/categorizeMessagerContacts",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({property:e,propertyValue:document.getElementById("pushToAttendanceregisterForm").propertyValue.value.trim()})}).then((e=>e.json())).then((e=>{A(e[0]),document.getElementById("pushToAttendanceregisterForm").property.value="",document.getElementById("pushToAttendanceregisterForm").propertyValue.value=""}))},children:"Add property"})})]})]})}),(0,o.jsx)("div",{class:"col-md-6",style:{padding:"30px"},children:(0,o.jsxs)("form",{id:"clearanceForm",children:[(0,o.jsx)("div",{style:{color:"green",fontWeight:"bold",textAlign:"center",fontSize:"15px"},children:"Clear All messagees"}),(0,o.jsx)("div",{class:"mb-3",children:(0,o.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"categoryId",placeholder:"Enter category ID to top up"})}),(0,o.jsx)("div",{style:{padding:"5px",fontSize:"15px"},dangerouslySetInnerHTML:{__html:E}}),(0,o.jsx)("div",{style:{borderRadius:"18px"},onClick:()=>{b("<div style='color:red;'>Clearing......</div>"),fetch("/deleteMessageesList",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({categoryId:document.getElementById("clearanceForm").categoryId.value})}).then((e=>e.json())).then((e=>{0===e.category?b("<div style='color:red;'>Institution category doesn't exist...</div>"):1===e.category?(b("<div style='color:green;'>Succesfull</div>"),document.getElementById("clearanceForm").categoryId.value=""):b("<div style='color:green;'>Error must have happened. Confirm</div>")}))},type:"text",class:"btn btn-success hovereffect",children:"Clear messagees"})]})})]}),(0,o.jsx)("hr",{}),(0,o.jsx)("div",{class:"row",children:(0,o.jsx)("div",{style:{padding:"5px",color:"red",textAlign:"center"},children:(0,o.jsxs)("span",{style:{color:"red",fontSize:"20px"},children:[u," messagees in the list"]})})}),(0,o.jsx)("p",{}),(0,o.jsx)("div",{class:"row",style:{fontSize:"17px",textAlign:"center"},dangerouslySetInnerHTML:{__html:v}})]})}const c=r}}]);
//# sourceMappingURL=976.fee28923.chunk.js.map