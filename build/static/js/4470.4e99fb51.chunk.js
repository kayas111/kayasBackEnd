"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4470],{44470:(e,t,a)=>{a.r(t),a.d(t,{PubArticleComp:()=>p,UpdateNumberOfArticleVisits:()=>d,default:()=>u});var i=a(78407),c=a(98289),s=a(35407),n=(a(47890),a(35323)),o=a(65043),l=(a(59978),a(76273)),r=a(70579);c.A.initializeApp({apiKey:"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA",authDomain:"kayas-42321.firebaseapp.com",projectId:"kayas-42321",storageBucket:"kayas-42321.appspot.com"});c.A.storage().ref();function d(e,t){fetch("/updateNumberOfArticleVisits/".concat(e,"/").concat(t)).then(e=>e.json()).then(e=>{})}function p(){let e=(0,n.g)();const[t,a,c]=(0,s.lT)(["user"]);"/pages/pubarticles/article/".concat(e.id);const[p,u]=(0,o.useState)(""),[h,b]=(0,o.useState)(""),[f,w]=(0,o.useState)(""),[g,A]=(0,o.useState)(""),[m,v]=(0,o.useState)(""),[S,k]=(0,o.useState)('<div style="font-size:18px;color:black;background:orange;padding:30px;text-align:center;">Please wait..........<p></p></div>'),[x,y]=(0,o.useState)(""),[j,C]=(0,o.useState)(""),[T,z]=(0,o.useState)(""),[L,O]=(0,o.useState)(""),[U,D]=(0,o.useState)(""),[I,K]=(0,o.useState)(),[P,B]=(0,o.useState)(),[E,F]=(0,o.useState)(i.aq),[N,R]=(0,o.useState)(""),[V,q]=(0,o.useState)(""),[G,J]=(0,o.useState)("");let X=0;"whatsapp://send?text=*".concat(f.trim(),"*%0ASee details below. Tap the link:%0A%0A").concat(window.location.origin,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(g),"whatsapp://send?text=".concat(encodeURIComponent("*".concat(f.trim(),"*%0ASee details below. Tap the link:%0A%0A").concat(window.location.origin,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(g)));try{(0,o.useEffect)(async()=>{await fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(c=>{if(0===c.length)w("This article does not exist or has been deleted."),(0,i.yd)("toastAlert2","Does not exit or has been deleted",3e3),k('<div style="font-size:20px;color:red;">This article does not exist or has been deleted.<p></p></div>');else{fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(async t=>{0===t.length||await fetch("/getAllArticles").then(e=>e.json()).then(async t=>{t.reverse(),0===t.length?F("<div style='color:red;text-align:center;'>These Articles do not exist.</div>"):(B(await(0,i.fX)(t,e.id)),F())})});let s=c[0];D(c[0]),z(c[0].pubArticleOpinions.length),X=1,O(c[0].institution),w(c[0].headline1),A("Created by ".concat(c[0].author)),v("0".concat(c[0].contact)),k(c[0].body),"true"===c[0].verified&&q('<span class="fa fa-check"></span>'),void 0===c[0].visits?u(0):u(c[0].visits),void 0===s.imageDownLoadUrl||J(s.imageDownLoadUrl),(0,i.ck)(s.contact).then(e=>{1==e.permissionTokensObj.displayArticlesAtFreeCost?d(s.id,1):t.user?(0,i.ck)(t.user.contact).then(e=>{let t=e;t.accBal<l.Lz?1==window.confirm('Your Kayas account balance is low. Click "OK" to top up atleast '.concat(l.Lz,"/= and be able to read this information."))?window.location.href="/pages/deposit":window.location.href="/pages/pubarticles/allarticles":t.contact==s.contact||((0,i.Ub)(t.contact,l.Lz),d(s.id,1))}):setTimeout(()=>{1==window.confirm("Click 'OK' to login and be able to read this information.")?(0,i.G5)(t,a):window.location.href="/pages/pubarticles/allarticles"},1e3)})}})},[e.id])}catch(Y){}return(0,r.jsxs)("div",{class:"componentPadding",children:[P,(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-3"}),(0,r.jsx)("div",{class:"col-md-6"}),(0,r.jsx)("div",{class:"col-md-3"})]}),(0,r.jsx)("div",{class:"row",children:E})]})}const u=p}}]);
//# sourceMappingURL=4470.4e99fb51.chunk.js.map