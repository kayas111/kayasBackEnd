{"version":3,"file":"static/js/604.ff695dee.chunk.js","mappings":"sLAoBO,SAASA,IACZ,MAAMC,EAASC,IAAaC,EAAAA,EAAAA,WAASC,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACC,QAAQ,OAAOC,SAAS,OAAOC,MAAM,QAAQC,UAAU,UAAUC,SAAC,iCA+B/G,OA5BRC,EAAAA,EAAAA,YAAU,KACVC,MAAM,mBAAmBC,MAAKC,GAAKA,EAAIC,SAAQF,MAAKG,IAC/Cd,EAAYc,EAAKC,KAAKC,IAEvBd,EAAAA,EAAAA,KAAA,OAAKe,MAAM,WAAWC,QAASA,KAC7BC,OAAOC,SAASC,KAAK,8BAADC,OAA+BN,EAAcO,GAAI,EACrEf,UAACN,EAAAA,EAAAA,KAAA,OAAKe,MAAM,8BAA6BT,UAE5CgB,EAAAA,EAAAA,MAAA,OAAKP,MAAO,2DAA0DT,SAAA,EACtEN,EAAAA,EAAAA,KAAA,OAAKe,MAAM,gCAA+BT,SAAEQ,EAAcS,eACzDvB,EAAAA,EAAAA,KAAA,OAAKe,MAAM,6BAA4BT,SAAEQ,EAAcU,aACvDF,EAAAA,EAAAA,MAAA,OAAKP,MAAM,mCAAkCT,SAAA,EAC/BgB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,CAAMQ,EAAcW,OAAO,WAASX,EAAcY,mBAAmBC,OAAO,sBAAoBb,EAAcO,OAC9GC,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,CAAK,cAAYQ,EAAcc,OAAO,KAAGd,EAAce,uBAOjE,GAGN,GAEA,KAGa7B,EAAAA,EAAAA,KAAA,OAAAM,UAEdN,EAAAA,EAAAA,KAAA,OAAKe,MAAM,MAAKT,SAAET,KAEb,CAEP,S,4GC/CAiC,EAAAA,EAASC,cAAc,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,UAAW,cACXC,cAAe,4BAGHL,EAAAA,EAASM,UACFC,MAGd,SAASC,IACd,MAAOC,EAAaC,IAAiBzC,EAAAA,EAAAA,UAAS,KACvC0C,EAAcC,IAAkB3C,EAAAA,EAAAA,UAAS,IAChD,OACEuB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEN,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAACC,QAAQ,OAAOI,UAC5BgB,EAAAA,EAAAA,MAAA,OAAKP,MAAM,iCAAgCT,SAAA,EACzCN,EAAAA,EAAAA,KAAA,OAAMC,MAAO,CAACI,UAAU,UAAUC,SAAEiC,KAGpCvC,EAAAA,EAAAA,KAAA,OAAAM,UACEN,EAAAA,EAAAA,KAAA,SAAOqB,GAAG,qBAAqBN,MAAM,kBAAkB4B,YAAY,sBACjEC,UAAYC,IACC,UAAZA,EAAMC,KAA6B,gBAAZD,EAAMC,MACxCN,GAAgBlB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EAAKN,EAAAA,EAAAA,KAAA,QAAMC,MAAO,CAACE,SAAS,MAAM4C,OAAO,OAAOC,MAAM,QAASjC,MAAM,iBAAiBkC,KAAK,SAAQ3C,SAAC,MAAQ,KAACN,EAAAA,EAAAA,KAAA,QAAAM,SAAM,uBAEzH4C,EAAAA,EAAMC,KAAK,qBAAqB,CAC9BC,mBAAmBC,SAASC,cAAc,uBAAuBC,QAChE9C,MAAKG,IACN4C,QAAQC,IAAI7C,GACU,IAAnBA,EAAK8C,KAAK/B,SACXgC,EAAAA,EAAAA,IAAW,cAAc,aAAa,KACtCnB,EAAgB,IAChBE,EAAiB,OAEjBiB,EAAAA,EAAAA,IAAW,cAAc,aAAa,KACtCnB,EAAgB,IAChBE,GAAiBkB,EAAAA,EAAAA,IAAahD,EAAK8C,OACrC,IAIJ,YAaN1D,EAAAA,EAAAA,KAAA,OAAAM,SAAOmC,MAGX,CAEO,SAASoB,EAAYC,GAC1B,IAAIC,EAAO,CAAC7D,QAAQ,OAElB,OACFoB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,OAAKrB,MAAO,CAAC+D,WAAW,MAAMC,QAAQ,OAAOC,SAAS,QAAQ5D,SAAA,EAC5DN,EAAAA,EAAAA,KAAA,OAAKC,MAAO8D,EAAOzD,UAACN,EAAAA,EAAAA,KAAA,OAAKe,MAAM,UAAUC,QAASA,KAC1CC,OAAOC,SAASC,KAAK,kCAAkC,EACvDb,UAACgB,EAAAA,EAAAA,MAAA,QAAMP,MAAM,cAAaT,SAAA,EAACN,EAAAA,EAAAA,KAAA,QAAMe,MAAM,eAAoB,uBACnEO,EAAAA,EAAAA,MAAA,OAAKrB,MAAO8D,EAAOzD,SAAA,EAACN,EAAAA,EAAAA,KAAA,OAAKe,MAAM,UAAUC,QAASA,KACxD,IAAImD,EAAIlD,OAAOmD,OAAO,2CACtBC,EAAAA,EAAAA,IAAyBP,EAAMQ,qBAAqBH,GAAK1D,MAAKG,IAC5D,IAAc,IAAXA,EAAKuD,KAENR,EAAAA,EAAAA,IAAW,cAAc,cAAc,SACpC,CACL,MAAMY,GAAWlC,EAAAA,EAAAA,KAAImC,EAAAA,EAAAA,MAAa,oCAADpD,OAAsC0C,EAAMW,aAC7EC,EAAAA,EAAAA,IAAaH,GAAU9D,MAAK,KAC5BD,MAAM,iBAAiB,CACrBmE,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAU,CAClBN,UAAUO,SAASlB,EAAMW,eAG5BhE,MAAKG,GAAMA,EAAKD,SAAQF,MAAKG,IAChCK,OAAOC,SAASC,KAAK,8BAADC,OAA+B0C,EAAMW,UAAW,GAClE,IACCQ,OAAOC,IACP1E,MAAM,iBAAiB,CACtBmE,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAU,CAClBN,UAAUO,SAASlB,EAAMW,eAG5BhE,MAAKG,GAAMA,EAAKD,SAAQF,MAAKG,IAChCK,OAAOC,SAASC,KAAK,8BAADC,OAA+B0C,EAAMW,UAAW,GAClE,GAQA,IACA,EAKYnE,UAACgB,EAAAA,EAAAA,MAAA,QAAMP,MAAM,cAAaT,SAAA,EAACN,EAAAA,EAAAA,KAAA,QAAMe,MAAM,gBAAqB,eAAoB,SACxFf,EAAAA,EAAAA,KAAA,OAAKC,MAAO8D,EAAOzD,UAACN,EAAAA,EAAAA,KAAA,OAAKe,MAAM,UAAUC,QAASA,KAC1CC,OAAOC,SAASC,KAAK,qCAAqC,EAC1Db,UAEdN,EAAAA,EAAAA,KAAA,QAAMe,MAAM,cAAaT,SAAC,oBAY1BN,EAAAA,EAAAA,KAAA,OAAAM,UAAKN,EAAAA,EAAAA,KAACsC,EAAoB,QAKxB,C","sources":["pages/pubarticles/AllArticles.js","pages/pubarticles/PubArticleHome.js"],"sourcesContent":["\r\n\r\n\r\nimport 'firebase/compat/storage';\r\n\r\nimport { ArticlesNav } from './PubArticleHome';\r\nimport React, {useEffect,useState} from 'react';\r\n\r\n\r\n// firebase.initializeApp({\r\n//   apiKey: \"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA\",\r\n//   authDomain: \"kayas-42321.firebaseapp.com\",\r\n//   projectId: \"kayas-42321\",\r\n//   storageBucket: \"kayas-42321.appspot.com\"\r\n\r\n// })\r\n// const storage=firebase.storage()\r\n// const bucket=storage.ref()\r\n\r\n\r\nexport function AllArticles(){\r\n    const[articles,setArticles]=useState(<div style={{padding:\"40px\",fontSize:\"15px\",color:\"green\",textAlign:\"center\"}}>\r\n       More stories loading.......\r\n       </div>)\r\n useEffect(()=>{\r\n fetch('/getAllArticles').then(res=>res.json()).then(resp=>{\r\n      setArticles(resp.map((articleObject)=>{\r\n     return(\r\n     <div class=\"col-md-4\" onClick={()=>{\r\n       window.location.href=`/pages/pubarticles/article/${articleObject.id}`\r\n     }}><div class=\"pubArticleListItemContainer\">\r\n       \r\n    <div class =\"pubArticleListItemContainer2 backgroundColorHoverEffect3\">\r\n    <div class=\"pubArticleListItemInstitution\">{articleObject.institution}</div>\r\n     <div class=\"pubArticleListItemHeadline\">{articleObject.headline1}</div>\r\n     <div class=\"pubArticleListItemViewsAndVisits\">\r\n                   <div>{articleObject.visits} views, {articleObject.pubArticleOpinions.length} comments, Article {articleObject.id}</div>\r\n                   <div>Created by {articleObject.author} 0{articleObject.contact}</div>\r\n                   </div>\r\n \r\n     \r\n    </div>\r\n     </div></div>\r\n     \r\n     )}))\r\n \r\n \r\n })\r\n \r\n },[])\r\n \r\n \r\n         return(<div>\r\n          \r\n  <div class=\"row\">{articles}</div>\r\n       </div>)\r\n       }\r\n\r\nexport default AllArticles","import { VerifyRegistrationAndPin,ToastAlert,ListArticles } from '../Functions';\nimport firebase from 'firebase/compat/app';\n\nimport { getStorage, ref, deleteObject } from \"firebase/storage\";\nimport 'firebase/compat/storage';\n\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport React, {useEffect,useState} from 'react';\n\nimport axios from 'axios'\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA\",\n  authDomain: \"kayas-42321.firebaseapp.com\",\n  projectId: \"kayas-42321\",\n  storageBucket: \"kayas-42321.appspot.com\"\n\n})\nconst storage=firebase.storage()\nconst bucket=storage.ref()\n\n\nexport function PubArticleSearchComp(){\n  const [searchStatus,setSearchStatus]=useState('')\n  const [searchResults,setSearchResults]=useState('')\n  return(\n    <div>\n      <div style={{padding:\"5px\"}}>\n      <div class=\"PubArticleSearchCompContainer1\">\n        <div  style={{textAlign:\"center\"}}>{searchStatus}</div>\n      \n\n        <div>\n          <input id=\"articleSearchValue\" class=\"searchInputTag1\" placeholder='Search for articles'\n            onKeyDown={(event)=>{\n          if(event.key==='Enter' || event.key==='NumpadEnter'){\n  setSearchStatus(<div><span style={{fontSize:\"2px\",height:\"15px\",width:\"15px\"}} class=\"spinner-border\" role=\"status\"> </span> <span>Searching.....</span></div>)\n                  \n            axios.post('/searchForArticles',{\n              articleSearchValue:document.querySelector('#articleSearchValue').value\n            }).then(resp=>{\n              console.log(resp)\n              if(resp.data.length===0){\n                ToastAlert('toastAlert2','No results',3000);\n                setSearchStatus('')\n                setSearchResults('')\n              } else{\n                ToastAlert('toastAlert1','Successful',3000);\n                setSearchStatus('')\n                setSearchResults(ListArticles(resp.data))\n              }\n            })  \n          }else{\n\n          }\n        \n          \n          \n                  }}\n        \n        ></input>\n        </div>\n   \n       \n\n      </div>\n    </div>\n    <div >{searchResults}</div>\n    </div>\n  )\n}\n\nexport function ArticlesNav(props){\n  let style2={padding:\"5px\"}\n  \n    return(\n  <div>\n    <div style={{paddingTop:\"8px\",display:\"flex\",flexWrap:\"wrap\"}}>\n      <div style={style2}><div class=\"button1\" onClick={()=>{\n              window.location.href=`/pages/pubarticles/createarticle`\n            }}><span class=\"hovereffect\"><span class=\"fa fa-plus\"></span> New article</span></div></div>\n      <div style={style2}><div class=\"button1\" onClick={()=>{\nlet pin=window.prompt('Enter your PIN to delete this article.');\nVerifyRegistrationAndPin(props.articleAuthorContact,pin).then(resp=>{\n  if(resp.pin===false){\n    \n    ToastAlert('toastAlert2','Not allowed',3000)\n  }else{\n  const imageRef = ref(getStorage(), `pubArticleImages/pubArticleImage_${props.articleId}`);\n  deleteObject(imageRef).then(() => {\n  fetch('/deleteArticle',{\n    method:\"post\",\n    headers:{'Content-type':'application/json'},\n    body:JSON.stringify({\n      articleId:parseInt(props.articleId)\n\n    }) \n}).then(resp=>resp.json()).then(resp=>{\nwindow.location.href=`/pages/pubarticles/article/${props.articleId}`\n})\n}).catch((error) => {\n   fetch('/deleteArticle',{\n    method:\"post\",\n    headers:{'Content-type':'application/json'},\n    body:JSON.stringify({\n      articleId:parseInt(props.articleId)\n\n    }) \n}).then(resp=>resp.json()).then(resp=>{\nwindow.location.href=`/pages/pubarticles/article/${props.articleId}`\n})\n\n });\n \n\n  \n\n\n  }\n})\n\n\n            \n\n            }}><span class=\"hovereffect\"><span class=\"fa fa-minus\"></span> Delete</span></div>  </div>\n      <div style={style2}><div class=\"button1\" onClick={()=>{\n              window.location.href=`/pages/pubarticles/assessmyarticles`\n            }}>\n     \n<span class=\"hovereffect\"> Assess</span>\n</div></div>\n\n          \n        \n            \n            \n            \n            \n            </div>\n\n\n<div><PubArticleSearchComp/></div>\n\n            </div>\n  \n    )\n  }\nexport function PubArticleCompHome(){\n    return(\n        <div>\n            <div style={{color:\"red\",fontSize:\"25px\",textAlign:\"center\"}}>Kayas Articles</div>\n            \n            \n    \n        </div>\n        )\n}\n\n\n\n\n\n\n   "],"names":["AllArticles","articles","setArticles","useState","_jsx","style","padding","fontSize","color","textAlign","children","useEffect","fetch","then","res","json","resp","map","articleObject","class","onClick","window","location","href","concat","id","_jsxs","institution","headline1","visits","pubArticleOpinions","length","author","contact","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","storage","ref","PubArticleSearchComp","searchStatus","setSearchStatus","searchResults","setSearchResults","placeholder","onKeyDown","event","key","height","width","role","axios","post","articleSearchValue","document","querySelector","value","console","log","data","ToastAlert","ListArticles","ArticlesNav","props","style2","paddingTop","display","flexWrap","pin","prompt","VerifyRegistrationAndPin","articleAuthorContact","imageRef","getStorage","articleId","deleteObject","method","headers","body","JSON","stringify","parseInt","catch","error"],"sourceRoot":""}