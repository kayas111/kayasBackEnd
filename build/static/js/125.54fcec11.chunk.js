"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[125],{8125:(e,o,t)=>{t.r(o),t.d(o,{RequestFoodDelivery:()=>a,default:()=>d});var s=t(5043),r=t(5407),n=t(7638),l=t(396),i=t(579);function a(){const[e]=(0,r.lT)(["user"]),[o,t]=(0,s.useState)(""),[a,d]=(0,s.useState)("");return(0,s.useEffect)((()=>{!1===(0,n.Qb)(e)&&(window.alert("Please log in first."),window.location.href="/pages/fooddelivery/fooddeliveryhome")}),[]),(0,i.jsxs)("div",{style:{padding:"5px"},class:"row",children:[(0,i.jsx)("div",{class:"col-md-3"}),(0,i.jsxs)("div",{class:"col-md-6",children:[(0,i.jsx)("div",{class:"pageLabel",children:"Request for delivery"}),(0,i.jsx)("p",{}),(0,i.jsxs)("form",{method:"post",id:"requestFoodDeliveryForm",children:[(0,i.jsxs)("div",{class:"mb-3",children:[(0,i.jsx)("div",{class:"formInputLabel",children:"What food do you want?"}),(0,i.jsx)("textarea",{rows:2,type:"text",class:"form-control",autoComplete:"off",name:"desc"}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{class:"formInputLabel",children:"Your location or hostel of residence"}),(0,i.jsx)("textArea",{rows:2,type:"text",class:"form-control",autoComplete:"off",name:"location"}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{class:"formInputLabel",children:"Room number"}),(0,i.jsx)("input",{type:"text",class:"form-control",autoComplete:"off",name:"room"}),(0,i.jsx)("br",{})]}),(0,i.jsx)("div",{style:{fontSize:"14px",textAlign:"center",color:"orange",fontWeight:"600"},dangerouslySetInnerHTML:{__html:o}}),(0,i.jsxs)("div",{onClick:()=>{Array.from(document.getElementById("requestFoodDeliveryForm").desc.value.trim()).length<2?((0,n.yd)("toastAlert2","Describe what food you want",4e3),t("Your delivery will arrive in less than 15 minutes, please stay in your location. Comment on the food after eating using the form below. Thank you.")):Array.from(document.getElementById("requestFoodDeliveryForm").location.value.trim()).length<2?(0,n.yd)("toastAlert2","Fill in your location",3e3):Array.from(document.getElementById("requestFoodDeliveryForm").room.value.trim()).length<1?(0,n.yd)("toastAlert2","Fill in the room number or type no room number",5e3):(t("Sending request........"),fetch("/getControls").then((e=>e.json())).then((o=>{let s=o[0];if(!1===s.foodDeliveryControls.deliveryServiceIsOn)t(s.foodDeliveryControls.foodDeliveryServiceNotice);else if(!0===window.confirm("You will be charged 500/= or 1,000/= as a delivery fee, tap 'OK' to proceed.")){let o=document.getElementById("requestFoodDeliveryForm"),s={name:e.user.name,contact:e.user.contact,desc:o.desc.value.trim(),location:o.location.value.trim(),room:o.room.value.trim()};fetch("/requestFoodDelivery",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(s)}).then((e=>e.json())).then((e=>{t(e.msg)}))}else t("You cancelled the request.")})))},class:"form-submit-btn backgroundColorHovereffect",children:[(0,i.jsx)("span",{class:"fa fa-envelope"})," Request"]}),(0,i.jsx)("p",{})]}),(0,i.jsx)("p",{}),(0,i.jsxs)("form",{method:"post",id:"foodCommentForm",children:[(0,i.jsx)("div",{class:"formLabel",children:"Comment on the food/service"}),(0,i.jsx)("p",{}),(0,i.jsxs)("div",{class:"mb-3",children:[(0,i.jsx)("div",{class:"formInputLabel",children:"How was the food/service?"}),(0,i.jsx)("textarea",{rows:4,type:"text",class:"form-control",autoComplete:"off",name:"comment"})]}),(0,i.jsx)("div",{style:{fontSize:"14px",textAlign:"center",color:"orange",fontWeight:"600"},dangerouslySetInnerHTML:{__html:a}}),(0,i.jsxs)("div",{onClick:()=>{if(Array.from(document.getElementById("foodCommentForm").comment.value.trim()).length<2)(0,n.yd)("toastAlert2","Type a comment",4e3);else{d("Sending comment......");let o=document.getElementById("foodCommentForm"),t={name:e.user.name,contact:e.user.contact,comment:o.comment.value.trim()};fetch("/foodDeliveryComment",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{d(e.msg)}))}},class:"form-submit-btn backgroundColorHovereffect",children:[(0,i.jsx)("span",{class:"fa fa-envelope"})," Send comment"]}),(0,i.jsx)("p",{})]}),(0,i.jsx)("div",{style:{fontSize:"20px",paddingTop:"18px"},children:"Did you know?"}),(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:l,class:" d-block w-100",alt:"..."})})]}),(0,i.jsx)("div",{class:"col-md-3"})]})}const d=a},396:(e,o,t)=>{e.exports=t.p+"static/media/bnplImage1.ccf5881ef6452db0ff1b.jpg"}}]);
//# sourceMappingURL=125.54fcec11.chunk.js.map