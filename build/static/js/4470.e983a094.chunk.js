"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4470],{44470:(e,t,s)=>{s.r(t),s.d(t,{PubArticleComp:()=>h,UpdateNumberOfArticleVisits:()=>p,default:()=>x});var i=s(66756),a=s(98289),n=s(35407),c=(s(47890),s(35323)),l=s(65043),o=s(59978),d=s(76273),r=s(70579);a.A.initializeApp({apiKey:"AIzaSyCf0LC-eL1pJ2Rpvh59ukbg5OUFm6IcrEA",authDomain:"kayas-42321.firebaseapp.com",projectId:"kayas-42321",storageBucket:"kayas-42321.appspot.com"});a.A.storage().ref();function p(e,t){fetch("/updateNumberOfArticleVisits/".concat(e,"/").concat(t)).then(e=>e.json()).then(e=>{})}function h(){let e=(0,c.g)();const[t,s,a]=(0,n.lT)(["user"]);"/pages/pubarticles/article/".concat(e.id);const[h,x]=(0,l.useState)(""),[u,g]=(0,l.useState)(""),[f,j]=(0,l.useState)(""),[v,y]=(0,l.useState)(""),[w,b]=(0,l.useState)(""),[A,m]=(0,l.useState)('<div style="font-size:18px;color:black;background:orange;padding:30px;text-align:center;">Please wait..........<p></p></div>'),[S,k]=(0,l.useState)(""),[C,T]=(0,l.useState)(""),[z,L]=(0,l.useState)(""),[I,O]=(0,l.useState)(""),[U,B]=(0,l.useState)(""),[K,D]=(0,l.useState)(),[_,H]=(0,l.useState)((0,r.jsxs)("div",{style:{padding:"15px",fontSize:"15px",textAlign:"center",color:"black"},children:[(0,r.jsxs)("span",{style:{fontSize:"8px",padding:"20px"},class:"spinner-border",role:"status",children:[" ",(0,r.jsx)("span",{style:{opacity:"0"},children:"."})," "]})," ",(0,r.jsx)("span",{style:{paddingBottom:"18px"},children:"More stories loading......."})]})),[M,P]=(0,l.useState)(""),[V,E]=(0,l.useState)(""),[F,N]=(0,l.useState)("");let R=0,G=("whatsapp://send?text=*".concat(f.trim(),"*%0ASee details below. Tap the link:%0A%0A").concat(window.location.origin,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(v),{padding:"5px"}),J="whatsapp://send?text=".concat(encodeURIComponent("*".concat(f.trim(),"*%0ASee details below. Tap the link:%0A%0A").concat(window.location.origin,"/pages/pubarticles/article/").concat(e.id,"%0A%0A").concat(v)));try{(0,l.useEffect)(async()=>{await fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(e=>{if(0===e.length)j("This article does not exist or has been deleted."),(0,i.yd)("toastAlert2","Does not exit or has been deleted",3e3),m('<div style="font-size:20px;color:red;">This article does not exist or has been deleted.<p></p></div>');else{let a=e[0];B(e[0]),L(e[0].pubArticleOpinions.length),R=1,O(e[0].institution),j(e[0].headline1),y("Created by ".concat(e[0].author)),b("0".concat(e[0].contact)),m(e[0].body),"true"===e[0].verified&&E('<span class="fa fa-check"></span>'),void 0===e[0].visits?x(0):x(e[0].visits),void 0===a.imageDownLoadUrl||N(a.imageDownLoadUrl),(0,i.ck)(a.contact).then(e=>{1==e.permissionTokensObj.displayArticlesAtFreeCost?p(a.id,1):t.user?(0,i.ck)(t.user.contact).then(e=>{let t=e;t.accBal<d.Lz?1==window.confirm('Your Kayas account balance is low. Click "OK" to top up atleast '.concat(d.Lz,"/= and be able to read this information."))?window.location.href="/pages/deposit":window.location.href="/pages/pubarticles/allarticles":t.contact==a.contact||((0,i.Ub)(t.contact,d.Lz),p(a.id,1))}):setTimeout(()=>{1==window.confirm("Click 'OK' to login and be able to read this information.")?(0,i.G5)(t,s):window.location.href="/pages/pubarticles/allarticles"},1e3)})}}),await fetch("/pubarticle/".concat(e.id)).then(e=>e.json()).then(async t=>{0===t.length||await fetch("/getAllArticles").then(e=>e.json()).then(async t=>{t.reverse(),0===t.length?H("<div style='color:red;text-align:center;'>These Articles do not exist.</div>"):H(await(0,i.fX)(t,e.id))})})},[e.id])}catch(W){}return(0,r.jsxs)("div",{class:"componentPadding",children:[(0,r.jsxs)("div",{class:"row",children:[(0,r.jsx)("div",{class:"col-md-3"}),(0,r.jsx)("div",{class:"col-md-6",children:(0,r.jsx)("div",{class:"articleContainer",children:(0,r.jsxs)("div",{class:"articleContainer2",children:[(0,r.jsx)("div",{style:{paddingBottom:"0px",textAlign:"left"},children:(0,r.jsxs)("span",{style:{color:"grey",fontSize:"11px"},children:["Article ",e.id,"/",h]})}),(0,r.jsx)(o.dV,{articleAuthorContact:w,articleId:e.id}),(0,r.jsx)("div",{class:"articleHeadline",children:f}),(0,r.jsxs)("div",{style:{paddingBottom:"3px"},children:[(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,r.jsx)("div",{style:G,children:(0,r.jsxs)("div",{class:"button1",onClick:()=>{window.location.href=J},children:[(0,r.jsx)("span",{class:"fa fa-whatsapp"})," Share article"]})}),(0,r.jsx)("div",{style:G,children:(0,r.jsx)("div",{})})]}),(0,r.jsx)("div",{style:{padding:"5px"},children:(0,r.jsxs)("div",{class:"light",children:["  ",v,"  ",w," ",(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:V}}),(0,r.jsx)("div",{children:I})]})})]}),(0,r.jsx)("div",{style:{paddingTop:"2px"},children:(0,r.jsx)("img",{src:F,class:" d-block w-100"})}),(0,r.jsxs)("div",{style:{paddingTop:"5px",fontSize:"14px"},children:[(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:A}}),(0,r.jsx)("div",{children:"Always keep it Kayas."}),(0,r.jsx)("p",{})]})]})})}),(0,r.jsx)("div",{class:"col-md-3"})]}),(0,r.jsx)("div",{class:"row",children:_})]})}const x=h}}]);
//# sourceMappingURL=4470.e983a094.chunk.js.map